{"version":3,"file":"index.js","sources":["../node_modules/@lingui/react/esm/index.js","../src/utils/JsonRpcConnector.ts","../src/hooks/useActiveWeb3React.tsx","../src/constants/chains.ts","../src/utils/constructSameAddressMap.ts","../src/constants/addresses.ts","../src/constants/tokens.ts","../src/hooks/useIsWindowVisible.ts","../src/hooks/useBlockNumber.tsx","../src/utils/index.ts","../src/hooks/useContract.ts","../src/state/multicall.tsx","../src/hooks/multicall.ts","../src/hooks/useCurrencyBalance.ts","../src/hooks/useNativeCurrency.ts","../src/utils/isZero.ts","../src/utils/safeNamehash.ts","../src/hooks/useDebounce.ts","../src/hooks/useENSAddress.ts","../src/hooks/useGasPrice.ts","../src/utils/tryParseCurrencyAmount.ts","../src/constants/misc.ts","../src/utils/isTradeBetter.ts","../src/constants/routing.ts","../src/hooks/useAllCurrencyCombinations.ts","../src/hooks/useV2Pairs.ts","../src/hooks/useBestV2Trade.ts","../src/state/routing/types.ts","../src/hooks/usePools.ts","../src/hooks/useV3SwapPools.ts","../src/hooks/useAllV3Routes.ts","../src/hooks/useClientSideV3Trade.ts","../src/hooks/useUSDCPrice.ts","../src/hooks/useAutoSlippageTolerance.ts","../src/state/atoms.ts","../src/state/settings.ts","../src/hooks/useSlippage.ts","../src/utils/computeFiatValuePriceImpact.tsx","../src/utils/prices.ts","../src/hooks/useUSDCPriceImpact.ts","../src/state/swap.ts","../src/hooks/useLast.ts","../src/state/routing/utils.ts","../src/hooks/swap/useWrapCallback.tsx","../src/hooks/useIsValidBlock.ts","../src/hooks/usePoll.ts","../src/hooks/routing/useRoutingAPIArguments.ts","../src/hooks/routing/useClientSideSmartOrderRouterTrade.ts","../src/hooks/swap/useBestTrade.ts","../src/hooks/swap/useSwapInfo.tsx","../src/hooks/swap/useSyncConvenienceFee.ts","../src/utils/resolveENSContentHash.ts","../src/utils/contenthashToUri.ts","../src/utils/parseENSAddress.ts","../src/utils/uriToHttp.ts","../src/hooks/useTokenList/validateTokenList.ts","../src/hooks/useTokenList/fetchTokenList.ts","../src/state/lists/wrappedTokenInfo.ts","../src/hooks/useTokenList/utils.ts","../src/hooks/useTokenList/filtering.ts","../src/hooks/useTokenList/sorting.ts","../src/hooks/useTokenList/useQueryTokens.ts","../src/hooks/useTokenList/index.tsx","../src/hooks/useCurrency.ts","../src/hooks/useOnSupportedNetwork.ts","../src/hooks/swap/useSyncTokenDefaults.ts","../src/state/transactions.ts","../src/utils/retry.ts","../src/hooks/transactions/updater.tsx","../src/hooks/transactions/index.tsx","../src/hooks/useHasFocus.ts","../src/assets/svg/auto_router.svg","../src/assets/svg/check.svg","../src/assets/svg/expando.svg","../src/assets/svg/inline_spinner.svg","../src/assets/svg/logo.svg","../src/assets/svg/spinner.svg","../src/assets/svg/wallet.svg","../src/css/loading.ts","../src/icons/index.tsx","../src/theme/dynamic.tsx","../src/theme/layer.ts","../src/theme/type.tsx","../src/theme/index.tsx","../src/utils/animations.ts","../src/components/Button.tsx","../src/components/Column.tsx","../src/components/Row.tsx","../src/components/Header.tsx","../src/components/Rule.tsx","../src/components/Dialog.tsx","../src/components/Popover.tsx","../src/components/Wallet.tsx","../src/hooks/swap/index.ts","../src/assets/images/ethereum-logo.png","../src/assets/svg/matic-token-icon.svg","../src/hooks/useENSContentHash.ts","../src/hooks/useHttpLocations.ts","../src/hooks/useCurrencyLogoURIs.ts","../src/hooks/useCurrencyColor.ts","../src/constants/locales.ts","../src/utils/formatLocaleNumber.ts","../src/utils/formatCurrencyAmount.ts","../src/utils/maxAmountSpend.ts","../src/assets/missing-token-image.png","../src/components/TokenImg.tsx","../src/components/Input.tsx","../node_modules/messageformat-parser/parser.js","../node_modules/@lingui/core/esm/index.js","../src/components/TokenSelect/NoTokensAvailableOnNetwork.tsx","../src/components/TokenSelect/TokenButton.tsx","../src/hooks/useNativeEvent.ts","../src/hooks/useScrollbar.ts","../src/utils/currencyId.ts","../src/components/TokenSelect/TokenOptions.tsx","../src/components/TokenSelect/TokenOptionsSkeleton.tsx","../src/components/TokenSelect/index.tsx","../src/components/Swap/TokenInput.tsx","../src/components/Swap/Input.tsx","../src/components/ExternalLink.tsx","../src/components/BrandedFooter.tsx","../src/components/Swap/Output.tsx","../src/components/Swap/ReverseButton.tsx","../src/hooks/useHasHover.ts","../src/components/Tooltip.tsx","../src/components/Swap/Settings/components.tsx","../src/components/Swap/Settings/MaxSlippageSelect.tsx","../src/hooks/useTransactionDeadline.ts","../src/components/Swap/Settings/TransactionTtlInput.tsx","../src/components/Swap/Settings/index.tsx","../src/components/ActionButton.tsx","../src/components/Expando.tsx","../src/components/Error/ErrorDialog.tsx","../src/utils/getExplorerLink.ts","../src/components/EtherscanLink.tsx","../src/components/Swap/Price.tsx","../src/components/Swap/Summary/Summary.tsx","../src/hooks/useInterval.ts","../src/components/Swap/Status/StatusDialog.tsx","../src/assets/svg/dot_line.svg","../src/components/Swap/RoutingDiagram/utils.ts","../src/components/Swap/RoutingDiagram/index.tsx","../src/components/Swap/Toolbar/Caption.tsx","../src/components/Swap/Toolbar/index.tsx","../src/errors.ts","../src/components/Swap/useValidate.tsx","../src/components/Swap/index.tsx","../src/i18n.tsx","../src/components/Error/ErrorBoundary.tsx","../src/components/Widget.tsx","../src/index.tsx"],"sourcesContent":["import {\n  I18nProvider as devI18nProvider, Trans as devTrans, useLingui as devuseLingui, withI18n as devwithI18n\n} from \"./react.development.js\"\n\nimport {\n  I18nProvider as I18nProviderProd, Trans as TransProd, useLingui as useLinguiProd, withI18n as withI18nProd\n} from \"./react.production.min.js\"\n\nexport const I18nProvider = process.env.NODE_ENV === \"production\" ? I18nProviderProd : devI18nProvider;\nexport const Trans = process.env.NODE_ENV === \"production\" ? TransProd : devTrans;\nexport const useLingui = process.env.NODE_ENV === \"production\" ? useLinguiProd : devuseLingui;\nexport const withI18n = process.env.NODE_ENV === \"production\" ? withI18nProd : devwithI18n;","import { JsonRpcProvider } from '@ethersproject/providers'\nimport { Actions, Connector, ProviderConnectInfo, ProviderRpcError } from '@web3-react/types'\n\nfunction parseChainId(chainId: string) {\n  return Number.parseInt(chainId, 16)\n}\n\nexport default class JsonRpcConnector extends Connector {\n  constructor(actions: Actions, public customProvider: JsonRpcProvider) {\n    super(actions)\n    customProvider\n      .on('connect', ({ chainId }: ProviderConnectInfo): void => {\n        this.actions.update({ chainId: parseChainId(chainId) })\n      })\n      .on('disconnect', (error: ProviderRpcError): void => {\n        this.actions.reportError(error)\n      })\n      .on('chainChanged', (chainId: string): void => {\n        this.actions.update({ chainId: parseChainId(chainId) })\n      })\n      .on('accountsChanged', (accounts: string[]): void => {\n        this.actions.update({ accounts })\n      })\n  }\n\n  async activate() {\n    this.actions.startActivation()\n\n    try {\n      const [{ chainId }, accounts] = await Promise.all([\n        this.customProvider.getNetwork(),\n        this.customProvider.listAccounts(),\n      ])\n      this.actions.update({ chainId, accounts })\n    } catch (e) {\n      this.actions.reportError(e)\n    }\n  }\n}\n","import { ExternalProvider, JsonRpcProvider, Web3Provider } from '@ethersproject/providers'\nimport { initializeConnector, Web3ReactHooks } from '@web3-react/core'\nimport { EIP1193 } from '@web3-react/eip1193'\nimport { EMPTY } from '@web3-react/empty'\nimport { Connector, Provider as Eip1193Provider } from '@web3-react/types'\nimport { Url } from '@web3-react/url'\nimport { createContext, PropsWithChildren, useContext, useEffect, useMemo } from 'react'\nimport JsonRpcConnector from 'utils/JsonRpcConnector'\n\ntype Web3ContextType = {\n  connector: Connector\n  library?: (JsonRpcProvider & { provider?: ExternalProvider }) | Web3Provider\n  chainId?: ReturnType<Web3ReactHooks['useChainId']>\n  accounts?: ReturnType<Web3ReactHooks['useAccounts']>\n  account?: ReturnType<Web3ReactHooks['useAccount']>\n  active?: ReturnType<Web3ReactHooks['useIsActive']>\n  activating?: ReturnType<Web3ReactHooks['useIsActivating']>\n  error?: ReturnType<Web3ReactHooks['useError']>\n}\n\nconst [EMPTY_CONNECTOR, EMPTY_HOOKS] = initializeConnector<Connector>(() => EMPTY)\nconst EMPTY_STATE = { connector: EMPTY_CONNECTOR, hooks: EMPTY_HOOKS }\nconst EMPTY_CONTEXT: Web3ContextType = { connector: EMPTY }\nconst Web3Context = createContext(EMPTY_CONTEXT)\n\nexport default function useActiveWeb3React() {\n  return useContext(Web3Context)\n}\n\ninterface ActiveWeb3ProviderProps {\n  accounts: string[]\n  jsonRpcEndpoint?: string | JsonRpcProvider\n  provider?: Eip1193Provider | JsonRpcProvider\n}\n\nexport function ActiveWeb3Provider({\n  jsonRpcEndpoint,\n  provider,\n  children,\n  accounts,\n}: PropsWithChildren<ActiveWeb3ProviderProps>) {\n  const network = useMemo(() => {\n    if (jsonRpcEndpoint) {\n      let connector, hooks\n      if (JsonRpcProvider.isProvider(jsonRpcEndpoint)) {\n        ;[connector, hooks] = initializeConnector((actions) => new JsonRpcConnector(actions, jsonRpcEndpoint))\n      } else {\n        ;[connector, hooks] = initializeConnector((actions) => new Url(actions, jsonRpcEndpoint))\n      }\n      connector.activate()\n      return { connector, hooks }\n    }\n    return EMPTY_STATE\n  }, [jsonRpcEndpoint])\n\n  const wallet = useMemo(() => {\n    if (provider) {\n      let connector, hooks\n      if (JsonRpcProvider.isProvider(provider)) {\n        ;[connector, hooks] = initializeConnector((actions) => new JsonRpcConnector(actions, provider))\n      } else if (JsonRpcProvider.isProvider((provider as any).provider)) {\n        throw new Error('Eip1193Bridge is experimental: pass your ethers Provider directly')\n      } else {\n        ;[connector, hooks] = initializeConnector((actions) => new EIP1193(actions, provider))\n      }\n      connector.activate()\n      return { connector, hooks }\n    }\n    return EMPTY_STATE\n  }, [provider])\n\n  const { connector, hooks } = wallet.hooks.useIsActive() || network === EMPTY_STATE ? wallet : network\n  const account = accounts[0]\n  const activating = hooks.useIsActivating()\n  const active = hooks.useIsActive()\n  const chainId = hooks.useChainId()\n  const error = hooks.useError()\n  const library = hooks.useProvider()\n  const web3 = useMemo(() => {\n    if (connector === EMPTY || !(active || activating)) {\n      return EMPTY_CONTEXT\n    }\n    return { connector, library, chainId, accounts, account, active, activating, error }\n  }, [account, accounts, activating, active, chainId, connector, error, library])\n\n  // Log web3 errors to facilitate debugging.\n  useEffect(() => {\n    if (error) {\n      console.error('web3 error:', error)\n    }\n  }, [error])\n\n  return <Web3Context.Provider value={web3}>{children}</Web3Context.Provider>\n}\n","/**\n * List of all the networks supported by the Uniswap Interface\n */\nexport enum SupportedChainId {\n  MAINNET = 1,\n  ROPSTEN = 3,\n  RINKEBY = 4,\n  GOERLI = 5,\n  KOVAN = 42,\n\n  ARBITRUM_ONE = 42161,\n  ARBITRUM_RINKEBY = 421611,\n\n  OPTIMISM = 10,\n  OPTIMISTIC_KOVAN = 69,\n\n  POLYGON = 137,\n  POLYGON_MUMBAI = 80001,\n}\n\nexport const CHAIN_IDS_TO_NAMES = {\n  [SupportedChainId.MAINNET]: 'mainnet',\n  [SupportedChainId.ROPSTEN]: 'ropsten',\n  [SupportedChainId.RINKEBY]: 'rinkeby',\n  [SupportedChainId.GOERLI]: 'goerli',\n  [SupportedChainId.KOVAN]: 'kovan',\n  [SupportedChainId.POLYGON]: 'polygon',\n  [SupportedChainId.POLYGON_MUMBAI]: 'polygon_mumbai',\n  [SupportedChainId.ARBITRUM_ONE]: 'arbitrum',\n  [SupportedChainId.ARBITRUM_RINKEBY]: 'arbitrum_rinkeby',\n  [SupportedChainId.OPTIMISM]: 'optimism',\n  [SupportedChainId.OPTIMISTIC_KOVAN]: 'optimistic_kovan',\n}\n\n/**\n * Array of all the supported chain IDs\n */\nexport const ALL_SUPPORTED_CHAIN_IDS: SupportedChainId[] = Object.values(SupportedChainId).filter(\n  (id) => typeof id === 'number'\n) as SupportedChainId[]\n\nexport const SUPPORTED_GAS_ESTIMATE_CHAIN_IDS = [\n  SupportedChainId.MAINNET,\n  SupportedChainId.POLYGON,\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.ARBITRUM_ONE,\n]\n\n/**\n * All the chain IDs that are running the Ethereum protocol.\n */\nexport const L1_CHAIN_IDS = [\n  SupportedChainId.MAINNET,\n  SupportedChainId.ROPSTEN,\n  SupportedChainId.RINKEBY,\n  SupportedChainId.GOERLI,\n  SupportedChainId.KOVAN,\n  SupportedChainId.POLYGON,\n  SupportedChainId.POLYGON_MUMBAI,\n] as const\n\nexport type SupportedL1ChainId = typeof L1_CHAIN_IDS[number]\n\n/**\n * Controls some L2 specific behavior, e.g. slippage tolerance, special UI behavior.\n * The expectation is that all of these networks have immediate transaction confirmation.\n */\nexport const L2_CHAIN_IDS = [\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.OPTIMISTIC_KOVAN,\n] as const\n\nexport type SupportedL2ChainId = typeof L2_CHAIN_IDS[number]\n","import { SupportedChainId } from 'constants/chains'\n\nconst DEFAULT_NETWORKS = [\n  SupportedChainId.MAINNET,\n  SupportedChainId.ROPSTEN,\n  SupportedChainId.RINKEBY,\n  SupportedChainId.GOERLI,\n  SupportedChainId.KOVAN,\n]\n\nexport function constructSameAddressMap<T extends string>(\n  address: T,\n  additionalNetworks: SupportedChainId[] = []\n): { [chainId: number]: T } {\n  return DEFAULT_NETWORKS.concat(additionalNetworks).reduce<{ [chainId: number]: T }>((memo, chainId) => {\n    memo[chainId] = address\n    return memo\n  }, {})\n}\n","import { FACTORY_ADDRESS as V2_FACTORY_ADDRESS } from '@uniswap/v2-sdk'\nimport { FACTORY_ADDRESS as V3_FACTORY_ADDRESS } from '@uniswap/v3-sdk'\nimport { constructSameAddressMap } from 'utils/constructSameAddressMap'\n\nimport { SupportedChainId } from './chains'\n\ntype AddressMap = { [chainId: number]: string }\n\nexport const UNI_ADDRESS: AddressMap = constructSameAddressMap('0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984')\nexport const MULTICALL_ADDRESS: AddressMap = {\n  ...constructSameAddressMap('0x1F98415757620B543A52E61c46B32eB19261F984', [\n    SupportedChainId.OPTIMISTIC_KOVAN,\n    SupportedChainId.OPTIMISM,\n    SupportedChainId.POLYGON_MUMBAI,\n    SupportedChainId.POLYGON,\n  ]),\n  [SupportedChainId.ARBITRUM_ONE]: '0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB',\n  [SupportedChainId.ARBITRUM_RINKEBY]: '0xa501c031958F579dB7676fF1CE78AD305794d579',\n}\nexport const V2_FACTORY_ADDRESSES: AddressMap = constructSameAddressMap(V2_FACTORY_ADDRESS)\n\nexport const V2_ROUTER_ADDRESS: AddressMap = constructSameAddressMap('0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D')\nexport const V3_ROUTER_ADDRESS: AddressMap = constructSameAddressMap('0xE592427A0AEce92De3Edee1F18E0157C05861564', [\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.OPTIMISTIC_KOVAN,\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.POLYGON,\n  SupportedChainId.POLYGON_MUMBAI,\n])\nexport const SWAP_ROUTER_ADDRESSES: AddressMap = constructSameAddressMap('0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45', [\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.OPTIMISTIC_KOVAN,\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.POLYGON,\n  SupportedChainId.POLYGON_MUMBAI,\n])\n\n/**\n * The oldest V0 governance address\n */\nexport const GOVERNANCE_ALPHA_V0_ADDRESSES: AddressMap = constructSameAddressMap(\n  '0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F'\n)\n/**\n * The older V1 governance address\n */\nexport const GOVERNANCE_ALPHA_V1_ADDRESSES: AddressMap = {\n  [SupportedChainId.MAINNET]: '0xC4e172459f1E7939D522503B81AFAaC1014CE6F6',\n}\n/**\n * The latest governor bravo that is currently admin of timelock\n */\nexport const GOVERNANCE_BRAVO_ADDRESSES: AddressMap = {\n  [SupportedChainId.MAINNET]: '0x408ED6354d4973f66138C91495F2f2FCbd8724C3',\n}\n\nexport const TIMELOCK_ADDRESS: AddressMap = constructSameAddressMap('0x1a9C8182C09F50C8318d769245beA52c32BE35BC')\n\nexport const MERKLE_DISTRIBUTOR_ADDRESS: AddressMap = {\n  [SupportedChainId.MAINNET]: '0x090D4613473dEE047c3f2706764f49E0821D256e',\n}\nexport const ARGENT_WALLET_DETECTOR_ADDRESS: AddressMap = {\n  [SupportedChainId.MAINNET]: '0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8',\n}\nexport const V3_CORE_FACTORY_ADDRESSES: AddressMap = constructSameAddressMap(V3_FACTORY_ADDRESS, [\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.OPTIMISTIC_KOVAN,\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.POLYGON_MUMBAI,\n  SupportedChainId.POLYGON,\n])\nexport const QUOTER_ADDRESSES: AddressMap = constructSameAddressMap('0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6', [\n  SupportedChainId.OPTIMISM,\n  SupportedChainId.OPTIMISTIC_KOVAN,\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.POLYGON_MUMBAI,\n  SupportedChainId.POLYGON,\n])\nexport const NONFUNGIBLE_POSITION_MANAGER_ADDRESSES: AddressMap = constructSameAddressMap(\n  '0xC36442b4a4522E871399CD717aBDD847Ab11FE88',\n  [\n    SupportedChainId.OPTIMISM,\n    SupportedChainId.OPTIMISTIC_KOVAN,\n    SupportedChainId.ARBITRUM_ONE,\n    SupportedChainId.ARBITRUM_RINKEBY,\n    SupportedChainId.POLYGON_MUMBAI,\n    SupportedChainId.POLYGON,\n  ]\n)\nexport const ENS_REGISTRAR_ADDRESSES: AddressMap = {\n  [SupportedChainId.MAINNET]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n  [SupportedChainId.ROPSTEN]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n  [SupportedChainId.GOERLI]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n  [SupportedChainId.RINKEBY]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n}\nexport const SOCKS_CONTROLLER_ADDRESSES: AddressMap = {\n  [SupportedChainId.MAINNET]: '0x65770b5283117639760beA3F867b69b3697a91dd',\n}\n\nexport const V3_MIGRATOR_ADDRESSES: AddressMap = constructSameAddressMap('0xA5644E29708357803b5A882D272c41cC0dF92B34', [\n  SupportedChainId.ARBITRUM_ONE,\n  SupportedChainId.ARBITRUM_RINKEBY,\n  SupportedChainId.POLYGON_MUMBAI,\n  SupportedChainId.POLYGON,\n])\n\nexport const TICK_LENS_ADDRESSES: AddressMap = {\n  [SupportedChainId.ARBITRUM_ONE]: '0xbfd8137f7d1516D3ea5cA83523914859ec47F573',\n  [SupportedChainId.ARBITRUM_RINKEBY]: '0xbfd8137f7d1516D3ea5cA83523914859ec47F573',\n}\n","import { Currency, Ether, NativeCurrency, Token, WETH9 } from '@uniswap/sdk-core'\nimport invariant from 'tiny-invariant'\n\nimport { UNI_ADDRESS } from './addresses'\nimport { SupportedChainId } from './chains'\n\nexport const USDC_MAINNET = new Token(\n  SupportedChainId.MAINNET,\n  '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_ROPSTEN = new Token(\n  SupportedChainId.ROPSTEN,\n  '0x07865c6e87b9f70255377e024ace6630c1eaa37f',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_RINKEBY = new Token(\n  SupportedChainId.RINKEBY,\n  '0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b',\n  6,\n  'tUSDC',\n  'test USD//C'\n)\nexport const USDC_GOERLI = new Token(\n  SupportedChainId.GOERLI,\n  '0x07865c6e87b9f70255377e024ace6630c1eaa37f',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_KOVAN = new Token(\n  SupportedChainId.KOVAN,\n  '0x31eeb2d0f9b6fd8642914ab10f4dd473677d80df',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_OPTIMISM = new Token(\n  SupportedChainId.OPTIMISM,\n  '0x7F5c764cBc14f9669B88837ca1490cCa17c31607',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_OPTIMISTIC_KOVAN = new Token(\n  SupportedChainId.OPTIMISTIC_KOVAN,\n  '0x3b8e53b3ab8e01fb57d0c9e893bc4d655aa67d84',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_ARBITRUM = new Token(\n  SupportedChainId.ARBITRUM_ONE,\n  '0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_ARBITRUM_RINKEBY = new Token(\n  SupportedChainId.ARBITRUM_RINKEBY,\n  '0x09b98f8b2395d076514037ff7d39a091a536206c',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_POLYGON = new Token(\n  SupportedChainId.POLYGON,\n  '0x2791bca1f2de4661ed88a30c99a7a9449aa84174',\n  6,\n  'USDC',\n  'USD//C'\n)\nexport const USDC_POLYGON_MUMBAI = new Token(\n  SupportedChainId.POLYGON_MUMBAI,\n  '0xe11a86849d99f524cac3e7a0ec1241828e332c62',\n  6,\n  'USDC',\n  'USD//C'\n)\n\nexport const AMPL = new Token(\n  SupportedChainId.MAINNET,\n  '0xD46bA6D942050d489DBd938a2C909A5d5039A161',\n  9,\n  'AMPL',\n  'Ampleforth'\n)\nexport const DAI = new Token(\n  SupportedChainId.MAINNET,\n  '0x6B175474E89094C44Da98b954EedeAC495271d0F',\n  18,\n  'DAI',\n  'Dai Stablecoin'\n)\nexport const DAI_ARBITRUM_ONE = new Token(\n  SupportedChainId.ARBITRUM_ONE,\n  '0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1',\n  18,\n  'DAI',\n  'Dai stable coin'\n)\nexport const DAI_OPTIMISM = new Token(\n  SupportedChainId.OPTIMISM,\n  '0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1',\n  18,\n  'DAI',\n  'Dai stable coin'\n)\nexport const USDC: { [chainId in SupportedChainId]: Token } = {\n  [SupportedChainId.MAINNET]: USDC_MAINNET,\n  [SupportedChainId.ARBITRUM_ONE]: USDC_ARBITRUM,\n  [SupportedChainId.OPTIMISM]: USDC_OPTIMISM,\n  [SupportedChainId.ARBITRUM_RINKEBY]: USDC_ARBITRUM_RINKEBY,\n  [SupportedChainId.OPTIMISTIC_KOVAN]: USDC_OPTIMISTIC_KOVAN,\n  [SupportedChainId.POLYGON]: USDC_POLYGON,\n  [SupportedChainId.POLYGON_MUMBAI]: USDC_POLYGON_MUMBAI,\n  [SupportedChainId.GOERLI]: USDC_GOERLI,\n  [SupportedChainId.RINKEBY]: USDC_RINKEBY,\n  [SupportedChainId.KOVAN]: USDC_KOVAN,\n  [SupportedChainId.ROPSTEN]: USDC_ROPSTEN,\n}\nexport const DAI_POLYGON = new Token(\n  SupportedChainId.POLYGON,\n  '0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063',\n  18,\n  'DAI',\n  'Dai Stablecoin'\n)\nexport const USDT_POLYGON = new Token(\n  SupportedChainId.POLYGON,\n  '0xc2132d05d31c914a87c6611c10748aeb04b58e8f',\n  6,\n  'USDT',\n  'Tether USD'\n)\nexport const WBTC_POLYGON = new Token(\n  SupportedChainId.POLYGON,\n  '0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6',\n  8,\n  'WBTC',\n  'Wrapped BTC'\n)\nexport const USDT = new Token(\n  SupportedChainId.MAINNET,\n  '0xdAC17F958D2ee523a2206206994597C13D831ec7',\n  6,\n  'USDT',\n  'Tether USD'\n)\nexport const USDT_ARBITRUM_ONE = new Token(\n  SupportedChainId.ARBITRUM_ONE,\n  '0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9',\n  6,\n  'USDT',\n  'Tether USD'\n)\nexport const USDT_OPTIMISM = new Token(\n  SupportedChainId.OPTIMISM,\n  '0x94b008aA00579c1307B0EF2c499aD98a8ce58e58',\n  6,\n  'USDT',\n  'Tether USD'\n)\nexport const WBTC = new Token(\n  SupportedChainId.MAINNET,\n  '0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599',\n  8,\n  'WBTC',\n  'Wrapped BTC'\n)\nexport const WBTC_ARBITRUM_ONE = new Token(\n  SupportedChainId.ARBITRUM_ONE,\n  '0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f',\n  8,\n  'WBTC',\n  'Wrapped BTC'\n)\nexport const WBTC_OPTIMISM = new Token(\n  SupportedChainId.OPTIMISM,\n  '0x68f180fcCe6836688e9084f035309E29Bf0A2095',\n  8,\n  'WBTC',\n  'Wrapped BTC'\n)\nexport const FEI = new Token(\n  SupportedChainId.MAINNET,\n  '0x956F47F50A910163D8BF957Cf5846D573E7f87CA',\n  18,\n  'FEI',\n  'Fei USD'\n)\nexport const TRIBE = new Token(\n  SupportedChainId.MAINNET,\n  '0xc7283b66Eb1EB5FB86327f08e1B5816b0720212B',\n  18,\n  'TRIBE',\n  'Tribe'\n)\nexport const FRAX = new Token(\n  SupportedChainId.MAINNET,\n  '0x853d955aCEf822Db058eb8505911ED77F175b99e',\n  18,\n  'FRAX',\n  'Frax'\n)\nexport const FXS = new Token(\n  SupportedChainId.MAINNET,\n  '0x3432B6A60D23Ca0dFCa7761B7ab56459D9C964D0',\n  18,\n  'FXS',\n  'Frax Share'\n)\nexport const renBTC = new Token(\n  SupportedChainId.MAINNET,\n  '0xEB4C2781e4ebA804CE9a9803C67d0893436bB27D',\n  8,\n  'renBTC',\n  'renBTC'\n)\nexport const ETH2X_FLI = new Token(\n  SupportedChainId.MAINNET,\n  '0xAa6E8127831c9DE45ae56bB1b0d4D4Da6e5665BD',\n  18,\n  'ETH2x-FLI',\n  'ETH 2x Flexible Leverage Index'\n)\nexport const sETH2 = new Token(\n  SupportedChainId.MAINNET,\n  '0xFe2e637202056d30016725477c5da089Ab0A043A',\n  18,\n  'sETH2',\n  'StakeWise Staked ETH2'\n)\nexport const rETH2 = new Token(\n  SupportedChainId.MAINNET,\n  '0x20BC832ca081b91433ff6c17f85701B6e92486c5',\n  18,\n  'rETH2',\n  'StakeWise Reward ETH2'\n)\nexport const SWISE = new Token(\n  SupportedChainId.MAINNET,\n  '0x48C3399719B582dD63eB5AADf12A40B4C3f52FA2',\n  18,\n  'SWISE',\n  'StakeWise'\n)\nexport const WETH_POLYGON_MUMBAI = new Token(\n  SupportedChainId.POLYGON_MUMBAI,\n  '0xa6fa4fb5f76172d178d61b04b0ecd319c5d1c0aa',\n  18,\n  'WETH',\n  'Wrapped Ether'\n)\n\nexport const WETH_POLYGON = new Token(\n  SupportedChainId.POLYGON,\n  '0x7ceb23fd6bc0add59e62ac25578270cff1b9f619',\n  18,\n  'WETH',\n  'Wrapped Ether'\n)\nexport const UNI: { [chainId: number]: Token } = {\n  [SupportedChainId.MAINNET]: new Token(SupportedChainId.MAINNET, UNI_ADDRESS[1], 18, 'UNI', 'Uniswap'),\n  [SupportedChainId.RINKEBY]: new Token(SupportedChainId.RINKEBY, UNI_ADDRESS[4], 18, 'UNI', 'Uniswap'),\n  [SupportedChainId.ROPSTEN]: new Token(SupportedChainId.ROPSTEN, UNI_ADDRESS[3], 18, 'UNI', 'Uniswap'),\n  [SupportedChainId.GOERLI]: new Token(SupportedChainId.GOERLI, UNI_ADDRESS[5], 18, 'UNI', 'Uniswap'),\n  [SupportedChainId.KOVAN]: new Token(SupportedChainId.KOVAN, UNI_ADDRESS[42], 18, 'UNI', 'Uniswap'),\n}\n\nexport const WRAPPED_NATIVE_CURRENCY: { [chainId: number]: Token | undefined } = {\n  ...(WETH9 as Record<SupportedChainId, Token>),\n  [SupportedChainId.OPTIMISM]: new Token(\n    SupportedChainId.OPTIMISM,\n    '0x4200000000000000000000000000000000000006',\n    18,\n    'WETH',\n    'Wrapped Ether'\n  ),\n  [SupportedChainId.OPTIMISTIC_KOVAN]: new Token(\n    SupportedChainId.OPTIMISTIC_KOVAN,\n    '0x4200000000000000000000000000000000000006',\n    18,\n    'WETH',\n    'Wrapped Ether'\n  ),\n  [SupportedChainId.ARBITRUM_ONE]: new Token(\n    SupportedChainId.ARBITRUM_ONE,\n    '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1',\n    18,\n    'WETH',\n    'Wrapped Ether'\n  ),\n  [SupportedChainId.ARBITRUM_RINKEBY]: new Token(\n    SupportedChainId.ARBITRUM_RINKEBY,\n    '0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681',\n    18,\n    'WETH',\n    'Wrapped Ether'\n  ),\n  [SupportedChainId.POLYGON]: new Token(\n    SupportedChainId.POLYGON,\n    '0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270',\n    18,\n    'WMATIC',\n    'Wrapped MATIC'\n  ),\n  [SupportedChainId.POLYGON_MUMBAI]: new Token(\n    SupportedChainId.POLYGON_MUMBAI,\n    '0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889',\n    18,\n    'WMATIC',\n    'Wrapped MATIC'\n  ),\n}\n\nfunction isMatic(chainId: number): chainId is SupportedChainId.POLYGON | SupportedChainId.POLYGON_MUMBAI {\n  return chainId === SupportedChainId.POLYGON_MUMBAI || chainId === SupportedChainId.POLYGON\n}\n\nclass MaticNativeCurrency extends NativeCurrency {\n  equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n\n  get wrapped(): Token {\n    if (!isMatic(this.chainId)) throw new Error('Not matic')\n    const wrapped = WRAPPED_NATIVE_CURRENCY[this.chainId]\n    invariant(wrapped instanceof Token)\n    return wrapped\n  }\n\n  public constructor(chainId: number) {\n    if (!isMatic(chainId)) throw new Error('Not matic')\n    super(chainId, 18, 'MATIC', 'Polygon Matic')\n  }\n}\n\nexport class ExtendedEther extends Ether {\n  public get wrapped(): Token {\n    const wrapped = WRAPPED_NATIVE_CURRENCY[this.chainId]\n    if (wrapped) return wrapped\n    throw new Error('Unsupported chain ID')\n  }\n\n  private static _cachedExtendedEther: { [chainId: number]: NativeCurrency } = {}\n\n  public static onChain(chainId: number): ExtendedEther {\n    return this._cachedExtendedEther[chainId] ?? (this._cachedExtendedEther[chainId] = new ExtendedEther(chainId))\n  }\n}\n\nconst cachedNativeCurrency: { [chainId: number]: NativeCurrency } = {}\nexport function nativeOnChain(chainId: number): NativeCurrency {\n  return (\n    cachedNativeCurrency[chainId] ??\n    (cachedNativeCurrency[chainId] = isMatic(chainId)\n      ? new MaticNativeCurrency(chainId)\n      : ExtendedEther.onChain(chainId))\n  )\n}\n\nexport const TOKEN_SHORTHANDS: { [shorthand: string]: { [chainId in SupportedChainId]?: string } } = {\n  USDC: {\n    [SupportedChainId.MAINNET]: USDC_MAINNET.address,\n    [SupportedChainId.ARBITRUM_ONE]: USDC_ARBITRUM.address,\n    [SupportedChainId.OPTIMISM]: USDC_OPTIMISM.address,\n    [SupportedChainId.ARBITRUM_RINKEBY]: USDC_ARBITRUM_RINKEBY.address,\n    [SupportedChainId.OPTIMISTIC_KOVAN]: USDC_OPTIMISTIC_KOVAN.address,\n    [SupportedChainId.POLYGON]: USDC_POLYGON.address,\n    [SupportedChainId.POLYGON_MUMBAI]: USDC_POLYGON_MUMBAI.address,\n    [SupportedChainId.GOERLI]: USDC_GOERLI.address,\n    [SupportedChainId.RINKEBY]: USDC_RINKEBY.address,\n    [SupportedChainId.KOVAN]: USDC_KOVAN.address,\n    [SupportedChainId.ROPSTEN]: USDC_ROPSTEN.address,\n  },\n}\n","import { useCallback, useEffect, useState } from 'react'\n\nfunction isVisibilityStateSupported() {\n  return 'visibilityState' in document\n}\n\nfunction isWindowVisible() {\n  return !isVisibilityStateSupported() || document.visibilityState !== 'hidden'\n}\n\n/**\n * Returns whether the window is currently visible to the user.\n */\nexport default function useIsWindowVisible(): boolean {\n  const [focused, setFocused] = useState<boolean>(false)\n  const listener = useCallback(() => {\n    setFocused(isWindowVisible())\n  }, [setFocused])\n\n  useEffect(() => {\n    if (!isVisibilityStateSupported()) return undefined\n    setFocused((focused) => isWindowVisible())\n\n    document.addEventListener('visibilitychange', listener)\n    return () => {\n      document.removeEventListener('visibilitychange', listener)\n    }\n  }, [listener])\n\n  return focused\n}\n","import useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useIsWindowVisible from 'hooks/useIsWindowVisible'\nimport { createContext, ReactNode, useCallback, useContext, useEffect, useMemo, useState } from 'react'\n\nconst MISSING_PROVIDER = Symbol()\nconst BlockNumberContext = createContext<\n  | {\n      value?: number\n      fastForward(block: number): void\n    }\n  | typeof MISSING_PROVIDER\n>(MISSING_PROVIDER)\n\nfunction useBlockNumberContext() {\n  const blockNumber = useContext(BlockNumberContext)\n  if (blockNumber === MISSING_PROVIDER) {\n    throw new Error('BlockNumber hooks must be wrapped in a <BlockNumberProvider>')\n  }\n  return blockNumber\n}\n\n/** Requires that BlockUpdater be installed in the DOM tree. */\nexport default function useBlockNumber(): number | undefined {\n  return useBlockNumberContext().value\n}\n\nexport function useFastForwardBlockNumber(): (block: number) => void {\n  return useBlockNumberContext().fastForward\n}\n\nexport function BlockNumberProvider({ children }: { children: ReactNode }) {\n  const { chainId: activeChainId, library } = useActiveWeb3React()\n  const [{ chainId, block }, setChainBlock] = useState<{ chainId?: number; block?: number }>({ chainId: activeChainId })\n\n  const onBlock = useCallback(\n    (block: number) => {\n      setChainBlock((chainBlock) => {\n        if (chainBlock.chainId === activeChainId) {\n          if (!chainBlock.block || chainBlock.block < block) {\n            return { chainId: activeChainId, block }\n          }\n        }\n        return chainBlock\n      })\n    },\n    [activeChainId, setChainBlock]\n  )\n\n  const windowVisible = useIsWindowVisible()\n  useEffect(() => {\n    if (library && activeChainId && windowVisible) {\n      // If chainId hasn't changed, don't clear the block. This prevents re-fetching still valid data.\n      setChainBlock((chainBlock) => (chainBlock.chainId === activeChainId ? chainBlock : { chainId: activeChainId }))\n\n      let stale = false\n      library\n        .getBlockNumber()\n        .then((block) => {\n          if (stale) return\n          onBlock(block)\n        })\n        .catch((error) => {\n          console.error(`Failed to get block number for chainId ${activeChainId}`, error)\n        })\n\n      library.on('block', onBlock)\n      return () => {\n        stale = true\n        library.off('block', onBlock)\n      }\n    }\n    return undefined\n  }, [activeChainId, library, onBlock, setChainBlock, windowVisible])\n\n  const value = useMemo(\n    () => ({\n      value: chainId === activeChainId ? block : undefined,\n      fastForward: (block: number) => setChainBlock({ chainId: activeChainId, block }),\n    }),\n    [activeChainId, block, chainId]\n  )\n  return <BlockNumberContext.Provider value={value}>{children}</BlockNumberContext.Provider>\n}\n","import { getAddress } from '@ethersproject/address'\nimport { AddressZero } from '@ethersproject/constants'\nimport { Contract } from '@ethersproject/contracts'\nimport { JsonRpcProvider, JsonRpcSigner } from '@ethersproject/providers'\nimport { Token } from '@uniswap/sdk-core'\nimport { FeeAmount } from '@uniswap/v3-sdk'\nimport { ChainTokenMap } from 'hooks/useTokenList/utils'\n\n// returns the checksummed address if the address is valid, otherwise returns false\nexport function isAddress(value: any): string | false {\n  try {\n    return getAddress(value)\n  } catch {\n    return false\n  }\n}\n\n// shorten the checksummed version of the input address to have 0x + 4 characters at start and end\nexport function shortenAddress(address: string, chars = 4): string {\n  const parsed = isAddress(address)\n  if (!parsed) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n  return `${parsed.substring(0, chars + 2)}...${parsed.substring(42 - chars)}`\n}\n\n// account is not optional\nfunction getSigner(library: JsonRpcProvider, account: string): JsonRpcSigner {\n  return library.getSigner(account).connectUnchecked()\n}\n\n// account is optional\nfunction getProviderOrSigner(library: JsonRpcProvider, account?: string): JsonRpcProvider | JsonRpcSigner {\n  return account ? getSigner(library, account) : library\n}\n\n// account is optional\nexport function getContract(address: string, ABI: any, library: JsonRpcProvider, account?: string): Contract {\n  if (!isAddress(address) || address === AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n\n  return new Contract(address, ABI, getProviderOrSigner(library, account) as any)\n}\n\nexport function escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\n}\n\nexport function isTokenOnList(chainTokenMap: ChainTokenMap, token?: Token): boolean {\n  return Boolean(token?.isToken && chainTokenMap[token.chainId]?.[token.address])\n}\n\nexport function formattedFeeAmount(feeAmount: FeeAmount): number {\n  return feeAmount / 10000\n}\n","import { Contract } from '@ethersproject/contracts'\nimport IUniswapV2PairJson from '@uniswap/v2-core/build/IUniswapV2Pair.json'\nimport IUniswapV2Router02Json from '@uniswap/v2-periphery/build/IUniswapV2Router02.json'\nimport QuoterJson from '@uniswap/v3-periphery/artifacts/contracts/lens/Quoter.sol/Quoter.json'\nimport TickLensJson from '@uniswap/v3-periphery/artifacts/contracts/lens/TickLens.sol/TickLens.json'\nimport UniswapInterfaceMulticallJson from '@uniswap/v3-periphery/artifacts/contracts/lens/UniswapInterfaceMulticall.sol/UniswapInterfaceMulticall.json'\nimport NonfungiblePositionManagerJson from '@uniswap/v3-periphery/artifacts/contracts/NonfungiblePositionManager.sol/NonfungiblePositionManager.json'\nimport V3MigratorJson from '@uniswap/v3-periphery/artifacts/contracts/V3Migrator.sol/V3Migrator.json'\nimport ARGENT_WALLET_DETECTOR_ABI from 'abis/argent-wallet-detector.json'\nimport EIP_2612 from 'abis/eip_2612.json'\nimport ENS_PUBLIC_RESOLVER_ABI from 'abis/ens-public-resolver.json'\nimport ENS_ABI from 'abis/ens-registrar.json'\nimport ERC20_ABI from 'abis/erc20.json'\nimport ERC20_BYTES32_ABI from 'abis/erc20_bytes32.json'\nimport ERC721_ABI from 'abis/erc721.json'\nimport ERC1155_ABI from 'abis/erc1155.json'\nimport { ArgentWalletDetector, EnsPublicResolver, EnsRegistrar, Erc20, Erc721, Erc1155, Weth } from 'abis/types'\nimport WETH_ABI from 'abis/weth.json'\nimport {\n  ARGENT_WALLET_DETECTOR_ADDRESS,\n  ENS_REGISTRAR_ADDRESSES,\n  MULTICALL_ADDRESS,\n  NONFUNGIBLE_POSITION_MANAGER_ADDRESSES,\n  QUOTER_ADDRESSES,\n  TICK_LENS_ADDRESSES,\n  V2_ROUTER_ADDRESS,\n  V3_MIGRATOR_ADDRESSES,\n} from 'constants/addresses'\nimport { WRAPPED_NATIVE_CURRENCY } from 'constants/tokens'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useMemo } from 'react'\nimport { NonfungiblePositionManager, Quoter, TickLens, UniswapInterfaceMulticall } from 'types/v3'\nimport { V3Migrator } from 'types/v3/V3Migrator'\nimport { getContract } from 'utils'\n\nconst { abi: IUniswapV2PairABI } = IUniswapV2PairJson\nconst { abi: IUniswapV2Router02ABI } = IUniswapV2Router02Json\nconst { abi: QuoterABI } = QuoterJson\nconst { abi: TickLensABI } = TickLensJson\nconst { abi: MulticallABI } = UniswapInterfaceMulticallJson\nconst { abi: NFTPositionManagerABI } = NonfungiblePositionManagerJson\nconst { abi: V2MigratorABI } = V3MigratorJson\n\n// returns null on errors\nexport function useContract<T extends Contract = Contract>(\n  addressOrAddressMap: string | { [chainId: number]: string } | undefined,\n  ABI: any,\n  withSignerIfPossible = true\n): T | null {\n  const { library, account, chainId } = useActiveWeb3React()\n\n  return useMemo(() => {\n    if (!addressOrAddressMap || !ABI || !library || !chainId) return null\n    let address: string | undefined\n    if (typeof addressOrAddressMap === 'string') address = addressOrAddressMap\n    else address = addressOrAddressMap[chainId]\n    if (!address) return null\n    try {\n      return getContract(address, ABI, library, withSignerIfPossible && account ? account : undefined)\n    } catch (error) {\n      console.error('Failed to get contract', error)\n      return null\n    }\n  }, [addressOrAddressMap, ABI, library, chainId, withSignerIfPossible, account]) as T\n}\n\nexport function useV2MigratorContract() {\n  return useContract<V3Migrator>(V3_MIGRATOR_ADDRESSES, V2MigratorABI, true)\n}\n\nexport function useTokenContract(tokenAddress?: string, withSignerIfPossible?: boolean) {\n  return useContract<Erc20>(tokenAddress, ERC20_ABI, withSignerIfPossible)\n}\n\nexport function useWETHContract(withSignerIfPossible?: boolean) {\n  const { chainId } = useActiveWeb3React()\n  return useContract<Weth>(\n    chainId ? WRAPPED_NATIVE_CURRENCY[chainId]?.address : undefined,\n    WETH_ABI,\n    withSignerIfPossible\n  )\n}\n\nexport function useERC721Contract(nftAddress?: string) {\n  return useContract<Erc721>(nftAddress, ERC721_ABI, false)\n}\n\nexport function useERC1155Contract(nftAddress?: string) {\n  return useContract<Erc1155>(nftAddress, ERC1155_ABI, false)\n}\n\nexport function useArgentWalletDetectorContract() {\n  return useContract<ArgentWalletDetector>(ARGENT_WALLET_DETECTOR_ADDRESS, ARGENT_WALLET_DETECTOR_ABI, false)\n}\n\nexport function useENSRegistrarContract(withSignerIfPossible?: boolean) {\n  return useContract<EnsRegistrar>(ENS_REGISTRAR_ADDRESSES, ENS_ABI, withSignerIfPossible)\n}\n\nexport function useENSResolverContract(address: string | undefined, withSignerIfPossible?: boolean) {\n  return useContract<EnsPublicResolver>(address, ENS_PUBLIC_RESOLVER_ABI, withSignerIfPossible)\n}\n\nexport function useBytes32TokenContract(tokenAddress?: string, withSignerIfPossible?: boolean): Contract | null {\n  return useContract(tokenAddress, ERC20_BYTES32_ABI, withSignerIfPossible)\n}\n\nexport function useEIP2612Contract(tokenAddress?: string): Contract | null {\n  return useContract(tokenAddress, EIP_2612, false)\n}\n\nexport function usePairContract(pairAddress?: string, withSignerIfPossible?: boolean): Contract | null {\n  return useContract(pairAddress, IUniswapV2PairABI, withSignerIfPossible)\n}\n\nexport function useV2RouterContract(): Contract | null {\n  return useContract(V2_ROUTER_ADDRESS, IUniswapV2Router02ABI, true)\n}\n\nexport function useInterfaceMulticall() {\n  return useContract<UniswapInterfaceMulticall>(MULTICALL_ADDRESS, MulticallABI, false) as UniswapInterfaceMulticall\n}\n\nexport function useV3NFTPositionManagerContract(withSignerIfPossible?: boolean): NonfungiblePositionManager | null {\n  return useContract<NonfungiblePositionManager>(\n    NONFUNGIBLE_POSITION_MANAGER_ADDRESSES,\n    NFTPositionManagerABI,\n    withSignerIfPossible\n  )\n}\n\nexport function useV3Quoter() {\n  return useContract<Quoter>(QUOTER_ADDRESSES, QuoterABI)\n}\n\nexport function useTickLens(): TickLens | null {\n  const { chainId } = useActiveWeb3React()\n  const address = chainId ? TICK_LENS_ADDRESSES[chainId] : undefined\n  return useContract(address, TickLensABI) as TickLens | null\n}\n","import { createMulticall } from '@uniswap/redux-multicall'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useBlockNumber from 'hooks/useBlockNumber'\nimport { useInterfaceMulticall } from 'hooks/useContract'\nimport { combineReducers, createStore } from 'redux'\n\nconst multicall = createMulticall()\nconst reducer = combineReducers({ [multicall.reducerPath]: multicall.reducer })\nexport const store = createStore(reducer)\n\nexport default multicall\n\nexport function MulticallUpdater() {\n  const { chainId } = useActiveWeb3React()\n  const latestBlockNumber = useBlockNumber()\n  const contract = useInterfaceMulticall()\n  return <multicall.Updater chainId={chainId} latestBlockNumber={latestBlockNumber} contract={contract} />\n}\n","import useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useBlockNumber from 'hooks/useBlockNumber'\nimport multicall from 'state/multicall'\n\nexport type { CallStateResult } from '@uniswap/redux-multicall' // re-export for convenience\nexport { NEVER_RELOAD } from '@uniswap/redux-multicall' // re-export for convenience\n\n// Create wrappers for hooks so consumers don't need to get latest block themselves\n\ntype MulticallParams<T extends (chainId: number | undefined, latestBlock: number | undefined, ...args: any) => any> =\n  Parameters<T> extends [any, any, ...infer P] ? P : never\n\nexport function useMultipleContractSingleData(\n  ...args: MulticallParams<typeof multicall.hooks.useMultipleContractSingleData>\n) {\n  const { chainId, latestBlock } = useCallContext()\n  return multicall.hooks.useMultipleContractSingleData(chainId, latestBlock, ...args)\n}\n\nexport function useSingleCallResult(...args: MulticallParams<typeof multicall.hooks.useSingleCallResult>) {\n  const { chainId, latestBlock } = useCallContext()\n  return multicall.hooks.useSingleCallResult(chainId, latestBlock, ...args)\n}\n\nexport function useSingleContractMultipleData(\n  ...args: MulticallParams<typeof multicall.hooks.useSingleContractMultipleData>\n) {\n  const { chainId, latestBlock } = useCallContext()\n  return multicall.hooks.useSingleContractMultipleData(chainId, latestBlock, ...args)\n}\n\nexport function useSingleContractWithCallData(\n  ...args: MulticallParams<typeof multicall.hooks.useSingleContractWithCallData>\n) {\n  const { chainId, latestBlock } = useCallContext()\n  return multicall.hooks.useSingleContractWithCallData(chainId, latestBlock, ...args)\n}\n\nfunction useCallContext() {\n  const { chainId } = useActiveWeb3React()\n  const latestBlock = useBlockNumber()\n  return { chainId, latestBlock }\n}\n","import { Interface } from '@ethersproject/abi'\nimport { Currency, CurrencyAmount, Token } from '@uniswap/sdk-core'\nimport ERC20ABI from 'abis/erc20.json'\nimport { Erc20Interface } from 'abis/types/Erc20'\nimport { nativeOnChain } from 'constants/tokens'\nimport { useMultipleContractSingleData, useSingleContractMultipleData } from 'hooks/multicall'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useInterfaceMulticall } from 'hooks/useContract'\nimport JSBI from 'jsbi'\nimport { useMemo } from 'react'\nimport { isAddress } from 'utils'\n\n/**\n * Returns a map of the given addresses to their eventually consistent ETH balances.\n */\nexport function useNativeCurrencyBalances(uncheckedAddresses?: (string | undefined)[]): {\n  [address: string]: CurrencyAmount<Currency> | undefined\n} {\n  const { chainId } = useActiveWeb3React()\n  const multicallContract = useInterfaceMulticall()\n\n  const validAddressInputs: [string][] = useMemo(\n    () =>\n      uncheckedAddresses\n        ? uncheckedAddresses\n            .map(isAddress)\n            .filter((a): a is string => a !== false)\n            .sort()\n            .map((addr) => [addr])\n        : [],\n    [uncheckedAddresses]\n  )\n\n  const results = useSingleContractMultipleData(multicallContract, 'getEthBalance', validAddressInputs)\n\n  return useMemo(\n    () =>\n      validAddressInputs.reduce<{ [address: string]: CurrencyAmount<Currency> }>((memo, [address], i) => {\n        const value = results?.[i]?.result?.[0]\n        if (value && chainId)\n          memo[address] = CurrencyAmount.fromRawAmount(nativeOnChain(chainId), JSBI.BigInt(value.toString()))\n        return memo\n      }, {}),\n    [validAddressInputs, chainId, results]\n  )\n}\n\nconst ERC20Interface = new Interface(ERC20ABI) as Erc20Interface\nconst tokenBalancesGasRequirement = { gasRequired: 185_000 }\n\n/**\n * Returns a map of token addresses to their eventually consistent token balances for a single account.\n */\nexport function useTokenBalancesWithLoadingIndicator(\n  address?: string,\n  tokens?: (Token | undefined)[]\n): [{ [tokenAddress: string]: CurrencyAmount<Token> | undefined }, boolean] {\n  const validatedTokens: Token[] = useMemo(\n    () => tokens?.filter((t?: Token): t is Token => isAddress(t?.address) !== false) ?? [],\n    [tokens]\n  )\n  const validatedTokenAddresses = useMemo(() => validatedTokens.map((vt) => vt.address), [validatedTokens])\n\n  const balances = useMultipleContractSingleData(\n    validatedTokenAddresses,\n    ERC20Interface,\n    'balanceOf',\n    useMemo(() => [address], [address]),\n    tokenBalancesGasRequirement\n  )\n\n  const anyLoading: boolean = useMemo(() => balances.some((callState) => callState.loading), [balances])\n\n  return useMemo(\n    () => [\n      address && validatedTokens.length > 0\n        ? validatedTokens.reduce<{ [tokenAddress: string]: CurrencyAmount<Token> | undefined }>((memo, token, i) => {\n            const value = balances?.[i]?.result?.[0]\n            const amount = value ? JSBI.BigInt(value.toString()) : undefined\n            if (amount) {\n              memo[token.address] = CurrencyAmount.fromRawAmount(token, amount)\n            }\n            return memo\n          }, {})\n        : {},\n      anyLoading,\n    ],\n    [address, validatedTokens, anyLoading, balances]\n  )\n}\n\nexport function useTokenBalances(\n  address?: string,\n  tokens?: (Token | undefined)[]\n): { [tokenAddress: string]: CurrencyAmount<Token> | undefined } {\n  return useTokenBalancesWithLoadingIndicator(address, tokens)[0]\n}\n\n// get the balance for a single token/account combo\nexport function useTokenBalance(account?: string, token?: Token): CurrencyAmount<Token> | undefined {\n  const tokenBalances = useTokenBalances(\n    account,\n    useMemo(() => [token], [token])\n  )\n  if (!token) return undefined\n  return tokenBalances[token.address]\n}\n\nexport function useCurrencyBalances(\n  account?: string,\n  currencies?: (Currency | undefined)[]\n): (CurrencyAmount<Currency> | undefined)[] {\n  const tokens = useMemo(\n    () => currencies?.filter((currency): currency is Token => currency?.isToken ?? false) ?? [],\n    [currencies]\n  )\n\n  const tokenBalances = useTokenBalances(account, tokens)\n  const containsETH: boolean = useMemo(() => currencies?.some((currency) => currency?.isNative) ?? false, [currencies])\n  const ethBalance = useNativeCurrencyBalances(useMemo(() => (containsETH ? [account] : []), [containsETH, account]))\n\n  return useMemo(\n    () =>\n      currencies?.map((currency) => {\n        if (!account || !currency) return undefined\n        if (currency.isToken) return tokenBalances[currency.address]\n        if (currency.isNative) return ethBalance[account]\n        return undefined\n      }) ?? [],\n    [account, currencies, ethBalance, tokenBalances]\n  )\n}\n\nexport default function useCurrencyBalance(\n  account?: string,\n  currency?: Currency\n): CurrencyAmount<Currency> | undefined {\n  return useCurrencyBalances(\n    account,\n    useMemo(() => [currency], [currency])\n  )[0]\n}\n","import { NativeCurrency } from '@uniswap/sdk-core'\nimport { SupportedChainId } from 'constants/chains'\nimport { nativeOnChain } from 'constants/tokens'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useMemo } from 'react'\n\nexport default function useNativeCurrency(): NativeCurrency {\n  const { chainId } = useActiveWeb3React()\n  return useMemo(\n    () =>\n      chainId\n        ? nativeOnChain(chainId)\n        : // display mainnet when not connected\n          nativeOnChain(SupportedChainId.MAINNET),\n    [chainId]\n  )\n}\n","/**\n * Returns true if the string value is zero in hex\n * @param hexNumberString\n */\nexport default function isZero(hexNumberString: string) {\n  return /^0x0*$/.test(hexNumberString)\n}\n","import { namehash } from '@ethersproject/hash'\n\nexport function safeNamehash(name?: string): string | undefined {\n  if (name === undefined) return undefined\n\n  try {\n    return namehash(name)\n  } catch (error) {\n    console.debug(error)\n    return undefined\n  }\n}\n","import { useEffect, useState } from 'react'\n\n/**\n * Debounces updates to a value.\n * Non-primitives *must* wrap the value in useMemo, or the value will be updated due to referential inequality.\n */\n// modified from https://usehooks.com/useDebounce/\nexport default function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n","import { useSingleCallResult } from 'hooks/multicall'\nimport { useMemo } from 'react'\nimport isZero from 'utils/isZero'\nimport { safeNamehash } from 'utils/safeNamehash'\n\nimport { useENSRegistrarContract, useENSResolverContract } from './useContract'\nimport useDebounce from './useDebounce'\n\n/**\n * Does a lookup for an ENS name to find its address.\n */\nexport default function useENSAddress(ensName?: string | null): { loading: boolean; address: string | null } {\n  const debouncedName = useDebounce(ensName, 200)\n  const ensNodeArgument = useMemo(\n    () => [debouncedName === null ? undefined : safeNamehash(debouncedName)],\n    [debouncedName]\n  )\n  const registrarContract = useENSRegistrarContract(false)\n  const resolverAddress = useSingleCallResult(registrarContract, 'resolver', ensNodeArgument)\n  const resolverAddressResult = resolverAddress.result?.[0]\n  const resolverContract = useENSResolverContract(\n    resolverAddressResult && !isZero(resolverAddressResult) ? resolverAddressResult : undefined,\n    false\n  )\n  const addr = useSingleCallResult(resolverContract, 'addr', ensNodeArgument)\n\n  const changed = debouncedName !== ensName\n  return useMemo(\n    () => ({\n      address: changed ? null : addr.result?.[0] ?? null,\n      loading: changed || resolverAddress.loading || addr.loading,\n    }),\n    [addr.loading, addr.result, changed, resolverAddress.loading]\n  )\n}\n","import { useSingleCallResult } from 'hooks/multicall'\nimport JSBI from 'jsbi'\nimport { useMemo } from 'react'\n\nimport { useContract } from './useContract'\nimport useENSAddress from './useENSAddress'\n\nconst CHAIN_DATA_ABI = [\n  {\n    inputs: [],\n    name: 'latestAnswer',\n    outputs: [{ internalType: 'int256', name: '', type: 'int256' }],\n    stateMutability: 'view',\n    type: 'function',\n  },\n]\n\n/**\n * Returns the price of 1 gas in WEI for the currently selected network using the chainlink fast gas price oracle\n */\nexport default function useGasPrice(): JSBI | undefined {\n  const { address } = useENSAddress('fast-gas-gwei.data.eth')\n  const contract = useContract(address ?? undefined, CHAIN_DATA_ABI, false)\n\n  const resultStr = useSingleCallResult(contract, 'latestAnswer').result?.[0]?.toString()\n  return useMemo(() => (typeof resultStr === 'string' ? JSBI.BigInt(resultStr) : undefined), [resultStr])\n}\n","import { parseUnits } from '@ethersproject/units'\nimport { Currency, CurrencyAmount } from '@uniswap/sdk-core'\nimport JSBI from 'jsbi'\n\n/**\n * Parses a CurrencyAmount from the passed string.\n * Returns the CurrencyAmount, or undefined if parsing fails.\n */\nexport default function tryParseCurrencyAmount<T extends Currency>(\n  value?: string,\n  currency?: T\n): CurrencyAmount<T> | undefined {\n  if (!value || !currency) {\n    return undefined\n  }\n  try {\n    const typedValueParsed = parseUnits(value, currency.decimals).toString()\n    if (typedValueParsed !== '0') {\n      return CurrencyAmount.fromRawAmount(currency, JSBI.BigInt(typedValueParsed))\n    }\n  } catch (error) {\n    // fails if the user specifies too many decimal places of precision (or maybe exceed max uint?)\n    console.debug(`Failed to parse input amount: \"${value}\"`, error)\n  }\n  return undefined\n}\n","import { Percent } from '@uniswap/sdk-core'\nimport JSBI from 'jsbi'\n\nexport const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000'\n\nexport const NetworkContextName = 'NETWORK'\n\nexport const IS_IN_IFRAME = window.parent !== window\n\n// 30 minutes, denominated in seconds\nexport const DEFAULT_DEADLINE_FROM_NOW = 60 * 30\nexport const L2_DEADLINE_FROM_NOW = 60 * 5\n\n// transaction popup dismisal amounts\nexport const DEFAULT_TXN_DISMISS_MS = 25000\nexport const L2_TXN_DISMISS_MS = 5000\n\n// used for rewards deadlines\nexport const BIG_INT_SECONDS_IN_WEEK = JSBI.BigInt(60 * 60 * 24 * 7)\n\nexport const BIG_INT_ZERO = JSBI.BigInt(0)\n\n// one basis JSBI.BigInt\nconst BIPS_BASE = JSBI.BigInt(10000)\nexport const ONE_BIPS = new Percent(JSBI.BigInt(1), BIPS_BASE)\n\n// used for warning states\nexport const ALLOWED_PRICE_IMPACT_LOW: Percent = new Percent(JSBI.BigInt(100), BIPS_BASE) // 1%\nexport const ALLOWED_PRICE_IMPACT_MEDIUM: Percent = new Percent(JSBI.BigInt(300), BIPS_BASE) // 3%\nexport const ALLOWED_PRICE_IMPACT_HIGH: Percent = new Percent(JSBI.BigInt(500), BIPS_BASE) // 5%\n// if the price slippage exceeds this number, force the user to type 'confirm' to execute\nexport const PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN: Percent = new Percent(JSBI.BigInt(1000), BIPS_BASE) // 10%\n// for non expert mode disable swaps above this\nexport const BLOCKED_PRICE_IMPACT_NON_EXPERT: Percent = new Percent(JSBI.BigInt(1500), BIPS_BASE) // 15%\n\nexport const BETTER_TRADE_LESS_HOPS_THRESHOLD = new Percent(JSBI.BigInt(50), BIPS_BASE)\n\nexport const ZERO_PERCENT = new Percent('0')\nexport const TWO_PERCENT = new Percent(JSBI.BigInt(200), BIPS_BASE)\nexport const ONE_HUNDRED_PERCENT = new Percent('1')\n","import { Currency, Percent, TradeType } from '@uniswap/sdk-core'\nimport { Trade as V2Trade } from '@uniswap/v2-sdk'\nimport { ONE_HUNDRED_PERCENT, ZERO_PERCENT } from 'constants/misc'\n\n// returns whether tradeB is better than tradeA by at least a threshold percentage amount\n// only used by v2 hooks\nexport function isTradeBetter(\n  tradeA: V2Trade<Currency, Currency, TradeType> | undefined | null,\n  tradeB: V2Trade<Currency, Currency, TradeType> | undefined | null,\n  minimumDelta: Percent = ZERO_PERCENT\n): boolean | undefined {\n  if (tradeA && !tradeB) return false\n  if (tradeB && !tradeA) return true\n  if (!tradeA || !tradeB) return undefined\n\n  if (\n    tradeA.tradeType !== tradeB.tradeType ||\n    !tradeA.inputAmount.currency.equals(tradeB.inputAmount.currency) ||\n    !tradeA.outputAmount.currency.equals(tradeB.outputAmount.currency)\n  ) {\n    throw new Error('Comparing incomparable trades')\n  }\n\n  if (minimumDelta.equalTo(ZERO_PERCENT)) {\n    return tradeA.executionPrice.lessThan(tradeB.executionPrice)\n  } else {\n    return tradeA.executionPrice.asFraction\n      .multiply(minimumDelta.add(ONE_HUNDRED_PERCENT))\n      .lessThan(tradeB.executionPrice)\n  }\n}\n","// a list of tokens by chain\nimport { Currency, Token } from '@uniswap/sdk-core'\n\nimport { SupportedChainId } from './chains'\nimport {\n  AMPL,\n  DAI,\n  DAI_ARBITRUM_ONE,\n  DAI_OPTIMISM,\n  DAI_POLYGON,\n  ETH2X_FLI,\n  FEI,\n  FRAX,\n  FXS,\n  nativeOnChain,\n  renBTC,\n  rETH2,\n  sETH2,\n  SWISE,\n  TRIBE,\n  USDC_ARBITRUM,\n  USDC_MAINNET,\n  USDC_OPTIMISM,\n  USDC_POLYGON,\n  USDT,\n  USDT_ARBITRUM_ONE,\n  USDT_OPTIMISM,\n  USDT_POLYGON,\n  WBTC,\n  WBTC_ARBITRUM_ONE,\n  WBTC_OPTIMISM,\n  WBTC_POLYGON,\n  WETH_POLYGON,\n  WETH_POLYGON_MUMBAI,\n  WRAPPED_NATIVE_CURRENCY,\n} from './tokens'\n\ntype ChainTokenList = {\n  readonly [chainId: number]: Token[]\n}\n\ntype ChainCurrencyList = {\n  readonly [chainId: number]: Currency[]\n}\n\nconst WRAPPED_NATIVE_CURRENCIES_ONLY: ChainTokenList = Object.fromEntries(\n  Object.entries(WRAPPED_NATIVE_CURRENCY)\n    .map(([key, value]) => [key, [value]])\n    .filter(Boolean)\n)\n\n// used to construct intermediary pairs for trading\nexport const BASES_TO_CHECK_TRADES_AGAINST: ChainTokenList = {\n  ...WRAPPED_NATIVE_CURRENCIES_ONLY,\n  [SupportedChainId.MAINNET]: [\n    ...WRAPPED_NATIVE_CURRENCIES_ONLY[SupportedChainId.MAINNET],\n    DAI,\n    USDC_MAINNET,\n    USDT,\n    WBTC,\n  ],\n  [SupportedChainId.OPTIMISM]: [\n    ...WRAPPED_NATIVE_CURRENCIES_ONLY[SupportedChainId.OPTIMISM],\n    DAI_OPTIMISM,\n    USDT_OPTIMISM,\n    WBTC_OPTIMISM,\n  ],\n  [SupportedChainId.ARBITRUM_ONE]: [\n    ...WRAPPED_NATIVE_CURRENCIES_ONLY[SupportedChainId.ARBITRUM_ONE],\n    DAI_ARBITRUM_ONE,\n    USDT_ARBITRUM_ONE,\n    WBTC_ARBITRUM_ONE,\n  ],\n  [SupportedChainId.POLYGON]: [\n    ...WRAPPED_NATIVE_CURRENCIES_ONLY[SupportedChainId.POLYGON],\n    DAI_POLYGON,\n    USDC_POLYGON,\n    USDT_POLYGON,\n    WETH_POLYGON,\n  ],\n}\nexport const ADDITIONAL_BASES: { [chainId: number]: { [tokenAddress: string]: Token[] } } = {\n  [SupportedChainId.MAINNET]: {\n    '0xF16E4d813f4DcfDe4c5b44f305c908742De84eF0': [ETH2X_FLI],\n    [rETH2.address]: [sETH2],\n    [SWISE.address]: [sETH2],\n    [FEI.address]: [TRIBE],\n    [TRIBE.address]: [FEI],\n    [FRAX.address]: [FXS],\n    [FXS.address]: [FRAX],\n    [WBTC.address]: [renBTC],\n    [renBTC.address]: [WBTC],\n  },\n}\n/**\n * Some tokens can only be swapped via certain pairs, so we override the list of bases that are considered for these\n * tokens.\n */\nexport const CUSTOM_BASES: { [chainId: number]: { [tokenAddress: string]: Token[] } } = {\n  [SupportedChainId.MAINNET]: {\n    [AMPL.address]: [DAI, WRAPPED_NATIVE_CURRENCY[SupportedChainId.MAINNET] as Token],\n  },\n}\n\n/**\n * Shows up in the currency select for swap and add liquidity\n */\nexport const COMMON_BASES: ChainCurrencyList = {\n  [SupportedChainId.MAINNET]: [\n    nativeOnChain(SupportedChainId.MAINNET),\n    DAI,\n    USDC_MAINNET,\n    USDT,\n    WBTC,\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.MAINNET] as Token,\n  ],\n  [SupportedChainId.ROPSTEN]: [\n    nativeOnChain(SupportedChainId.ROPSTEN),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.ROPSTEN] as Token,\n  ],\n  [SupportedChainId.RINKEBY]: [\n    nativeOnChain(SupportedChainId.RINKEBY),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.RINKEBY] as Token,\n  ],\n  [SupportedChainId.GOERLI]: [\n    nativeOnChain(SupportedChainId.GOERLI),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.GOERLI] as Token,\n  ],\n  [SupportedChainId.KOVAN]: [\n    nativeOnChain(SupportedChainId.KOVAN),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.KOVAN] as Token,\n  ],\n  [SupportedChainId.ARBITRUM_ONE]: [\n    nativeOnChain(SupportedChainId.ARBITRUM_ONE),\n    DAI_ARBITRUM_ONE,\n    USDC_ARBITRUM,\n    USDT_ARBITRUM_ONE,\n    WBTC_ARBITRUM_ONE,\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.ARBITRUM_ONE] as Token,\n  ],\n  [SupportedChainId.ARBITRUM_RINKEBY]: [\n    nativeOnChain(SupportedChainId.ARBITRUM_RINKEBY),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.ARBITRUM_RINKEBY] as Token,\n  ],\n  [SupportedChainId.OPTIMISM]: [\n    nativeOnChain(SupportedChainId.OPTIMISM),\n    DAI_OPTIMISM,\n    USDC_OPTIMISM,\n    USDT_OPTIMISM,\n    WBTC_OPTIMISM,\n  ],\n  [SupportedChainId.OPTIMISTIC_KOVAN]: [nativeOnChain(SupportedChainId.OPTIMISTIC_KOVAN)],\n  [SupportedChainId.POLYGON]: [\n    nativeOnChain(SupportedChainId.POLYGON),\n    WETH_POLYGON,\n    USDC_POLYGON,\n    DAI_POLYGON,\n    USDT_POLYGON,\n    WBTC_POLYGON,\n  ],\n  [SupportedChainId.POLYGON_MUMBAI]: [\n    nativeOnChain(SupportedChainId.POLYGON_MUMBAI),\n    WRAPPED_NATIVE_CURRENCY[SupportedChainId.POLYGON_MUMBAI] as Token,\n    WETH_POLYGON_MUMBAI,\n  ],\n}\n\n// used to construct the list of all pairs we consider by default in the frontend\nexport const BASES_TO_TRACK_LIQUIDITY_FOR: ChainTokenList = {\n  ...WRAPPED_NATIVE_CURRENCIES_ONLY,\n  [SupportedChainId.MAINNET]: [\n    ...WRAPPED_NATIVE_CURRENCIES_ONLY[SupportedChainId.MAINNET],\n    DAI,\n    USDC_MAINNET,\n    USDT,\n    WBTC,\n  ],\n}\nexport const PINNED_PAIRS: { readonly [chainId: number]: [Token, Token][] } = {\n  [SupportedChainId.MAINNET]: [\n    [\n      new Token(SupportedChainId.MAINNET, '0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643', 8, 'cDAI', 'Compound Dai'),\n      new Token(\n        SupportedChainId.MAINNET,\n        '0x39AA39c021dfbaE8faC545936693aC917d5E7563',\n        8,\n        'cUSDC',\n        'Compound USD Coin'\n      ),\n    ],\n    [USDC_MAINNET, USDT],\n    [DAI, USDT],\n  ],\n}\n","import { Currency, Token } from '@uniswap/sdk-core'\nimport { ADDITIONAL_BASES, BASES_TO_CHECK_TRADES_AGAINST, CUSTOM_BASES } from 'constants/routing'\nimport { useMemo } from 'react'\n\nexport function useAllCurrencyCombinations(currencyA?: Currency, currencyB?: Currency): [Token, Token][] {\n  const chainId = currencyA?.chainId\n\n  const [tokenA, tokenB] = chainId ? [currencyA?.wrapped, currencyB?.wrapped] : [undefined, undefined]\n\n  const bases: Token[] = useMemo(() => {\n    if (!chainId || chainId !== tokenB?.chainId) return []\n\n    const common = BASES_TO_CHECK_TRADES_AGAINST[chainId] ?? []\n    const additionalA = tokenA ? ADDITIONAL_BASES[chainId]?.[tokenA.address] ?? [] : []\n    const additionalB = tokenB ? ADDITIONAL_BASES[chainId]?.[tokenB.address] ?? [] : []\n\n    return [...common, ...additionalA, ...additionalB]\n  }, [chainId, tokenA, tokenB])\n\n  const basePairs: [Token, Token][] = useMemo(\n    () =>\n      bases\n        .flatMap((base): [Token, Token][] => bases.map((otherBase) => [base, otherBase]))\n        // though redundant with the first filter below, that expression runs more often, so this is probably worthwhile\n        .filter(([t0, t1]) => !t0.equals(t1)),\n    [bases]\n  )\n\n  return useMemo(\n    () =>\n      tokenA && tokenB\n        ? [\n            // the direct pair\n            [tokenA, tokenB] as [Token, Token],\n            // token A against all bases\n            ...bases.map((base): [Token, Token] => [tokenA, base]),\n            // token B against all bases\n            ...bases.map((base): [Token, Token] => [tokenB, base]),\n            // each base against all bases\n            ...basePairs,\n          ]\n            // filter out invalid pairs comprised of the same asset (e.g. WETH<>WETH)\n            .filter(([t0, t1]) => !t0.equals(t1))\n            // filter out duplicate pairs\n            .filter(([t0, t1], i, otherPairs) => {\n              // find the first index in the array at which there are the same 2 tokens as the current\n              const firstIndexInOtherPairs = otherPairs.findIndex(([t0Other, t1Other]) => {\n                return (t0.equals(t0Other) && t1.equals(t1Other)) || (t0.equals(t1Other) && t1.equals(t0Other))\n              })\n              // only accept the first occurrence of the same 2 tokens\n              return firstIndexInOtherPairs === i\n            })\n            // optionally filter out some pairs for tokens with custom bases defined\n            .filter(([tokenA, tokenB]) => {\n              if (!chainId) return true\n              const customBases = CUSTOM_BASES[chainId]\n\n              const customBasesA: Token[] | undefined = customBases?.[tokenA.address]\n              const customBasesB: Token[] | undefined = customBases?.[tokenB.address]\n\n              if (!customBasesA && !customBasesB) return true\n\n              if (customBasesA && !customBasesA.find((base) => tokenB.equals(base))) return false\n              if (customBasesB && !customBasesB.find((base) => tokenA.equals(base))) return false\n\n              return true\n            })\n        : [],\n    [tokenA, tokenB, bases, basePairs, chainId]\n  )\n}\n","import { Interface } from '@ethersproject/abi'\nimport { Currency, CurrencyAmount } from '@uniswap/sdk-core'\nimport { abi as IUniswapV2PairABI } from '@uniswap/v2-core/build/IUniswapV2Pair.json'\nimport { computePairAddress, Pair } from '@uniswap/v2-sdk'\nimport { V2_FACTORY_ADDRESSES } from 'constants/addresses'\nimport { useMultipleContractSingleData } from 'hooks/multicall'\nimport { useMemo } from 'react'\n\nconst PAIR_INTERFACE = new Interface(IUniswapV2PairABI)\n\nexport enum PairState {\n  LOADING,\n  NOT_EXISTS,\n  EXISTS,\n  INVALID,\n}\n\nexport function useV2Pairs(currencies: [Currency | undefined, Currency | undefined][]): [PairState, Pair | null][] {\n  const tokens = useMemo(\n    () => currencies.map(([currencyA, currencyB]) => [currencyA?.wrapped, currencyB?.wrapped]),\n    [currencies]\n  )\n\n  const pairAddresses = useMemo(\n    () =>\n      tokens.map(([tokenA, tokenB]) => {\n        return tokenA &&\n          tokenB &&\n          tokenA.chainId === tokenB.chainId &&\n          !tokenA.equals(tokenB) &&\n          V2_FACTORY_ADDRESSES[tokenA.chainId]\n          ? computePairAddress({ factoryAddress: V2_FACTORY_ADDRESSES[tokenA.chainId], tokenA, tokenB })\n          : undefined\n      }),\n    [tokens]\n  )\n\n  const results = useMultipleContractSingleData(pairAddresses, PAIR_INTERFACE, 'getReserves')\n\n  return useMemo(() => {\n    return results.map((result, i) => {\n      const { result: reserves, loading } = result\n      const tokenA = tokens[i][0]\n      const tokenB = tokens[i][1]\n\n      if (loading) return [PairState.LOADING, null]\n      if (!tokenA || !tokenB || tokenA.equals(tokenB)) return [PairState.INVALID, null]\n      if (!reserves) return [PairState.NOT_EXISTS, null]\n      const { reserve0, reserve1 } = reserves\n      const [token0, token1] = tokenA.sortsBefore(tokenB) ? [tokenA, tokenB] : [tokenB, tokenA]\n      return [\n        PairState.EXISTS,\n        new Pair(\n          CurrencyAmount.fromRawAmount(token0, reserve0.toString()),\n          CurrencyAmount.fromRawAmount(token1, reserve1.toString())\n        ),\n      ]\n    })\n  }, [results, tokens])\n}\n\nexport function useV2Pair(tokenA?: Currency, tokenB?: Currency): [PairState, Pair | null] {\n  const inputs: [[Currency | undefined, Currency | undefined]] = useMemo(() => [[tokenA, tokenB]], [tokenA, tokenB])\n  return useV2Pairs(inputs)[0]\n}\n","import { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { Pair, Trade } from '@uniswap/v2-sdk'\nimport { BETTER_TRADE_LESS_HOPS_THRESHOLD } from 'constants/misc'\nimport { useMemo } from 'react'\nimport { isTradeBetter } from 'utils/isTradeBetter'\n\nimport { useAllCurrencyCombinations } from './useAllCurrencyCombinations'\nimport { PairState, useV2Pairs } from './useV2Pairs'\n\nfunction useAllCommonPairs(currencyA?: Currency, currencyB?: Currency): Pair[] {\n  const allCurrencyCombinations = useAllCurrencyCombinations(currencyA, currencyB)\n\n  const allPairs = useV2Pairs(allCurrencyCombinations)\n\n  return useMemo(\n    () =>\n      Object.values(\n        allPairs\n          // filter out invalid pairs\n          .filter((result): result is [PairState.EXISTS, Pair] => Boolean(result[0] === PairState.EXISTS && result[1]))\n          .map(([, pair]) => pair)\n      ),\n    [allPairs]\n  )\n}\n\nconst MAX_HOPS = 3\n\n/**\n * Returns the best v2 trade for a desired swap\n * @param tradeType whether the swap is an exact in/out\n * @param amountSpecified the exact amount to swap in/out\n * @param otherCurrency the desired output/payment currency\n */\nexport function useBestV2Trade(\n  tradeType: TradeType.EXACT_INPUT | TradeType.EXACT_OUTPUT,\n  amountSpecified?: CurrencyAmount<Currency>,\n  otherCurrency?: Currency,\n  { maxHops = MAX_HOPS } = {}\n): Trade<Currency, Currency, TradeType.EXACT_INPUT | TradeType.EXACT_OUTPUT> | null {\n  const [currencyIn, currencyOut] = useMemo(\n    () =>\n      tradeType === TradeType.EXACT_INPUT\n        ? [amountSpecified?.currency, otherCurrency]\n        : [otherCurrency, amountSpecified?.currency],\n    [tradeType, amountSpecified, otherCurrency]\n  )\n  const allowedPairs = useAllCommonPairs(currencyIn, currencyOut)\n\n  return useMemo(() => {\n    if (amountSpecified && currencyIn && currencyOut && allowedPairs.length > 0) {\n      if (maxHops === 1) {\n        const options = { maxHops: 1, maxNumResults: 1 }\n        if (tradeType === TradeType.EXACT_INPUT) {\n          const amountIn = amountSpecified\n          return Trade.bestTradeExactIn(allowedPairs, amountIn, currencyOut, options)[0] ?? null\n        } else {\n          const amountOut = amountSpecified\n          return Trade.bestTradeExactOut(allowedPairs, currencyIn, amountOut, options)[0] ?? null\n        }\n      }\n\n      // search through trades with varying hops, find best trade out of them\n      let bestTradeSoFar: Trade<Currency, Currency, TradeType.EXACT_INPUT | TradeType.EXACT_OUTPUT> | null = null\n      for (let i = 1; i <= maxHops; i++) {\n        const options = { maxHops: i, maxNumResults: 1 }\n        let currentTrade: Trade<Currency, Currency, TradeType.EXACT_INPUT | TradeType.EXACT_OUTPUT> | null\n\n        if (tradeType === TradeType.EXACT_INPUT) {\n          const amountIn = amountSpecified\n          currentTrade = Trade.bestTradeExactIn(allowedPairs, amountIn, currencyOut, options)[0] ?? null\n        } else {\n          const amountOut = amountSpecified\n          currentTrade = Trade.bestTradeExactOut(allowedPairs, currencyIn, amountOut, options)[0] ?? null\n        }\n\n        // if current trade is best yet, save it\n        if (isTradeBetter(bestTradeSoFar, currentTrade, BETTER_TRADE_LESS_HOPS_THRESHOLD)) {\n          bestTradeSoFar = currentTrade\n        }\n      }\n      return bestTradeSoFar\n    }\n\n    return null\n  }, [tradeType, amountSpecified, currencyIn, currencyOut, allowedPairs, maxHops])\n}\n","import { Trade } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, Token, TradeType } from '@uniswap/sdk-core'\nimport { Route as V2Route } from '@uniswap/v2-sdk'\nimport { Route as V3Route } from '@uniswap/v3-sdk'\n\nexport enum TradeState {\n  LOADING,\n  INVALID,\n  NO_ROUTE_FOUND,\n  VALID,\n  SYNCING,\n}\n\n// from https://github.com/Uniswap/routing-api/blob/main/lib/handlers/schema.ts\n\nexport type TokenInRoute = Pick<Token, 'address' | 'chainId' | 'symbol' | 'decimals'>\n\nexport type V3PoolInRoute = {\n  type: 'v3-pool'\n  tokenIn: TokenInRoute\n  tokenOut: TokenInRoute\n  sqrtRatioX96: string\n  liquidity: string\n  tickCurrent: string\n  fee: string\n  amountIn?: string\n  amountOut?: string\n\n  // not used in the interface\n  address?: string\n}\n\nexport type V2Reserve = {\n  token: TokenInRoute\n  quotient: string\n}\n\nexport type V2PoolInRoute = {\n  type: 'v2-pool'\n  tokenIn: TokenInRoute\n  tokenOut: TokenInRoute\n  reserve0: V2Reserve\n  reserve1: V2Reserve\n  amountIn?: string\n  amountOut?: string\n\n  // not used in the interface\n  // avoid returning it from the client-side smart-order-router\n  address?: string\n}\n\nexport interface GetQuoteResult {\n  quoteId?: string\n  blockNumber: string\n  amount: string\n  amountDecimals: string\n  gasPriceWei: string\n  gasUseEstimate: string\n  gasUseEstimateQuote: string\n  gasUseEstimateQuoteDecimals: string\n  gasUseEstimateUSD: string\n  methodParameters?: { calldata: string; value: string }\n  quote: string\n  quoteDecimals: string\n  quoteGasAdjusted: string\n  quoteGasAdjustedDecimals: string\n  route: Array<V3PoolInRoute[] | V2PoolInRoute[]>\n  routeString: string\n}\n\nexport class InterfaceTrade<\n  TInput extends Currency,\n  TOutput extends Currency,\n  TTradeType extends TradeType\n> extends Trade<TInput, TOutput, TTradeType> {\n  gasUseEstimateUSD: CurrencyAmount<Token> | null | undefined\n\n  constructor({\n    gasUseEstimateUSD,\n    ...routes\n  }: {\n    gasUseEstimateUSD?: CurrencyAmount<Token> | undefined | null\n    v2Routes: {\n      routev2: V2Route<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n    v3Routes: {\n      routev3: V3Route<TInput, TOutput>\n      inputAmount: CurrencyAmount<TInput>\n      outputAmount: CurrencyAmount<TOutput>\n    }[]\n    tradeType: TTradeType\n  }) {\n    super(routes)\n    this.gasUseEstimateUSD = gasUseEstimateUSD\n  }\n}\n","import { Interface } from '@ethersproject/abi'\nimport { BigintIsh, Currency, Token } from '@uniswap/sdk-core'\nimport { abi as IUniswapV3PoolStateABI } from '@uniswap/v3-core/artifacts/contracts/interfaces/pool/IUniswapV3PoolState.sol/IUniswapV3PoolState.json'\nimport { computePoolAddress } from '@uniswap/v3-sdk'\nimport { FeeAmount, Pool } from '@uniswap/v3-sdk'\nimport { V3_CORE_FACTORY_ADDRESSES } from 'constants/addresses'\nimport { useMultipleContractSingleData } from 'hooks/multicall'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport JSBI from 'jsbi'\nimport { useMemo } from 'react'\nimport { IUniswapV3PoolStateInterface } from 'types/v3/IUniswapV3PoolState'\n\nconst POOL_STATE_INTERFACE = new Interface(IUniswapV3PoolStateABI) as IUniswapV3PoolStateInterface\n\n// Classes are expensive to instantiate, so this caches the recently instantiated pools.\n// This avoids re-instantiating pools as the other pools in the same request are loaded.\nclass PoolCache {\n  // Evict after 128 entries. Empirically, a swap uses 64 entries.\n  private static MAX_ENTRIES = 128\n\n  // These are FIFOs, using unshift/pop. This makes recent entries faster to find.\n  private static pools: Pool[] = []\n  private static addresses: { key: string; address: string }[] = []\n\n  static getPoolAddress(factoryAddress: string, tokenA: Token, tokenB: Token, fee: FeeAmount): string {\n    if (this.addresses.length > this.MAX_ENTRIES) {\n      this.addresses = this.addresses.slice(0, this.MAX_ENTRIES / 2)\n    }\n\n    const { address: addressA } = tokenA\n    const { address: addressB } = tokenB\n    const key = `${factoryAddress}:${addressA}:${addressB}:${fee.toString()}`\n    const found = this.addresses.find((address) => address.key === key)\n    if (found) return found.address\n\n    const address = {\n      key,\n      address: computePoolAddress({\n        factoryAddress,\n        tokenA,\n        tokenB,\n        fee,\n      }),\n    }\n    this.addresses.unshift(address)\n    return address.address\n  }\n\n  static getPool(\n    tokenA: Token,\n    tokenB: Token,\n    fee: FeeAmount,\n    sqrtPriceX96: BigintIsh,\n    liquidity: BigintIsh,\n    tick: number\n  ): Pool {\n    if (this.pools.length > this.MAX_ENTRIES) {\n      this.pools = this.pools.slice(0, this.MAX_ENTRIES / 2)\n    }\n\n    const found = this.pools.find(\n      (pool) =>\n        pool.token0 === tokenA &&\n        pool.token1 === tokenB &&\n        pool.fee === fee &&\n        JSBI.EQ(pool.sqrtRatioX96, sqrtPriceX96) &&\n        JSBI.EQ(pool.liquidity, liquidity) &&\n        pool.tickCurrent === tick\n    )\n    if (found) return found\n\n    const pool = new Pool(tokenA, tokenB, fee, sqrtPriceX96, liquidity, tick)\n    this.pools.unshift(pool)\n    return pool\n  }\n}\n\nexport enum PoolState {\n  LOADING,\n  NOT_EXISTS,\n  EXISTS,\n  INVALID,\n}\n\nexport function usePools(\n  poolKeys: [Currency | undefined, Currency | undefined, FeeAmount | undefined][]\n): [PoolState, Pool | null][] {\n  const { chainId } = useActiveWeb3React()\n\n  const poolTokens: ([Token, Token, FeeAmount] | undefined)[] = useMemo(() => {\n    if (!chainId) return new Array(poolKeys.length)\n\n    return poolKeys.map(([currencyA, currencyB, feeAmount]) => {\n      if (currencyA && currencyB && feeAmount) {\n        const tokenA = currencyA.wrapped\n        const tokenB = currencyB.wrapped\n        if (tokenA.equals(tokenB)) return undefined\n\n        return tokenA.sortsBefore(tokenB) ? [tokenA, tokenB, feeAmount] : [tokenB, tokenA, feeAmount]\n      }\n      return undefined\n    })\n  }, [chainId, poolKeys])\n\n  const poolAddresses: (string | undefined)[] = useMemo(() => {\n    const v3CoreFactoryAddress = chainId && V3_CORE_FACTORY_ADDRESSES[chainId]\n    if (!v3CoreFactoryAddress) return new Array(poolTokens.length)\n\n    return poolTokens.map((value) => value && PoolCache.getPoolAddress(v3CoreFactoryAddress, ...value))\n  }, [chainId, poolTokens])\n\n  const slot0s = useMultipleContractSingleData(poolAddresses, POOL_STATE_INTERFACE, 'slot0')\n  const liquidities = useMultipleContractSingleData(poolAddresses, POOL_STATE_INTERFACE, 'liquidity')\n\n  return useMemo(() => {\n    return poolKeys.map((_key, index) => {\n      const tokens = poolTokens[index]\n      if (!tokens) return [PoolState.INVALID, null]\n      const [token0, token1, fee] = tokens\n\n      if (!slot0s[index]) return [PoolState.INVALID, null]\n      const { result: slot0, loading: slot0Loading, valid: slot0Valid } = slot0s[index]\n\n      if (!liquidities[index]) return [PoolState.INVALID, null]\n      const { result: liquidity, loading: liquidityLoading, valid: liquidityValid } = liquidities[index]\n\n      if (!tokens || !slot0Valid || !liquidityValid) return [PoolState.INVALID, null]\n      if (slot0Loading || liquidityLoading) return [PoolState.LOADING, null]\n      if (!slot0 || !liquidity) return [PoolState.NOT_EXISTS, null]\n      if (!slot0.sqrtPriceX96 || slot0.sqrtPriceX96.eq(0)) return [PoolState.NOT_EXISTS, null]\n\n      try {\n        const pool = PoolCache.getPool(token0, token1, fee, slot0.sqrtPriceX96, liquidity[0], slot0.tick)\n        return [PoolState.EXISTS, pool]\n      } catch (error) {\n        console.error('Error when constructing the pool', error)\n        return [PoolState.NOT_EXISTS, null]\n      }\n    })\n  }, [liquidities, poolKeys, slot0s, poolTokens])\n}\n\nexport function usePool(\n  currencyA: Currency | undefined,\n  currencyB: Currency | undefined,\n  feeAmount: FeeAmount | undefined\n): [PoolState, Pool | null] {\n  const poolKeys: [Currency | undefined, Currency | undefined, FeeAmount | undefined][] = useMemo(\n    () => [[currencyA, currencyB, feeAmount]],\n    [currencyA, currencyB, feeAmount]\n  )\n\n  return usePools(poolKeys)[0]\n}\n","import { Currency, Token } from '@uniswap/sdk-core'\nimport { FeeAmount, Pool } from '@uniswap/v3-sdk'\nimport { SupportedChainId } from 'constants/chains'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useMemo } from 'react'\n\nimport { useAllCurrencyCombinations } from './useAllCurrencyCombinations'\nimport { PoolState, usePools } from './usePools'\n\n/**\n * Returns all the existing pools that should be considered for swapping between an input currency and an output currency\n * @param currencyIn the input currency\n * @param currencyOut the output currency\n */\nexport function useV3SwapPools(\n  currencyIn?: Currency,\n  currencyOut?: Currency\n): {\n  pools: Pool[]\n  loading: boolean\n} {\n  const { chainId } = useActiveWeb3React()\n\n  const allCurrencyCombinations = useAllCurrencyCombinations(currencyIn, currencyOut)\n\n  const allCurrencyCombinationsWithAllFees: [Token, Token, FeeAmount][] = useMemo(\n    () =>\n      allCurrencyCombinations.reduce<[Token, Token, FeeAmount][]>((list, [tokenA, tokenB]) => {\n        return chainId === SupportedChainId.MAINNET\n          ? list.concat([\n              [tokenA, tokenB, FeeAmount.LOW],\n              [tokenA, tokenB, FeeAmount.MEDIUM],\n              [tokenA, tokenB, FeeAmount.HIGH],\n            ])\n          : list.concat([\n              [tokenA, tokenB, FeeAmount.LOWEST],\n              [tokenA, tokenB, FeeAmount.LOW],\n              [tokenA, tokenB, FeeAmount.MEDIUM],\n              [tokenA, tokenB, FeeAmount.HIGH],\n            ])\n      }, []),\n    [allCurrencyCombinations, chainId]\n  )\n\n  const pools = usePools(allCurrencyCombinationsWithAllFees)\n\n  return useMemo(() => {\n    return {\n      pools: pools\n        .filter((tuple): tuple is [PoolState.EXISTS, Pool] => {\n          return tuple[0] === PoolState.EXISTS && tuple[1] !== null\n        })\n        .map(([, pool]) => pool),\n      loading: pools.some(([state]) => state === PoolState.LOADING),\n    }\n  }, [pools])\n}\n","import { Currency } from '@uniswap/sdk-core'\nimport { Pool, Route } from '@uniswap/v3-sdk'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useMemo } from 'react'\n\nimport { useV3SwapPools } from './useV3SwapPools'\n\n/**\n * Returns true if poolA is equivalent to poolB\n * @param poolA one of the two pools\n * @param poolB the other pool\n */\nfunction poolEquals(poolA: Pool, poolB: Pool): boolean {\n  return (\n    poolA === poolB ||\n    (poolA.token0.equals(poolB.token0) && poolA.token1.equals(poolB.token1) && poolA.fee === poolB.fee)\n  )\n}\n\nfunction computeAllRoutes(\n  currencyIn: Currency,\n  currencyOut: Currency,\n  pools: Pool[],\n  chainId: number,\n  currentPath: Pool[] = [],\n  allPaths: Route<Currency, Currency>[] = [],\n  startCurrencyIn: Currency = currencyIn,\n  maxHops = 2\n): Route<Currency, Currency>[] {\n  const tokenIn = currencyIn?.wrapped\n  const tokenOut = currencyOut?.wrapped\n  if (!tokenIn || !tokenOut) throw new Error('Missing tokenIn/tokenOut')\n\n  for (const pool of pools) {\n    if (!pool.involvesToken(tokenIn) || currentPath.find((pathPool) => poolEquals(pool, pathPool))) continue\n\n    const outputToken = pool.token0.equals(tokenIn) ? pool.token1 : pool.token0\n    if (outputToken.equals(tokenOut)) {\n      allPaths.push(new Route([...currentPath, pool], startCurrencyIn, currencyOut))\n    } else if (maxHops > 1) {\n      computeAllRoutes(\n        outputToken,\n        currencyOut,\n        pools,\n        chainId,\n        [...currentPath, pool],\n        allPaths,\n        startCurrencyIn,\n        maxHops - 1\n      )\n    }\n  }\n\n  return allPaths\n}\n\n/**\n * Returns all the routes from an input currency to an output currency\n * @param currencyIn the input currency\n * @param currencyOut the output currency\n */\nexport function useAllV3Routes(\n  currencyIn?: Currency,\n  currencyOut?: Currency\n): { loading: boolean; routes: Route<Currency, Currency>[] } {\n  const { chainId } = useActiveWeb3React()\n  const { pools, loading: poolsLoading } = useV3SwapPools(currencyIn, currencyOut)\n\n  return useMemo(() => {\n    if (poolsLoading || !chainId || !pools || !currencyIn || !currencyOut) return { loading: true, routes: [] }\n\n    const routes = computeAllRoutes(currencyIn, currencyOut, pools, chainId, [], [], currencyIn, 2)\n    return { loading: false, routes }\n  }, [chainId, currencyIn, currencyOut, pools, poolsLoading])\n}\n","import { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { Route, SwapQuoter } from '@uniswap/v3-sdk'\nimport { SupportedChainId } from 'constants/chains'\nimport { useSingleContractWithCallData } from 'hooks/multicall'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport JSBI from 'jsbi'\nimport { useMemo } from 'react'\nimport { InterfaceTrade, TradeState } from 'state/routing/types'\n\nimport { useAllV3Routes } from './useAllV3Routes'\nimport { useV3Quoter } from './useContract'\n\nconst QUOTE_GAS_OVERRIDES: { [chainId: number]: number } = {\n  [SupportedChainId.ARBITRUM_ONE]: 25_000_000,\n  [SupportedChainId.ARBITRUM_RINKEBY]: 25_000_000,\n}\n\nconst DEFAULT_GAS_QUOTE = 2_000_000\n\n/**\n * Returns the best v3 trade for a desired swap\n * @param tradeType whether the swap is an exact in/out\n * @param amountSpecified the exact amount to swap in/out\n * @param otherCurrency the desired output/payment currency\n */\nexport function useClientSideV3Trade<TTradeType extends TradeType>(\n  tradeType: TTradeType,\n  amountSpecified?: CurrencyAmount<Currency>,\n  otherCurrency?: Currency\n): { state: TradeState; trade: InterfaceTrade<Currency, Currency, TTradeType> | undefined } {\n  const [currencyIn, currencyOut] =\n    tradeType === TradeType.EXACT_INPUT\n      ? [amountSpecified?.currency, otherCurrency]\n      : [otherCurrency, amountSpecified?.currency]\n  const { routes, loading: routesLoading } = useAllV3Routes(currencyIn, currencyOut)\n\n  const quoter = useV3Quoter()\n  const { chainId } = useActiveWeb3React()\n  const callData = useMemo(\n    () =>\n      amountSpecified\n        ? routes.map((route) => SwapQuoter.quoteCallParameters(route, amountSpecified, tradeType).calldata)\n        : [],\n    [amountSpecified, routes, tradeType]\n  )\n  const quotesResults = useSingleContractWithCallData(quoter, callData, {\n    gasRequired: chainId ? QUOTE_GAS_OVERRIDES[chainId] ?? DEFAULT_GAS_QUOTE : undefined,\n  })\n\n  return useMemo(() => {\n    if (\n      !amountSpecified ||\n      !currencyIn ||\n      !currencyOut ||\n      quotesResults.some(({ valid }) => !valid) ||\n      // skip when tokens are the same\n      (tradeType === TradeType.EXACT_INPUT\n        ? amountSpecified.currency.equals(currencyOut)\n        : amountSpecified.currency.equals(currencyIn))\n    ) {\n      return {\n        state: TradeState.INVALID,\n        trade: undefined,\n      }\n    }\n\n    if (routesLoading || quotesResults.some(({ loading }) => loading)) {\n      return {\n        state: TradeState.LOADING,\n        trade: undefined,\n      }\n    }\n\n    const { bestRoute, amountIn, amountOut } = quotesResults.reduce(\n      (\n        currentBest: {\n          bestRoute: Route<Currency, Currency> | null\n          amountIn: CurrencyAmount<Currency> | null\n          amountOut: CurrencyAmount<Currency> | null\n        },\n        { result },\n        i\n      ) => {\n        if (!result) return currentBest\n\n        // overwrite the current best if it's not defined or if this route is better\n        if (tradeType === TradeType.EXACT_INPUT) {\n          const amountOut = CurrencyAmount.fromRawAmount(currencyOut, result.amountOut.toString())\n          if (currentBest.amountOut === null || JSBI.lessThan(currentBest.amountOut.quotient, amountOut.quotient)) {\n            return {\n              bestRoute: routes[i],\n              amountIn: amountSpecified,\n              amountOut,\n            }\n          }\n        } else {\n          const amountIn = CurrencyAmount.fromRawAmount(currencyIn, result.amountIn.toString())\n          if (currentBest.amountIn === null || JSBI.greaterThan(currentBest.amountIn.quotient, amountIn.quotient)) {\n            return {\n              bestRoute: routes[i],\n              amountIn,\n              amountOut: amountSpecified,\n            }\n          }\n        }\n\n        return currentBest\n      },\n      {\n        bestRoute: null,\n        amountIn: null,\n        amountOut: null,\n      }\n    )\n\n    if (!bestRoute || !amountIn || !amountOut) {\n      return {\n        state: TradeState.NO_ROUTE_FOUND,\n        trade: undefined,\n      }\n    }\n\n    return {\n      state: TradeState.VALID,\n      trade: new InterfaceTrade({\n        v2Routes: [],\n        v3Routes: [\n          {\n            routev3: bestRoute,\n            inputAmount: amountIn,\n            outputAmount: amountOut,\n          },\n        ],\n        tradeType,\n      }),\n    }\n  }, [amountSpecified, currencyIn, currencyOut, quotesResults, routes, routesLoading, tradeType])\n}\n","import { Currency, CurrencyAmount, Price, Token, TradeType } from '@uniswap/sdk-core'\nimport { SupportedChainId } from 'constants/chains'\nimport { DAI_OPTIMISM, USDC_ARBITRUM, USDC_MAINNET, USDC_POLYGON } from 'constants/tokens'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useMemo, useRef } from 'react'\nimport tryParseCurrencyAmount from 'utils/tryParseCurrencyAmount'\n\nimport { useBestV2Trade } from './useBestV2Trade'\nimport { useClientSideV3Trade } from './useClientSideV3Trade'\n\n// Stablecoin amounts used when calculating spot price for a given currency.\n// The amount is large enough to filter low liquidity pairs.\nexport const STABLECOIN_AMOUNT_OUT: { [chainId: number]: CurrencyAmount<Token> } = {\n  [SupportedChainId.MAINNET]: CurrencyAmount.fromRawAmount(USDC_MAINNET, 100_000e6),\n  [SupportedChainId.ARBITRUM_ONE]: CurrencyAmount.fromRawAmount(USDC_ARBITRUM, 10_000e6),\n  [SupportedChainId.OPTIMISM]: CurrencyAmount.fromRawAmount(DAI_OPTIMISM, 10_000e18),\n  [SupportedChainId.POLYGON]: CurrencyAmount.fromRawAmount(USDC_POLYGON, 10_000e6),\n}\n\n/**\n * Returns the price in USDC of the input currency\n * @param currency currency to compute the USDC price of\n */\nexport default function useUSDCPrice(currency?: Currency): Price<Currency, Token> | undefined {\n  const chainId = currency?.chainId\n\n  const amountOut = chainId ? STABLECOIN_AMOUNT_OUT[chainId] : undefined\n  const stablecoin = amountOut?.currency\n\n  // TODO(#2808): remove dependency on useBestV2Trade\n  const v2USDCTrade = useBestV2Trade(TradeType.EXACT_OUTPUT, amountOut, currency, {\n    maxHops: 2,\n  })\n  const v3USDCTrade = useClientSideV3Trade(TradeType.EXACT_OUTPUT, amountOut, currency)\n  const price = useMemo(() => {\n    if (!currency || !stablecoin) {\n      return undefined\n    }\n\n    // handle usdc\n    if (currency?.wrapped.equals(stablecoin)) {\n      return new Price(stablecoin, stablecoin, '1', '1')\n    }\n\n    // use v2 price if available, v3 as fallback\n    if (v2USDCTrade) {\n      const { numerator, denominator } = v2USDCTrade.route.midPrice\n      return new Price(currency, stablecoin, denominator, numerator)\n    } else if (v3USDCTrade.trade) {\n      const { numerator, denominator } = v3USDCTrade.trade.routes[0].midPrice\n      return new Price(currency, stablecoin, denominator, numerator)\n    }\n\n    return undefined\n  }, [currency, stablecoin, v2USDCTrade, v3USDCTrade.trade])\n\n  const lastPrice = useRef(price)\n  if (!price || !lastPrice.current || !price.equalTo(lastPrice.current)) {\n    lastPrice.current = price\n  }\n  return lastPrice.current\n}\n\nexport function useUSDCValue(currencyAmount: CurrencyAmount<Currency> | undefined | null) {\n  const price = useUSDCPrice(currencyAmount?.currency)\n\n  return useMemo(() => {\n    if (!price || !currencyAmount) return null\n    try {\n      return price.quote(currencyAmount)\n    } catch (error) {\n      return null\n    }\n  }, [currencyAmount, price])\n}\n\n/**\n *\n * @param fiatValue string representation of a USD amount\n * @returns CurrencyAmount where currency is stablecoin on active chain\n */\nexport function useStablecoinAmountFromFiatValue(fiatValue: string | null | undefined) {\n  const { chainId } = useActiveWeb3React()\n  const stablecoin = chainId ? STABLECOIN_AMOUNT_OUT[chainId]?.currency : undefined\n\n  return useMemo(() => {\n    if (fiatValue === null || fiatValue === undefined || !chainId || !stablecoin) {\n      return undefined\n    }\n\n    // trim for decimal precision when parsing\n    const parsedForDecimals = parseFloat(fiatValue).toFixed(stablecoin.decimals).toString()\n    try {\n      // parse USD string into CurrencyAmount based on stablecoin decimals\n      return tryParseCurrencyAmount(parsedForDecimals, stablecoin)\n    } catch (error) {\n      return undefined\n    }\n  }, [chainId, fiatValue, stablecoin])\n}\n","import { Trade } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, Percent, TradeType } from '@uniswap/sdk-core'\nimport { SUPPORTED_GAS_ESTIMATE_CHAIN_IDS } from 'constants/chains'\nimport { L2_CHAIN_IDS } from 'constants/chains'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useNativeCurrency from 'hooks/useNativeCurrency'\nimport JSBI from 'jsbi'\nimport { useMemo } from 'react'\nimport { InterfaceTrade } from 'state/routing/types'\n\nimport useGasPrice from './useGasPrice'\nimport useUSDCPrice, { useUSDCValue } from './useUSDCPrice'\n\nconst V3_SWAP_DEFAULT_SLIPPAGE = new Percent(50, 10_000) // .50%\nconst ONE_TENTHS_PERCENT = new Percent(10, 10_000) // .10%\nexport const DEFAULT_AUTO_SLIPPAGE = ONE_TENTHS_PERCENT\n\n/**\n * Return a guess of the gas cost used in computing slippage tolerance for a given trade\n * @param trade the trade for which to _guess_ the amount of gas it would cost to execute\n */\nfunction guesstimateGas(trade: Trade<Currency, Currency, TradeType> | undefined): number | undefined {\n  if (!!trade) {\n    return 100_000 + trade.swaps.reduce((memo, swap) => swap.route.pools.length + memo, 0) * 30_000\n  }\n  return undefined\n}\n\nconst MIN_AUTO_SLIPPAGE_TOLERANCE = new Percent(5, 1000) // 0.5%\nconst MAX_AUTO_SLIPPAGE_TOLERANCE = new Percent(25, 100) // 25%\n\n/**\n * Returns slippage tolerance based on values from current trade, gas estimates from api, and active network.\n */\nexport default function useAutoSlippageTolerance(\n  trade: InterfaceTrade<Currency, Currency, TradeType> | undefined\n): Percent {\n  const { chainId } = useActiveWeb3React()\n  const onL2 = chainId && L2_CHAIN_IDS.includes(chainId)\n  const outputDollarValue = useUSDCValue(trade?.outputAmount)\n  const nativeGasPrice = useGasPrice()\n\n  const gasEstimate = guesstimateGas(trade)\n  const nativeCurrency = useNativeCurrency()\n  const nativeCurrencyPrice = useUSDCPrice((trade && nativeCurrency) ?? undefined)\n\n  return useMemo(() => {\n    if (!trade || onL2) return DEFAULT_AUTO_SLIPPAGE\n\n    const nativeGasCost =\n      nativeGasPrice && typeof gasEstimate === 'number'\n        ? JSBI.multiply(nativeGasPrice, JSBI.BigInt(gasEstimate))\n        : undefined\n    const dollarGasCost =\n      nativeCurrency && nativeGasCost && nativeCurrencyPrice\n        ? nativeCurrencyPrice.quote(CurrencyAmount.fromRawAmount(nativeCurrency, nativeGasCost))\n        : undefined\n\n    // if valid estimate from api and using api trade, use gas estimate from api\n    // NOTE - dont use gas estimate for L2s yet - need to verify accuracy\n    // if not, use local heuristic\n    const dollarCostToUse =\n      chainId && SUPPORTED_GAS_ESTIMATE_CHAIN_IDS.includes(chainId) && trade?.gasUseEstimateUSD\n        ? trade.gasUseEstimateUSD\n        : dollarGasCost\n\n    if (outputDollarValue && dollarCostToUse) {\n      // the rationale is that a user will not want their trade to fail for a loss due to slippage that is less than\n      // the cost of the gas of the failed transaction\n      const fraction = dollarCostToUse.asFraction.divide(outputDollarValue.asFraction)\n      const result = new Percent(fraction.numerator, fraction.denominator)\n      if (result.greaterThan(MAX_AUTO_SLIPPAGE_TOLERANCE)) return MAX_AUTO_SLIPPAGE_TOLERANCE\n      if (result.lessThan(MIN_AUTO_SLIPPAGE_TOLERANCE)) return MIN_AUTO_SLIPPAGE_TOLERANCE\n      return result\n    }\n\n    return V3_SWAP_DEFAULT_SLIPPAGE\n  }, [trade, onL2, nativeGasPrice, gasEstimate, nativeCurrency, nativeCurrencyPrice, chainId, outputDollarValue])\n}\n","/* eslint-disable @typescript-eslint/ban-types */\nimport { Draft } from 'immer'\nimport { atom, WritableAtom } from 'jotai'\nimport { withImmer } from 'jotai/immer'\n\n/**\n * Creates a derived atom whose value is the picked object property.\n * By default, the setter acts as a primitive atom's, changing the original atom.\n * A custom setter may also be passed, which uses an Immer Draft so that it may be mutated directly.\n */\nexport function pickAtom<Value, Key extends keyof Value & keyof Draft<Value>, Update>(\n  anAtom: WritableAtom<Value, Value>,\n  key: Key,\n  setter: (draft: Draft<Value>[Key], update: Update) => Draft<Value>[Key]\n): WritableAtom<Value[Key], Update>\nexport function pickAtom<Value, Key extends keyof Value & keyof Draft<Value>, Update extends Value[Key]>(\n  anAtom: WritableAtom<Value, Value>,\n  key: Key,\n  setter?: (draft: Draft<Value>[Key], update: Update) => Draft<Value>[Key]\n): WritableAtom<Value[Key], Update>\nexport function pickAtom<Value, Key extends keyof Value & keyof Draft<Value>, Update extends Value[Key]>(\n  anAtom: WritableAtom<Value, Value>,\n  key: Key,\n  setter: (draft: Draft<Value>[Key], update: Update) => Draft<Value>[Key] = (draft, update) =>\n    update as Draft<Value>[Key]\n): WritableAtom<Value[Key], Update> {\n  return atom(\n    (get) => get(anAtom)[key],\n    (get, set, update: Update) =>\n      set(withImmer(anAtom), (value) => {\n        const derived = setter(value[key], update)\n        value[key] = derived\n      })\n  )\n}\n\n/** Sets a togglable atom to invert its state at the next render. */\nexport function setTogglable(draft: boolean) {\n  return !draft\n}\n","import { atomWithReset } from 'jotai/utils'\n\nimport { pickAtom, setTogglable } from './atoms'\n\ninterface Settings {\n  autoSlippage: boolean // if true, slippage will use the default calculation\n  maxSlippage: number | undefined // expressed as a percent\n  transactionTtl: number | undefined\n  mockTogglable: boolean\n  clientSideRouter: boolean // whether to use the client-side router or query the remote API\n}\n\nconst initialSettings: Settings = {\n  autoSlippage: true,\n  maxSlippage: undefined,\n  transactionTtl: undefined,\n  mockTogglable: true,\n  clientSideRouter: false,\n}\n\nexport const settingsAtom = atomWithReset(initialSettings)\nexport const autoSlippageAtom = pickAtom(settingsAtom, 'autoSlippage')\nexport const maxSlippageAtom = pickAtom(settingsAtom, 'maxSlippage')\nexport const transactionTtlAtom = pickAtom(settingsAtom, 'transactionTtl')\nexport const mockTogglableAtom = pickAtom(settingsAtom, 'mockTogglable', setTogglable)\nexport const clientSideRouterAtom = pickAtom(settingsAtom, 'clientSideRouter')\n","import { Currency, Percent, TradeType } from '@uniswap/sdk-core'\nimport useAutoSlippageTolerance, { DEFAULT_AUTO_SLIPPAGE } from 'hooks/useAutoSlippageTolerance'\nimport { useAtomValue } from 'jotai/utils'\nimport { useMemo } from 'react'\nimport { InterfaceTrade } from 'state/routing/types'\nimport { autoSlippageAtom, maxSlippageAtom } from 'state/settings'\n\nexport function toPercent(maxSlippage: number | undefined): Percent | undefined {\n  if (!maxSlippage) return undefined\n  const numerator = Math.floor(maxSlippage * 100)\n  return new Percent(numerator, 10_000)\n}\n\nexport interface Slippage {\n  auto: boolean\n  allowed: Percent\n  warning?: 'warning' | 'error'\n}\n\nexport const DEFAULT_SLIPPAGE = { auto: true, allowed: DEFAULT_AUTO_SLIPPAGE }\n\n/** Returns the allowed slippage, and whether it is auto-slippage. */\nexport default function useSlippage(trade: InterfaceTrade<Currency, Currency, TradeType> | undefined): Slippage {\n  const shouldUseAutoSlippage = useAtomValue(autoSlippageAtom)\n  const autoSlippage = useAutoSlippageTolerance(shouldUseAutoSlippage ? trade : undefined)\n  const maxSlippageValue = useAtomValue(maxSlippageAtom)\n  const maxSlippage = useMemo(() => toPercent(maxSlippageValue), [maxSlippageValue])\n  return useMemo(() => {\n    const auto = shouldUseAutoSlippage || !maxSlippage\n    const allowed = shouldUseAutoSlippage ? autoSlippage : maxSlippage ?? autoSlippage\n    const warning = auto ? undefined : getSlippageWarning(allowed)\n    if (auto && allowed === DEFAULT_AUTO_SLIPPAGE) {\n      return DEFAULT_SLIPPAGE\n    }\n    return { auto, allowed, warning }\n  }, [autoSlippage, maxSlippage, shouldUseAutoSlippage])\n}\n\nexport const MAX_VALID_SLIPPAGE = new Percent(1, 2)\nexport const MIN_HIGH_SLIPPAGE = new Percent(1, 100)\n\nexport function getSlippageWarning(slippage?: Percent): 'warning' | 'error' | undefined {\n  if (slippage?.greaterThan(MAX_VALID_SLIPPAGE)) return 'error'\n  if (slippage?.greaterThan(MIN_HIGH_SLIPPAGE)) return 'warning'\n  return\n}\n","import { Currency, CurrencyAmount, Percent } from '@uniswap/sdk-core'\nimport { ONE_HUNDRED_PERCENT } from 'constants/misc'\nimport JSBI from 'jsbi'\n\nexport function computeFiatValuePriceImpact(\n  fiatValueInput: CurrencyAmount<Currency> | undefined | null,\n  fiatValueOutput: CurrencyAmount<Currency> | undefined | null\n): Percent | undefined {\n  if (!fiatValueOutput || !fiatValueInput) return undefined\n  if (!fiatValueInput.currency.equals(fiatValueOutput.currency)) return undefined\n  if (JSBI.equal(fiatValueInput.quotient, JSBI.BigInt(0))) return undefined\n  const pct = ONE_HUNDRED_PERCENT.subtract(fiatValueOutput.divide(fiatValueInput))\n  return new Percent(pct.numerator, pct.denominator)\n}\n","import { Trade } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, Fraction, Percent, TradeType } from '@uniswap/sdk-core'\nimport { Pair } from '@uniswap/v2-sdk'\nimport { FeeAmount } from '@uniswap/v3-sdk'\nimport {\n  ALLOWED_PRICE_IMPACT_HIGH,\n  ALLOWED_PRICE_IMPACT_LOW,\n  ALLOWED_PRICE_IMPACT_MEDIUM,\n  BLOCKED_PRICE_IMPACT_NON_EXPERT,\n  ONE_HUNDRED_PERCENT,\n  ZERO_PERCENT,\n} from 'constants/misc'\nimport JSBI from 'jsbi'\n\nconst THIRTY_BIPS_FEE = new Percent(JSBI.BigInt(30), JSBI.BigInt(10000))\nconst INPUT_FRACTION_AFTER_FEE = ONE_HUNDRED_PERCENT.subtract(THIRTY_BIPS_FEE)\n\nexport function computeRealizedPriceImpact(trade: Trade<Currency, Currency, TradeType>): Percent {\n  const realizedLpFeePercent = computeRealizedLPFeePercent(trade)\n  return trade.priceImpact.subtract(realizedLpFeePercent)\n}\n\nexport function getPriceImpactWarning(priceImpact?: Percent): 'warning' | 'error' | undefined {\n  if (priceImpact?.greaterThan(ALLOWED_PRICE_IMPACT_HIGH)) return 'error'\n  if (priceImpact?.greaterThan(ALLOWED_PRICE_IMPACT_MEDIUM)) return 'warning'\n  return\n}\n\n// computes realized lp fee as a percent\nexport function computeRealizedLPFeePercent(trade: Trade<Currency, Currency, TradeType>): Percent {\n  let percent: Percent\n\n  // Since routes are either all v2 or all v3 right now, calculate separately\n  if (trade.swaps[0].route.pools instanceof Pair) {\n    // for each hop in our trade, take away the x*y=k price impact from 0.3% fees\n    // e.g. for 3 tokens/2 hops: 1 - ((1 - .03) * (1-.03))\n    percent = ONE_HUNDRED_PERCENT.subtract(\n      trade.swaps.reduce<Percent>(\n        (currentFee: Percent): Percent => currentFee.multiply(INPUT_FRACTION_AFTER_FEE),\n        ONE_HUNDRED_PERCENT\n      )\n    )\n  } else {\n    percent = ZERO_PERCENT\n    for (const swap of trade.swaps) {\n      const { numerator, denominator } = swap.inputAmount.divide(trade.inputAmount)\n      const overallPercent = new Percent(numerator, denominator)\n\n      const routeRealizedLPFeePercent = overallPercent.multiply(\n        ONE_HUNDRED_PERCENT.subtract(\n          swap.route.pools.reduce<Percent>((currentFee: Percent, pool): Percent => {\n            const fee =\n              pool instanceof Pair\n                ? // not currently possible given protocol check above, but not fatal\n                  FeeAmount.MEDIUM\n                : pool.fee\n            return currentFee.multiply(ONE_HUNDRED_PERCENT.subtract(new Fraction(fee, 1_000_000)))\n          }, ONE_HUNDRED_PERCENT)\n        )\n      )\n\n      percent = percent.add(routeRealizedLPFeePercent)\n    }\n  }\n\n  return new Percent(percent.numerator, percent.denominator)\n}\n\n// computes price breakdown for the trade\nexport function computeRealizedLPFeeAmount(\n  trade?: Trade<Currency, Currency, TradeType> | null\n): CurrencyAmount<Currency> | undefined {\n  if (trade) {\n    const realizedLPFee = computeRealizedLPFeePercent(trade)\n\n    // the amount of the input that accrues to LPs\n    return CurrencyAmount.fromRawAmount(trade.inputAmount.currency, trade.inputAmount.multiply(realizedLPFee).quotient)\n  }\n\n  return undefined\n}\n\nconst IMPACT_TIERS = [\n  BLOCKED_PRICE_IMPACT_NON_EXPERT,\n  ALLOWED_PRICE_IMPACT_HIGH,\n  ALLOWED_PRICE_IMPACT_MEDIUM,\n  ALLOWED_PRICE_IMPACT_LOW,\n]\n\ntype WarningSeverity = 0 | 1 | 2 | 3 | 4\nexport function warningSeverity(priceImpact: Percent | undefined): WarningSeverity {\n  if (!priceImpact) return 4\n  let impact: WarningSeverity = IMPACT_TIERS.length as WarningSeverity\n  for (const impactLevel of IMPACT_TIERS) {\n    if (impactLevel.lessThan(priceImpact)) return impact\n    impact--\n  }\n  return 0\n}\n","import { Currency, CurrencyAmount, Percent, Token } from '@uniswap/sdk-core'\nimport { useUSDCValue } from 'hooks/useUSDCPrice'\nimport { useMemo } from 'react'\nimport { computeFiatValuePriceImpact } from 'utils/computeFiatValuePriceImpact'\nimport { getPriceImpactWarning } from 'utils/prices'\n\nexport interface PriceImpact {\n  percent: Percent\n  warning?: 'warning' | 'error'\n  toString(): string\n}\n\n/**\n * Computes input/output USDC equivalents and the price impact.\n * Returns the price impact as a human readable string.\n */\nexport default function useUSDCPriceImpact(\n  inputAmount: CurrencyAmount<Currency> | undefined,\n  outputAmount: CurrencyAmount<Currency> | undefined\n): {\n  inputUSDC?: CurrencyAmount<Token>\n  outputUSDC?: CurrencyAmount<Token>\n  impact?: PriceImpact\n} {\n  const inputUSDC = useUSDCValue(inputAmount) ?? undefined\n  const outputUSDC = useUSDCValue(outputAmount) ?? undefined\n  return useMemo(() => {\n    const priceImpact = computeFiatValuePriceImpact(inputUSDC, outputUSDC)\n    const impact = priceImpact\n      ? {\n          percent: priceImpact,\n          warning: getPriceImpactWarning(priceImpact),\n          toString: () => toHumanReadablePriceImpact(priceImpact),\n        }\n      : undefined\n    return { inputUSDC, outputUSDC, impact }\n  }, [inputUSDC, outputUSDC])\n}\n\nfunction toHumanReadablePriceImpact(priceImpact: Percent): string {\n  const sign = priceImpact.lessThan(0) ? '+' : ''\n  const number = parseFloat(priceImpact.multiply(-1)?.toSignificant(3))\n  return `${sign}${number}%`\n}\n","import { Currency } from '@uniswap/sdk-core'\nimport { FeeOptions } from '@uniswap/v3-sdk'\nimport { SupportedChainId } from 'constants/chains'\nimport { nativeOnChain } from 'constants/tokens'\nimport { atom } from 'jotai'\nimport { atomWithImmer } from 'jotai/immer'\n\nexport enum Field {\n  INPUT = 'INPUT',\n  OUTPUT = 'OUTPUT',\n}\n\nexport interface Swap {\n  independentField: Field\n  amount: string\n  [Field.INPUT]?: Currency\n  [Field.OUTPUT]?: Currency\n}\n\nexport const swapAtom = atomWithImmer<Swap>({\n  independentField: Field.INPUT,\n  amount: '',\n  [Field.INPUT]: nativeOnChain(SupportedChainId.MAINNET),\n})\n\n// If set to a transaction hash, that transaction will display in a status dialog.\nexport const displayTxHashAtom = atom<string | undefined>(undefined)\n\nexport const feeOptionsAtom = atom<FeeOptions | undefined>(undefined)\n","import { useEffect, useState } from 'react'\n\n/**\n * Returns the last value of type T that passes a filter function\n * @param value changing value\n * @param filterFn function that determines whether a given value should be considered for the last value\n */\nexport default function useLast<T>(\n  value: T | undefined | null,\n  filterFn?: (value: T | null | undefined) => boolean\n): T | null | undefined {\n  const [last, setLast] = useState<T | null | undefined>(filterFn && filterFn(value) ? value : undefined)\n  useEffect(() => {\n    setLast((last) => {\n      const shouldUse: boolean = filterFn ? filterFn(value) : true\n      if (shouldUse) return value\n      return last\n    })\n  }, [filterFn, value])\n  return last\n}\n","import { Currency, CurrencyAmount, Token, TradeType } from '@uniswap/sdk-core'\nimport { Pair, Route as V2Route } from '@uniswap/v2-sdk'\nimport { FeeAmount, Pool, Route as V3Route } from '@uniswap/v3-sdk'\nimport { nativeOnChain } from 'constants/tokens'\n\nimport { GetQuoteResult, InterfaceTrade, V2PoolInRoute, V3PoolInRoute } from './types'\n\n/**\n * Transforms a Routing API quote into an array of routes that can be used to create\n * a `Trade`.\n */\nexport function computeRoutes(\n  currencyIn: Currency | undefined,\n  currencyOut: Currency | undefined,\n  tradeType: TradeType,\n  quoteResult: Pick<GetQuoteResult, 'route'> | undefined\n) {\n  if (!quoteResult || !quoteResult.route || !currencyIn || !currencyOut) return undefined\n\n  if (quoteResult.route.length === 0) return []\n\n  const parsedTokenIn = parseToken(quoteResult.route[0][0].tokenIn)\n  const parsedTokenOut = parseToken(quoteResult.route[0][quoteResult.route[0].length - 1].tokenOut)\n\n  if (parsedTokenIn.address !== currencyIn.wrapped.address) return undefined\n  if (parsedTokenOut.address !== currencyOut.wrapped.address) return undefined\n\n  const parsedCurrencyIn = currencyIn.isNative ? nativeOnChain(currencyIn.chainId) : parsedTokenIn\n  const parsedCurrencyOut = currencyOut.isNative ? nativeOnChain(currencyOut.chainId) : parsedTokenOut\n\n  try {\n    return quoteResult.route.map((route) => {\n      if (route.length === 0) {\n        throw new Error('Expected route to have at least one pair or pool')\n      }\n      const rawAmountIn = route[0].amountIn\n      const rawAmountOut = route[route.length - 1].amountOut\n\n      if (!rawAmountIn || !rawAmountOut) {\n        throw new Error('Expected both amountIn and amountOut to be present')\n      }\n\n      return {\n        routev3: isV3Route(route) ? new V3Route(route.map(parsePool), parsedCurrencyIn, parsedCurrencyOut) : null,\n        routev2: !isV3Route(route) ? new V2Route(route.map(parsePair), parsedCurrencyIn, parsedCurrencyOut) : null,\n        inputAmount: CurrencyAmount.fromRawAmount(parsedCurrencyIn, rawAmountIn),\n        outputAmount: CurrencyAmount.fromRawAmount(parsedCurrencyOut, rawAmountOut),\n      }\n    })\n  } catch (e) {\n    // `Route` constructor may throw if inputs/outputs are temporarily out of sync\n    // (RTK-Query always returns the latest data which may not be the right inputs/outputs)\n    // This is not fatal and will fix itself in future render cycles\n    console.error(e)\n    return undefined\n  }\n}\n\nexport function transformRoutesToTrade<TTradeType extends TradeType>(\n  route: ReturnType<typeof computeRoutes>,\n  tradeType: TTradeType,\n  gasUseEstimateUSD?: CurrencyAmount<Token> | null\n): InterfaceTrade<Currency, Currency, TTradeType> {\n  return new InterfaceTrade({\n    v2Routes:\n      route\n        ?.filter((r): r is typeof route[0] & { routev2: NonNullable<typeof route[0]['routev2']> } => r.routev2 !== null)\n        .map(({ routev2, inputAmount, outputAmount }) => ({ routev2, inputAmount, outputAmount })) ?? [],\n    v3Routes:\n      route\n        ?.filter((r): r is typeof route[0] & { routev3: NonNullable<typeof route[0]['routev3']> } => r.routev3 !== null)\n        .map(({ routev3, inputAmount, outputAmount }) => ({ routev3, inputAmount, outputAmount })) ?? [],\n    tradeType,\n    gasUseEstimateUSD,\n  })\n}\n\nconst parseToken = ({ address, chainId, decimals, symbol }: GetQuoteResult['route'][0][0]['tokenIn']): Token => {\n  return new Token(chainId, address, parseInt(decimals.toString()), symbol)\n}\n\nconst parsePool = ({ fee, sqrtRatioX96, liquidity, tickCurrent, tokenIn, tokenOut }: V3PoolInRoute): Pool =>\n  new Pool(\n    parseToken(tokenIn),\n    parseToken(tokenOut),\n    parseInt(fee) as FeeAmount,\n    sqrtRatioX96,\n    liquidity,\n    parseInt(tickCurrent)\n  )\n\nconst parsePair = ({ reserve0, reserve1 }: V2PoolInRoute): Pair =>\n  new Pair(\n    CurrencyAmount.fromRawAmount(parseToken(reserve0.token), reserve0.quotient),\n    CurrencyAmount.fromRawAmount(parseToken(reserve1.token), reserve1.quotient)\n  )\n\nfunction isV3Route(route: V3PoolInRoute[] | V2PoolInRoute[]): route is V3PoolInRoute[] {\n  return route[0].type === 'v3-pool'\n}\n","import { ContractTransaction } from '@ethersproject/contracts'\nimport { WRAPPED_NATIVE_CURRENCY } from 'constants/tokens'\nimport { useWETHContract } from 'hooks/useContract'\nimport { useAtomValue } from 'jotai/utils'\nimport { useMemo } from 'react'\nimport { Field, swapAtom } from 'state/swap'\nimport tryParseCurrencyAmount from 'utils/tryParseCurrencyAmount'\n\nimport useActiveWeb3React from '../useActiveWeb3React'\nimport useCurrencyBalance from '../useCurrencyBalance'\n\nexport enum WrapType {\n  NONE,\n  WRAP,\n  UNWRAP,\n}\ninterface UseWrapCallbackReturns {\n  callback?: () => Promise<ContractTransaction>\n  type: WrapType\n}\n\nexport default function useWrapCallback(): UseWrapCallbackReturns {\n  const { account, chainId } = useActiveWeb3React()\n  const wrappedNativeCurrencyContract = useWETHContract()\n  const { amount, [Field.INPUT]: inputCurrency, [Field.OUTPUT]: outputCurrency } = useAtomValue(swapAtom)\n\n  const wrapType = useMemo(() => {\n    if (chainId && inputCurrency && outputCurrency) {\n      if (inputCurrency.isNative && WRAPPED_NATIVE_CURRENCY[chainId]?.equals(outputCurrency)) {\n        return WrapType.WRAP\n      }\n      if (outputCurrency.isNative && WRAPPED_NATIVE_CURRENCY[chainId]?.equals(inputCurrency)) {\n        return WrapType.UNWRAP\n      }\n    }\n    return WrapType.NONE\n  }, [chainId, inputCurrency, outputCurrency])\n\n  const parsedAmountIn = useMemo(\n    () => tryParseCurrencyAmount(amount, inputCurrency ?? undefined),\n    [inputCurrency, amount]\n  )\n  const balanceIn = useCurrencyBalance(account, inputCurrency)\n\n  const callback = useMemo(() => {\n    if (\n      wrapType === WrapType.NONE ||\n      !parsedAmountIn ||\n      !balanceIn ||\n      balanceIn.lessThan(parsedAmountIn) ||\n      !wrappedNativeCurrencyContract\n    ) {\n      return\n    }\n\n    return async () =>\n      wrapType === WrapType.WRAP\n        ? wrappedNativeCurrencyContract.deposit({ value: `0x${parsedAmountIn.quotient.toString(16)}` })\n        : wrappedNativeCurrencyContract.withdraw(`0x${parsedAmountIn.quotient.toString(16)}`)\n  }, [wrapType, parsedAmountIn, balanceIn, wrappedNativeCurrencyContract])\n\n  return useMemo(() => ({ callback, type: wrapType }), [callback, wrapType])\n}\n","import { atomWithImmer } from 'jotai/immer'\nimport { useAtomValue, useUpdateAtom } from 'jotai/utils'\nimport { useCallback } from 'react'\n\nimport useActiveWeb3React from './useActiveWeb3React'\nimport useBlockNumber from './useBlockNumber'\n\n// The oldest block (per chain) to be considered valid.\nconst oldestBlockMapAtom = atomWithImmer<{ [chainId: number]: number }>({})\n\nconst DEFAULT_MAX_BLOCK_AGE = 10\n\nexport function useSetOldestValidBlock(): (block: number) => void {\n  const { chainId } = useActiveWeb3React()\n  const updateValidBlock = useUpdateAtom(oldestBlockMapAtom)\n  return useCallback(\n    (block: number) => {\n      if (!chainId) return\n      updateValidBlock((oldestBlockMap) => {\n        oldestBlockMap[chainId] = Math.max(block, oldestBlockMap[chainId] || 0)\n      })\n    },\n    [chainId, updateValidBlock]\n  )\n}\n\nexport function useGetIsValidBlock(maxBlockAge = DEFAULT_MAX_BLOCK_AGE): (block: number) => boolean {\n  const { chainId } = useActiveWeb3React()\n  const currentBlock = useBlockNumber()\n  const oldestBlockMap = useAtomValue(oldestBlockMapAtom)\n  const oldestBlock = chainId ? oldestBlockMap[chainId] : 0\n  return useCallback(\n    (block: number) => {\n      if (!currentBlock) return false\n      if (currentBlock - block > maxBlockAge) return false\n      if (currentBlock < oldestBlock) return false\n      return true\n    },\n    [currentBlock, maxBlockAge, oldestBlock]\n  )\n}\n\nexport default function useIsValidBlock(block: number): boolean {\n  return useGetIsValidBlock()(block)\n}\n","import ms from 'ms.macro'\nimport { useEffect, useMemo, useState } from 'react'\n\nconst DEFAULT_POLLING_INTERVAL = ms`15s`\nconst DEFAULT_KEEP_UNUSED_DATA_FOR = ms`10s`\n\ninterface PollingOptions<T> {\n  // If true, any cached result will be returned, but no new fetch will be initiated.\n  debounce?: boolean\n\n  // If stale, any cached result will be returned, and a new fetch will be initiated.\n  isStale?: (value: T) => boolean\n\n  pollingInterval?: number\n  keepUnusedDataFor?: number\n}\n\ninterface CacheEntry<T> {\n  ttl: number | null // null denotes a pending fetch\n  result?: T\n}\n\nexport default function usePoll<T>(\n  fetch: () => Promise<T>,\n  key = '',\n  {\n    debounce = false,\n    isStale,\n    pollingInterval = DEFAULT_POLLING_INTERVAL,\n    keepUnusedDataFor = DEFAULT_KEEP_UNUSED_DATA_FOR,\n  }: PollingOptions<T>\n): T | undefined {\n  const cache = useMemo(() => new Map<string, CacheEntry<T>>(), [])\n  const [, setData] = useState<{ key: string; result?: T }>({ key })\n\n  useEffect(() => {\n    if (debounce) return\n\n    let timeout: number\n\n    const entry = cache.get(key)\n    if (entry) {\n      // If there is not a pending fetch (and there should be), queue one.\n      if (entry.ttl) {\n        if (isStale && entry?.result !== undefined ? isStale(entry.result) : false) {\n          poll() // stale results should be refetched immediately\n        } else if (entry.ttl && entry.ttl + keepUnusedDataFor > Date.now()) {\n          timeout = setTimeout(poll, Math.max(0, entry.ttl - Date.now()))\n        }\n      }\n    } else {\n      // If there is no cached entry, trigger a poll immediately.\n      poll()\n    }\n    setData({ key, result: entry?.result })\n\n    return () => {\n      clearTimeout(timeout)\n      timeout = 0\n    }\n\n    async function poll(ttl = Date.now() + pollingInterval) {\n      timeout = setTimeout(poll, pollingInterval) // queue the next poll\n      cache.set(key, { ttl: null, ...cache.get(key) }) // mark the entry as a pending fetch\n\n      // Always set the result in the cache, but only set it as data if the key is still being queried.\n      const result = await fetch()\n      cache.set(key, { ttl, result })\n      if (timeout) setData((data) => (data.key === key ? { key, result } : data))\n    }\n  }, [cache, debounce, fetch, isStale, keepUnusedDataFor, key, pollingInterval])\n\n  useEffect(() => {\n    // Cleanup stale entries when a new key is used.\n    void key\n\n    const now = Date.now()\n    cache.forEach(({ ttl }, key) => {\n      if (ttl && ttl + keepUnusedDataFor <= now) {\n        cache.delete(key)\n      }\n    })\n  }, [cache, keepUnusedDataFor, key])\n\n  // Use data.result to force a re-render, but actually retrieve the data from the cache.\n  // This gives the _first_ render access to a new result, avoiding lag introduced by React.\n  return cache.get(key)?.result\n}\n","import { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { useMemo } from 'react'\n\n/**\n * Returns query arguments for the Routing API query or undefined if the\n * query should be skipped. Input arguments do not need to be memoized, as they will\n * be destructured.\n */\nexport function useRoutingAPIArguments({\n  tokenIn,\n  tokenOut,\n  amount,\n  tradeType,\n  useClientSideRouter,\n}: {\n  tokenIn: Currency | undefined\n  tokenOut: Currency | undefined\n  amount: CurrencyAmount<Currency> | undefined\n  tradeType: TradeType\n  useClientSideRouter: boolean\n}) {\n  return useMemo(\n    () =>\n      !tokenIn || !tokenOut || !amount || tokenIn.equals(tokenOut)\n        ? undefined\n        : {\n            amount: amount.quotient.toString(),\n            tokenInAddress: tokenIn.wrapped.address,\n            tokenInChainId: tokenIn.wrapped.chainId,\n            tokenInDecimals: tokenIn.wrapped.decimals,\n            tokenInSymbol: tokenIn.wrapped.symbol,\n            tokenOutAddress: tokenOut.wrapped.address,\n            tokenOutChainId: tokenOut.wrapped.chainId,\n            tokenOutDecimals: tokenOut.wrapped.decimals,\n            tokenOutSymbol: tokenOut.wrapped.symbol,\n            useClientSideRouter,\n            type: (tradeType === TradeType.EXACT_INPUT ? 'exactIn' : 'exactOut') as 'exactIn' | 'exactOut',\n          },\n    [amount, tokenIn, tokenOut, tradeType, useClientSideRouter]\n  )\n}\n","import 'setimmediate'\n\nimport { Protocol } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { SupportedChainId } from 'constants/chains'\nimport useDebounce from 'hooks/useDebounce'\nimport { useStablecoinAmountFromFiatValue } from 'hooks/useUSDCPrice'\nimport { useCallback, useMemo } from 'react'\nimport { GetQuoteResult, InterfaceTrade, TradeState } from 'state/routing/types'\nimport { computeRoutes, transformRoutesToTrade } from 'state/routing/utils'\n\nimport useWrapCallback, { WrapType } from '../swap/useWrapCallback'\nimport useActiveWeb3React from '../useActiveWeb3React'\nimport { useGetIsValidBlock } from '../useIsValidBlock'\nimport usePoll from '../usePoll'\nimport { useRoutingAPIArguments } from './useRoutingAPIArguments'\n\n/**\n * Reduces client-side latency by increasing the minimum percentage of the input token to use for each route in a split route while SOR is used client-side.\n * Defaults are defined in https://github.com/Uniswap/smart-order-router/blob/309e6f6603984d3b5aef0733b0cfaf129c29f602/src/routers/alpha-router/config.ts#L83.\n */\nconst DistributionPercents: { [key: number]: number } = {\n  [SupportedChainId.MAINNET]: 10,\n  [SupportedChainId.OPTIMISM]: 10,\n  [SupportedChainId.OPTIMISTIC_KOVAN]: 10,\n  [SupportedChainId.ARBITRUM_ONE]: 25,\n  [SupportedChainId.ARBITRUM_RINKEBY]: 25,\n}\nconst DEFAULT_DISTRIBUTION_PERCENT = 10\nfunction getConfig(chainId: SupportedChainId | undefined) {\n  return {\n    // Limit to only V2 and V3.\n    protocols: [Protocol.V2, Protocol.V3],\n    distributionPercent: (chainId && DistributionPercents[chainId]) ?? DEFAULT_DISTRIBUTION_PERCENT,\n  }\n}\n\nexport default function useClientSideSmartOrderRouterTrade<TTradeType extends TradeType>(\n  tradeType: TTradeType,\n  amountSpecified?: CurrencyAmount<Currency>,\n  otherCurrency?: Currency\n): {\n  state: TradeState\n  trade: InterfaceTrade<Currency, Currency, TTradeType> | undefined\n} {\n  const amount = useMemo(() => amountSpecified?.asFraction, [amountSpecified])\n  const [currencyIn, currencyOut] =\n    tradeType === TradeType.EXACT_INPUT\n      ? [amountSpecified?.currency, otherCurrency]\n      : [otherCurrency, amountSpecified?.currency]\n\n  // Debounce is used to prevent excessive requests to SOR, as it is data intensive.\n  // Fast user actions (ie updating the input) should be debounced, but currency changes should not.\n  const [debouncedAmount, debouncedCurrencyIn, debouncedCurrencyOut] = useDebounce(\n    useMemo(() => [amount, currencyIn, currencyOut], [amount, currencyIn, currencyOut]),\n    200\n  )\n  const isDebouncing =\n    amount !== debouncedAmount && currencyIn === debouncedCurrencyIn && currencyOut === debouncedCurrencyOut\n\n  const queryArgs = useRoutingAPIArguments({\n    tokenIn: currencyIn,\n    tokenOut: currencyOut,\n    amount: amountSpecified,\n    tradeType,\n    useClientSideRouter: true,\n  })\n  const chainId = amountSpecified?.currency.chainId\n  const { library } = useActiveWeb3React()\n  const params = useMemo(() => chainId && library && { chainId, provider: library }, [chainId, library])\n  const config = useMemo(() => getConfig(chainId), [chainId])\n  const { type: wrapType } = useWrapCallback()\n\n  const getQuoteResult = useCallback(async (): Promise<{ data?: GetQuoteResult; error?: unknown }> => {\n    if (wrapType !== WrapType.NONE) return { error: undefined }\n    if (!queryArgs || !params) return { error: undefined }\n    try {\n      // Lazy-load the smart order router to improve initial pageload times.\n      const quoteResult = await (\n        await import('./clientSideSmartOrderRouter')\n      ).getClientSideQuote(queryArgs, params, config)\n\n      // There is significant post-fetch processing, so delay a tick to prevent dropped frames.\n      // This is only important in the context of integrations - if we control the whole site,\n      // then we can afford to drop a few frames.\n      return new Promise((resolve) => setImmediate(() => resolve(quoteResult)))\n    } catch {\n      return { error: true }\n    }\n  }, [config, params, queryArgs, wrapType])\n\n  const getIsValidBlock = useGetIsValidBlock()\n  const { data: quoteResult, error } = usePoll(getQuoteResult, JSON.stringify(queryArgs), {\n    debounce: isDebouncing,\n    isStale: useCallback(({ data }) => !getIsValidBlock(Number(data?.blockNumber) || 0), [getIsValidBlock]),\n  }) ?? {\n    error: undefined,\n  }\n  const isValid = getIsValidBlock(Number(quoteResult?.blockNumber) || 0)\n\n  const route = useMemo(\n    () => computeRoutes(currencyIn, currencyOut, tradeType, quoteResult),\n    [currencyIn, currencyOut, quoteResult, tradeType]\n  )\n  const gasUseEstimateUSD = useStablecoinAmountFromFiatValue(quoteResult?.gasUseEstimateUSD) ?? null\n  const trade = useMemo(() => {\n    if (route) {\n      try {\n        return route && transformRoutesToTrade(route, tradeType, gasUseEstimateUSD)\n      } catch (e: unknown) {\n        console.debug('transformRoutesToTrade failed: ', e)\n      }\n    }\n    return\n  }, [gasUseEstimateUSD, route, tradeType])\n\n  return useMemo(() => {\n    if (!currencyIn || !currencyOut) {\n      return { state: TradeState.INVALID, trade: undefined }\n    }\n\n    if (!trade && !error) {\n      if (isDebouncing) {\n        return { state: TradeState.SYNCING, trade: undefined }\n      } else if (!isValid) {\n        return { state: TradeState.LOADING, trade: undefined }\n      }\n    }\n\n    let otherAmount = undefined\n    if (quoteResult) {\n      switch (tradeType) {\n        case TradeType.EXACT_INPUT:\n          otherAmount = CurrencyAmount.fromRawAmount(currencyOut, quoteResult.quote)\n          break\n        case TradeType.EXACT_OUTPUT:\n          otherAmount = CurrencyAmount.fromRawAmount(currencyIn, quoteResult.quote)\n          break\n      }\n    }\n\n    if (error || !otherAmount || !route || route.length === 0) {\n      return { state: TradeState.NO_ROUTE_FOUND, trade: undefined }\n    }\n\n    if (trade) {\n      return { state: TradeState.VALID, trade }\n    }\n    return { state: TradeState.INVALID, trade: undefined }\n  }, [currencyIn, currencyOut, trade, error, isValid, quoteResult, route, isDebouncing, tradeType])\n}\n","import { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { useClientSideV3Trade } from 'hooks/useClientSideV3Trade'\nimport useLast from 'hooks/useLast'\nimport { useMemo } from 'react'\nimport { InterfaceTrade, TradeState } from 'state/routing/types'\n\nimport useClientSideSmartOrderRouterTrade from '../routing/useClientSideSmartOrderRouterTrade'\n\nexport const INVALID_TRADE = { state: TradeState.INVALID, trade: undefined }\n\n/**\n * Returns the best v2+v3 trade for a desired swap.\n * @param tradeType whether the swap is an exact in/out\n * @param amountSpecified the exact amount to swap in/out\n * @param otherCurrency the desired output/payment currency\n */\nexport function useBestTrade(\n  tradeType: TradeType,\n  amountSpecified?: CurrencyAmount<Currency>,\n  otherCurrency?: Currency\n): {\n  state: TradeState\n  trade: InterfaceTrade<Currency, Currency, TradeType> | undefined\n} {\n  const clientSORTradeObject = useClientSideSmartOrderRouterTrade(tradeType, amountSpecified, otherCurrency)\n\n  // Use a simple client side logic as backup if SOR is not available.\n  const useFallback =\n    clientSORTradeObject.state === TradeState.NO_ROUTE_FOUND || clientSORTradeObject.state === TradeState.INVALID\n  const fallbackTradeObject = useClientSideV3Trade(\n    tradeType,\n    useFallback ? amountSpecified : undefined,\n    useFallback ? otherCurrency : undefined\n  )\n\n  const tradeObject = useFallback ? fallbackTradeObject : clientSORTradeObject\n  const lastTrade = useLast(tradeObject.trade, Boolean) ?? undefined\n\n  // Return the last trade while syncing/loading to avoid jank from clearing the last trade while loading.\n  // If the trade is unsettled and not stale, return the last trade as a placeholder during settling.\n  return useMemo(() => {\n    const { state, trade } = tradeObject\n    // If the trade is in a settled state, return it.\n    if (state === TradeState.INVALID) return INVALID_TRADE\n    if ((state !== TradeState.LOADING && state !== TradeState.SYNCING) || trade) return tradeObject\n\n    const [currencyIn, currencyOut] =\n      tradeType === TradeType.EXACT_INPUT\n        ? [amountSpecified?.currency, otherCurrency]\n        : [otherCurrency, amountSpecified?.currency]\n\n    // If the trade currencies have switched, consider it stale - do not return the last trade.\n    const isStale =\n      (currencyIn && !lastTrade?.inputAmount?.currency.equals(currencyIn)) ||\n      (currencyOut && !lastTrade?.outputAmount?.currency.equals(currencyOut))\n    if (isStale) return tradeObject\n\n    return { state, trade: lastTrade }\n  }, [amountSpecified?.currency, lastTrade, otherCurrency, tradeObject, tradeType])\n}\n","import { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useCurrencyBalances } from 'hooks/useCurrencyBalance'\nimport useSlippage, { DEFAULT_SLIPPAGE, Slippage } from 'hooks/useSlippage'\nimport useUSDCPriceImpact, { PriceImpact } from 'hooks/useUSDCPriceImpact'\nimport { useAtomValue } from 'jotai/utils'\nimport { createContext, PropsWithChildren, useContext, useMemo } from 'react'\nimport { InterfaceTrade, TradeState } from 'state/routing/types'\nimport { Field, swapAtom } from 'state/swap'\nimport tryParseCurrencyAmount from 'utils/tryParseCurrencyAmount'\n\nimport { INVALID_TRADE, useBestTrade } from './useBestTrade'\nimport useWrapCallback, { WrapType } from './useWrapCallback'\n\ninterface SwapField {\n  currency?: Currency\n  amount?: CurrencyAmount<Currency>\n  balance?: CurrencyAmount<Currency>\n  usdc?: CurrencyAmount<Currency>\n}\n\nexport interface SwapInfo {\n  [Field.INPUT]: SwapField\n  [Field.OUTPUT]: SwapField\n  trade: {\n    trade?: InterfaceTrade<Currency, Currency, TradeType>\n    state: TradeState\n  }\n  slippage: Slippage\n  impact?: PriceImpact\n}\n\n// from the current swap inputs, compute the best trade and return it.\nfunction useComputeSwapInfo(): SwapInfo {\n  const { type: wrapType } = useWrapCallback()\n  const isWrapping = wrapType === WrapType.WRAP || wrapType === WrapType.UNWRAP\n  const { independentField, amount, [Field.INPUT]: currencyIn, [Field.OUTPUT]: currencyOut } = useAtomValue(swapAtom)\n  const isExactIn = independentField === Field.INPUT\n\n  const parsedAmount = useMemo(\n    () => tryParseCurrencyAmount(amount, (isExactIn ? currencyIn : currencyOut) ?? undefined),\n    [amount, isExactIn, currencyIn, currencyOut]\n  )\n  const hasAmounts = currencyIn && currencyOut && parsedAmount && !isWrapping\n  const trade = useBestTrade(\n    isExactIn ? TradeType.EXACT_INPUT : TradeType.EXACT_OUTPUT,\n    hasAmounts ? parsedAmount : undefined,\n    hasAmounts ? (isExactIn ? currencyOut : currencyIn) : undefined\n  )\n\n  const amountIn = useMemo(\n    () => (isWrapping || isExactIn ? parsedAmount : trade.trade?.inputAmount),\n    [isExactIn, isWrapping, parsedAmount, trade.trade?.inputAmount]\n  )\n  const amountOut = useMemo(\n    () => (isWrapping || !isExactIn ? parsedAmount : trade.trade?.outputAmount),\n    [isExactIn, isWrapping, parsedAmount, trade.trade?.outputAmount]\n  )\n\n  const { account } = useActiveWeb3React()\n  const [balanceIn, balanceOut] = useCurrencyBalances(\n    account,\n    useMemo(() => [currencyIn, currencyOut], [currencyIn, currencyOut])\n  )\n\n  // Compute slippage and impact off of the trade so that it refreshes with the trade.\n  // (Using amountIn/amountOut would show (incorrect) intermediate values.)\n  const slippage = useSlippage(trade.trade)\n  const { inputUSDC, outputUSDC, impact } = useUSDCPriceImpact(trade.trade?.inputAmount, trade.trade?.outputAmount)\n\n  return useMemo(\n    () => ({\n      [Field.INPUT]: {\n        currency: currencyIn,\n        amount: amountIn,\n        balance: balanceIn,\n        usdc: inputUSDC,\n      },\n      [Field.OUTPUT]: {\n        currency: currencyOut,\n        amount: amountOut,\n        balance: balanceOut,\n        usdc: outputUSDC,\n      },\n      trade,\n      slippage,\n      impact,\n    }),\n    [\n      amountIn,\n      amountOut,\n      balanceIn,\n      balanceOut,\n      currencyIn,\n      currencyOut,\n      impact,\n      inputUSDC,\n      outputUSDC,\n      slippage,\n      trade,\n    ]\n  )\n}\n\nconst DEFAULT_SWAP_INFO: SwapInfo = {\n  [Field.INPUT]: {},\n  [Field.OUTPUT]: {},\n  trade: INVALID_TRADE,\n  slippage: DEFAULT_SLIPPAGE,\n}\n\nconst SwapInfoContext = createContext(DEFAULT_SWAP_INFO)\n\nexport function SwapInfoProvider({ children, disabled }: PropsWithChildren<{ disabled?: boolean }>) {\n  const swapInfo = useComputeSwapInfo()\n  if (disabled) {\n    return <SwapInfoContext.Provider value={DEFAULT_SWAP_INFO}>{children}</SwapInfoContext.Provider>\n  }\n  return <SwapInfoContext.Provider value={swapInfo}>{children}</SwapInfoContext.Provider>\n}\n\n/** Requires that SwapInfoUpdater be installed in the DOM tree. **/\nexport default function useSwapInfo(): SwapInfo {\n  return useContext(SwapInfoContext)\n}\n","import { Percent } from '@uniswap/sdk-core'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useUpdateAtom } from 'jotai/utils'\nimport { useEffect } from 'react'\nimport { feeOptionsAtom } from 'state/swap'\n\nexport interface FeeOptions {\n  convenienceFee?: number\n  convenienceFeeRecipient?: string | string | { [chainId: number]: string }\n}\n\nexport default function useSyncConvenienceFee({ convenienceFee, convenienceFeeRecipient }: FeeOptions) {\n  const { chainId } = useActiveWeb3React()\n  const updateFeeOptions = useUpdateAtom(feeOptionsAtom)\n\n  useEffect(() => {\n    if (convenienceFee && convenienceFeeRecipient) {\n      if (typeof convenienceFeeRecipient === 'string') {\n        updateFeeOptions({\n          fee: new Percent(convenienceFee, 10_000),\n          recipient: convenienceFeeRecipient,\n        })\n        return\n      }\n      if (chainId && convenienceFeeRecipient[chainId]) {\n        updateFeeOptions({\n          fee: new Percent(convenienceFee, 10_000),\n          recipient: convenienceFeeRecipient[chainId],\n        })\n        return\n      }\n    }\n    updateFeeOptions(undefined)\n  }, [chainId, convenienceFee, convenienceFeeRecipient, updateFeeOptions])\n}\n","import { Provider } from '@ethersproject/abstract-provider'\nimport { Contract } from '@ethersproject/contracts'\nimport { namehash } from '@ethersproject/hash'\n\nconst REGISTRAR_ABI = [\n  {\n    constant: true,\n    inputs: [\n      {\n        name: 'node',\n        type: 'bytes32',\n      },\n    ],\n    name: 'resolver',\n    outputs: [\n      {\n        name: 'resolverAddress',\n        type: 'address',\n      },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n]\nconst REGISTRAR_ADDRESS = '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'\n\nconst RESOLVER_ABI = [\n  {\n    constant: true,\n    inputs: [\n      {\n        internalType: 'bytes32',\n        name: 'node',\n        type: 'bytes32',\n      },\n    ],\n    name: 'contenthash',\n    outputs: [\n      {\n        internalType: 'bytes',\n        name: '',\n        type: 'bytes',\n      },\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n]\n\n// cache the resolver contracts since most of them are the public resolver\nfunction resolverContract(resolverAddress: string, provider: Provider): Contract {\n  return new Contract(resolverAddress, RESOLVER_ABI, provider)\n}\n\n/**\n * Fetches and decodes the result of an ENS contenthash lookup on mainnet to a URI\n * @param ensName to resolve\n * @param provider provider to use to fetch the data\n */\nexport default async function resolveENSContentHash(ensName: string, provider: Provider): Promise<string> {\n  const ensRegistrarContract = new Contract(REGISTRAR_ADDRESS, REGISTRAR_ABI, provider)\n  const hash = namehash(ensName)\n  const resolverAddress = await ensRegistrarContract.resolver(hash)\n  return resolverContract(resolverAddress, provider).contenthash(hash)\n}\n","import CID from 'cids'\nimport { getNameFromData, rmPrefix } from 'multicodec'\nimport { decode, toB58String } from 'multihashes'\n\nexport function hexToUint8Array(hex: string): Uint8Array {\n  hex = hex.startsWith('0x') ? hex.substr(2) : hex\n  if (hex.length % 2 !== 0) throw new Error('hex must have length that is multiple of 2')\n  const arr = new Uint8Array(hex.length / 2)\n  for (let i = 0; i < arr.length; i++) {\n    arr[i] = parseInt(hex.substr(i * 2, 2), 16)\n  }\n  return arr\n}\n\nconst UTF_8_DECODER = new TextDecoder('utf-8')\n\n/**\n * Returns the URI representation of the content hash for supported codecs\n * @param contenthash to decode\n */\nexport default function contenthashToUri(contenthash: string): string {\n  const data = hexToUint8Array(contenthash)\n  const codec = getNameFromData(data)\n  switch (codec) {\n    case 'ipfs-ns': {\n      const unprefixedData = rmPrefix(data)\n      const cid = new CID(unprefixedData)\n      return `ipfs://${toB58String(cid.multihash)}`\n    }\n    case 'ipns-ns': {\n      const unprefixedData = rmPrefix(data)\n      const cid = new CID(unprefixedData)\n      const multihash = decode(cid.multihash)\n      if (multihash.name === 'identity') {\n        return `ipns://${UTF_8_DECODER.decode(multihash.digest).trim()}`\n      } else {\n        return `ipns://${toB58String(cid.multihash)}`\n      }\n    }\n    default:\n      throw new Error(`Unrecognized codec: ${codec}`)\n  }\n}\n","const ENS_NAME_REGEX = /^(([a-zA-Z0-9]+(-[a-zA-Z0-9]+)*\\.)+)eth(\\/.*)?$/\n\nexport default function parseENSAddress(\n  ensAddress: string\n): { ensName: string; ensPath: string | undefined } | undefined {\n  const match = ensAddress.match(ENS_NAME_REGEX)\n  if (!match) return undefined\n  return { ensName: `${match[1].toLowerCase()}eth`, ensPath: match[4] }\n}\n","/**\n * Given a URI that may be ipfs, ipns, http, https, ar, or data protocol, return the fetch-able http(s) URLs for the same content\n * @param uri to convert to fetch-able http url\n */\nexport default function uriToHttp(uri: string): string[] {\n  const protocol = uri.split(':')[0].toLowerCase()\n  switch (protocol) {\n    case 'data':\n      return [uri]\n    case 'https':\n      return [uri]\n    case 'http':\n      return ['https' + uri.substr(4), uri]\n    case 'ipfs':\n      const hash = uri.match(/^ipfs:(\\/\\/)?(.*)$/i)?.[2]\n      return [`https://cloudflare-ipfs.com/ipfs/${hash}/`, `https://ipfs.io/ipfs/${hash}/`]\n    case 'ipns':\n      const name = uri.match(/^ipns:(\\/\\/)?(.*)$/i)?.[2]\n      return [`https://cloudflare-ipfs.com/ipns/${name}/`, `https://ipfs.io/ipns/${name}/`]\n    case 'ar':\n      const tx = uri.match(/^ar:(\\/\\/)?(.*)$/i)?.[2]\n      return [`https://arweave.net/${tx}`]\n    default:\n      return []\n  }\n}\n","import type { TokenInfo, TokenList } from '@uniswap/token-lists'\nimport type { Ajv, ValidateFunction } from 'ajv'\n\nenum ValidationSchema {\n  LIST = 'list',\n  TOKENS = 'tokens',\n}\n\nconst validator = new Promise<Ajv>(async (resolve) => {\n  const [ajv, schema] = await Promise.all([import('ajv'), import('@uniswap/token-lists/src/tokenlist.schema.json')])\n  const validator = new ajv.default({ allErrors: true })\n    .addSchema(schema, ValidationSchema.LIST)\n    // Adds a meta scheme of Pick<TokenList, 'tokens'>\n    .addSchema(\n      {\n        ...schema,\n        $id: schema.$id + '#tokens',\n        required: ['tokens'],\n      },\n      ValidationSchema.TOKENS\n    )\n  resolve(validator)\n})\n\nfunction getValidationErrors(validate: ValidateFunction | undefined): string {\n  return (\n    validate?.errors?.map((error) => [error.dataPath, error.message].filter(Boolean).join(' ')).join('; ') ??\n    'unknown error'\n  )\n}\n\n/**\n * Validates an array of tokens.\n * @param json the TokenInfo[] to validate\n */\nexport async function validateTokens(json: TokenInfo[]): Promise<TokenInfo[]> {\n  const validate = (await validator).getSchema(ValidationSchema.TOKENS)\n  if (validate?.({ tokens: json })) {\n    return json\n  }\n  throw new Error(`Token list failed validation: ${getValidationErrors(validate)}`)\n}\n\n/**\n * Validates a token list.\n * @param json the TokenList to validate\n */\nexport default async function validateTokenList(json: TokenList): Promise<TokenList> {\n  const validate = (await validator).getSchema(ValidationSchema.LIST)\n  if (validate?.(json)) {\n    return json\n  }\n  throw new Error(`Token list failed validation: ${getValidationErrors(validate)}`)\n}\n","import type { TokenList } from '@uniswap/token-lists'\nimport contenthashToUri from 'utils/contenthashToUri'\nimport parseENSAddress from 'utils/parseENSAddress'\nimport uriToHttp from 'utils/uriToHttp'\n\nimport validateTokenList from './validateTokenList'\n\nconst listCache = new Map<string, TokenList>()\n\n/** Fetches and validates a token list. */\nexport default async function fetchTokenList(\n  listUrl: string,\n  resolveENSContentHash: (ensName: string) => Promise<string>\n): Promise<TokenList> {\n  const cached = listCache?.get(listUrl) // avoid spurious re-fetches\n  if (cached) {\n    return cached\n  }\n\n  let urls: string[]\n  const parsedENS = parseENSAddress(listUrl)\n  if (parsedENS) {\n    let contentHashUri\n    try {\n      contentHashUri = await resolveENSContentHash(parsedENS.ensName)\n    } catch (error) {\n      const message = `failed to resolve ENS name: ${parsedENS.ensName}`\n      console.debug(message, error)\n      throw new Error(message)\n    }\n    let translatedUri\n    try {\n      translatedUri = contenthashToUri(contentHashUri)\n    } catch (error) {\n      const message = `failed to translate contenthash to URI: ${contentHashUri}`\n      console.debug(message, error)\n      throw new Error(message)\n    }\n    urls = uriToHttp(`${translatedUri}${parsedENS.ensPath ?? ''}`)\n  } else {\n    urls = uriToHttp(listUrl)\n  }\n\n  for (let i = 0; i < urls.length; i++) {\n    const url = urls[i]\n    const isLast = i === urls.length - 1\n    let response\n    try {\n      response = await fetch(url, { credentials: 'omit' })\n    } catch (error) {\n      const message = `failed to fetch list: ${listUrl}`\n      console.debug(message, error)\n      if (isLast) throw new Error(message)\n      continue\n    }\n\n    if (!response.ok) {\n      const message = `failed to fetch list: ${listUrl}`\n      console.debug(message, response.statusText)\n      if (isLast) throw new Error(message)\n      continue\n    }\n\n    const json = await response.json()\n    const list = await validateTokenList(json)\n    listCache?.set(listUrl, list)\n    return list\n  }\n\n  throw new Error('Unrecognized list URL protocol.')\n}\n","import { Currency, Token } from '@uniswap/sdk-core'\nimport { Tags, TokenInfo, TokenList } from '@uniswap/token-lists'\nimport { isAddress } from 'utils'\n\ntype TagDetails = Tags[keyof Tags]\ninterface TagInfo extends TagDetails {\n  id: string\n}\n/**\n * Token instances created from token info on a token list.\n */\nexport class WrappedTokenInfo implements Token {\n  public readonly isNative: false = false\n  public readonly isToken: true = true\n  public readonly list?: TokenList\n\n  public readonly tokenInfo: TokenInfo\n\n  constructor(tokenInfo: TokenInfo, list?: TokenList) {\n    this.tokenInfo = tokenInfo\n    this.list = list\n  }\n\n  private _checksummedAddress: string | null = null\n\n  public get address(): string {\n    if (this._checksummedAddress) return this._checksummedAddress\n    const checksummedAddress = isAddress(this.tokenInfo.address)\n    if (!checksummedAddress) throw new Error(`Invalid token address: ${this.tokenInfo.address}`)\n    return (this._checksummedAddress = checksummedAddress)\n  }\n\n  public get chainId(): number {\n    return this.tokenInfo.chainId\n  }\n\n  public get decimals(): number {\n    return this.tokenInfo.decimals\n  }\n\n  public get name(): string {\n    return this.tokenInfo.name\n  }\n\n  public get symbol(): string {\n    return this.tokenInfo.symbol\n  }\n\n  public get logoURI(): string | undefined {\n    return this.tokenInfo.logoURI\n  }\n\n  private _tags: TagInfo[] | null = null\n  public get tags(): TagInfo[] {\n    if (this._tags !== null) return this._tags\n    if (!this.tokenInfo.tags) return (this._tags = [])\n    const listTags = this.list?.tags\n    if (!listTags) return (this._tags = [])\n\n    return (this._tags = this.tokenInfo.tags.map((tagId) => {\n      return {\n        ...listTags[tagId],\n        id: tagId,\n      }\n    }))\n  }\n\n  equals(other: Currency): boolean {\n    return other.chainId === this.chainId && other.isToken && other.address.toLowerCase() === this.address.toLowerCase()\n  }\n\n  sortsBefore(other: Token): boolean {\n    if (this.equals(other)) throw new Error('Addresses should not be equal')\n    return this.address.toLowerCase() < other.address.toLowerCase()\n  }\n\n  public get wrapped(): Token {\n    return this\n  }\n}\n","import { TokenInfo, TokenList } from '@uniswap/token-lists'\nimport { WrappedTokenInfo } from 'state/lists/wrappedTokenInfo'\n\ntype TokenMap = Readonly<{ [tokenAddress: string]: { token: WrappedTokenInfo; list?: TokenList } }>\nexport type ChainTokenMap = Readonly<{ [chainId: number]: TokenMap }>\n\ntype Mutable<T> = {\n  -readonly [P in keyof T]: Mutable<T[P]>\n}\n\nconst mapCache = typeof WeakMap !== 'undefined' ? new WeakMap<TokenList | TokenInfo[], ChainTokenMap>() : null\n\nexport function tokensToChainTokenMap(tokens: TokenList | TokenInfo[]): ChainTokenMap {\n  const cached = mapCache?.get(tokens)\n  if (cached) return cached\n\n  const [list, infos] = Array.isArray(tokens) ? [undefined, tokens] : [tokens, tokens.tokens]\n  const map = infos.reduce<Mutable<ChainTokenMap>>((map, info) => {\n    const token = new WrappedTokenInfo(info, list)\n    if (map[token.chainId]?.[token.address] !== undefined) {\n      console.warn(`Duplicate token skipped: ${token.address}`)\n      return map\n    }\n    if (!map[token.chainId]) {\n      map[token.chainId] = {}\n    }\n    map[token.chainId][token.address] = { token, list }\n    return map\n  }, {}) as ChainTokenMap\n  mapCache?.set(tokens, map)\n  return map\n}\n","import { NativeCurrency, Token } from '@uniswap/sdk-core'\nimport { TokenInfo } from '@uniswap/token-lists'\nimport { isAddress } from 'utils'\n\nconst alwaysTrue = () => true\n\n/** Creates a filter function that filters tokens that do not match the query. */\nexport function getTokenFilter<T extends Token | TokenInfo>(query: string): (token: T | NativeCurrency) => boolean {\n  const searchingAddress = isAddress(query)\n\n  if (searchingAddress) {\n    const address = searchingAddress.toLowerCase()\n    return (t: T | NativeCurrency) => 'address' in t && address === t.address.toLowerCase()\n  }\n\n  const queryParts = query\n    .toLowerCase()\n    .split(/\\s+/)\n    .filter((s) => s.length > 0)\n\n  if (queryParts.length === 0) return alwaysTrue\n\n  const match = (s: string): boolean => {\n    const parts = s\n      .toLowerCase()\n      .split(/\\s+/)\n      .filter((s) => s.length > 0)\n\n    return queryParts.every((p) => p.length === 0 || parts.some((sp) => sp.startsWith(p) || sp.endsWith(p)))\n  }\n\n  return ({ name, symbol }: T | NativeCurrency): boolean => Boolean((symbol && match(symbol)) || (name && match(name)))\n}\n","import { Currency, CurrencyAmount, Token } from '@uniswap/sdk-core'\nimport { TokenInfo } from '@uniswap/token-lists'\nimport { useMemo } from 'react'\n\n/** Sorts currency amounts (descending). */\nfunction balanceComparator(a?: CurrencyAmount<Currency>, b?: CurrencyAmount<Currency>) {\n  if (a && b) {\n    return a.greaterThan(b) ? -1 : a.equalTo(b) ? 0 : 1\n  } else if (a?.greaterThan('0')) {\n    return -1\n  } else if (b?.greaterThan('0')) {\n    return 1\n  }\n  return 0\n}\n\ntype TokenBalances = { [tokenAddress: string]: CurrencyAmount<Token> | undefined }\n\n/** Sorts tokens by currency amount (descending), then symbol (ascending). */\nexport function tokenComparator(balances: TokenBalances, a: Token, b: Token) {\n  // Sorts by balances\n  const balanceComparison = balanceComparator(balances[a.address], balances[b.address])\n  if (balanceComparison !== 0) return balanceComparison\n\n  // Sorts by symbol\n  if (a.symbol && b.symbol) {\n    return a.symbol.toLowerCase() < b.symbol.toLowerCase() ? -1 : 1\n  }\n\n  return -1\n}\n\n/** Sorts tokens by query, giving precedence to exact matches and partial matches. */\nexport function useSortTokensByQuery<T extends Token | TokenInfo>(query: string, tokens?: T[]): T[] {\n  return useMemo(() => {\n    if (!tokens) {\n      return []\n    }\n\n    const matches = query\n      .toLowerCase()\n      .split(/\\s+/)\n      .filter((s) => s.length > 0)\n\n    if (matches.length > 1) {\n      return tokens\n    }\n\n    const exactMatches: T[] = []\n    const symbolSubtrings: T[] = []\n    const rest: T[] = []\n\n    // sort tokens by exact match -> subtring on symbol match -> rest\n    tokens.map((token) => {\n      if (token.symbol?.toLowerCase() === matches[0]) {\n        return exactMatches.push(token)\n      } else if (token.symbol?.toLowerCase().startsWith(query.toLowerCase().trim())) {\n        return symbolSubtrings.push(token)\n      } else {\n        return rest.push(token)\n      }\n    })\n\n    return [...exactMatches, ...symbolSubtrings, ...rest]\n  }, [tokens, query])\n}\n","import { nativeOnChain } from 'constants/tokens'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useTokenBalances } from 'hooks/useCurrencyBalance'\nimport useDebounce from 'hooks/useDebounce'\nimport { useMemo } from 'react'\nimport { WrappedTokenInfo } from 'state/lists/wrappedTokenInfo'\n\nimport { getTokenFilter } from './filtering'\nimport { tokenComparator, useSortTokensByQuery } from './sorting'\n\nexport function useQueryTokens(query: string, tokens: WrappedTokenInfo[]) {\n  const { chainId, account } = useActiveWeb3React()\n  const balances = useTokenBalances(account, tokens)\n  const sortedTokens = useMemo(\n    // Create a new array because sort is in-place and returns a referentially equivalent array.\n    () => Array.from(tokens).sort(tokenComparator.bind(null, balances)),\n    [balances, tokens]\n  )\n\n  const debouncedQuery = useDebounce(query, 200)\n  const filter = useMemo(() => getTokenFilter(debouncedQuery), [debouncedQuery])\n  const filteredTokens = useMemo(() => sortedTokens.filter(filter), [filter, sortedTokens])\n\n  const queriedTokens = useSortTokensByQuery(debouncedQuery, filteredTokens)\n\n  const native = useMemo(() => chainId && nativeOnChain(chainId), [chainId])\n  return useMemo(() => {\n    if (native && filter(native)) {\n      return [native, ...queriedTokens]\n    }\n    return queriedTokens\n  }, [filter, native, queriedTokens])\n}\n","import { Token } from '@uniswap/sdk-core'\nimport { TokenInfo, TokenList } from '@uniswap/token-lists'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { createContext, PropsWithChildren, useCallback, useContext, useEffect, useMemo, useState } from 'react'\nimport { WrappedTokenInfo } from 'state/lists/wrappedTokenInfo'\nimport resolveENSContentHash from 'utils/resolveENSContentHash'\n\nimport fetchTokenList from './fetchTokenList'\nimport { ChainTokenMap, tokensToChainTokenMap } from './utils'\nimport { validateTokens } from './validateTokenList'\n\nexport { useQueryTokens } from './useQueryTokens'\n\nexport const DEFAULT_TOKEN_LIST = 'https://gateway.ipfs.io/ipns/tokens.uniswap.org'\n\nconst MISSING_PROVIDER = Symbol()\nconst ChainTokenMapContext = createContext<ChainTokenMap | undefined | typeof MISSING_PROVIDER>(MISSING_PROVIDER)\n\nfunction useChainTokenMapContext() {\n  const chainTokenMap = useContext(ChainTokenMapContext)\n  if (chainTokenMap === MISSING_PROVIDER) {\n    throw new Error('TokenList hooks must be wrapped in a <TokenListProvider>')\n  }\n  return chainTokenMap\n}\n\nexport function useIsTokenListLoaded() {\n  return Boolean(useChainTokenMapContext())\n}\n\nexport default function useTokenList(): WrappedTokenInfo[] {\n  const { chainId } = useActiveWeb3React()\n  const chainTokenMap = useChainTokenMapContext()\n  const tokenMap = chainId && chainTokenMap?.[chainId]\n  return useMemo(() => {\n    if (!tokenMap) return []\n    return Object.values(tokenMap).map(({ token }) => token)\n  }, [tokenMap])\n}\n\nexport type TokenMap = { [address: string]: Token }\n\nexport function useTokenMap(): TokenMap {\n  const { chainId } = useActiveWeb3React()\n  const chainTokenMap = useChainTokenMapContext()\n  const tokenMap = chainId && chainTokenMap?.[chainId]\n  return useMemo(() => {\n    if (!tokenMap) return {}\n    return Object.entries(tokenMap).reduce((map, [address, { token }]) => {\n      map[address] = token\n      return map\n    }, {} as TokenMap)\n  }, [tokenMap])\n}\n\nexport function TokenListProvider({\n  list = DEFAULT_TOKEN_LIST,\n  children,\n}: PropsWithChildren<{ list?: string | TokenInfo[] }>) {\n  // Error boundaries will not catch (non-rendering) async errors, but it should still be shown\n  const [error, setError] = useState<Error>()\n  if (error) throw error\n\n  const [chainTokenMap, setChainTokenMap] = useState<ChainTokenMap>()\n\n  useEffect(() => setChainTokenMap(undefined), [list])\n\n  const { chainId, library } = useActiveWeb3React()\n  const resolver = useCallback(\n    (ensName: string) => {\n      if (library && chainId === 1) {\n        return resolveENSContentHash(ensName, library)\n      }\n      throw new Error('Could not construct mainnet ENS resolver')\n    },\n    [chainId, library]\n  )\n\n  useEffect(() => {\n    // If the list was already loaded, don't reload it.\n    if (chainTokenMap) return\n\n    let stale = false\n    activateList(list)\n    return () => {\n      stale = true\n    }\n\n    async function activateList(list: string | TokenInfo[]) {\n      try {\n        let tokens: TokenList | TokenInfo[]\n        if (typeof list === 'string') {\n          tokens = await fetchTokenList(list, resolver)\n        } else {\n          tokens = await validateTokens(list)\n        }\n        // tokensToChainTokenMap also caches the fetched tokens, so it must be invoked even if stale.\n        const map = tokensToChainTokenMap(tokens)\n        if (!stale) {\n          setChainTokenMap(map)\n          setError(undefined)\n        }\n      } catch (e: unknown) {\n        if (!stale) {\n          // Do not update the token map, in case the map was already resolved without error on mainnet.\n          setError(e as Error)\n        }\n      }\n    }\n  }, [chainTokenMap, list, resolver])\n\n  return <ChainTokenMapContext.Provider value={chainTokenMap}>{children}</ChainTokenMapContext.Provider>\n}\n","import { arrayify } from '@ethersproject/bytes'\nimport { parseBytes32String } from '@ethersproject/strings'\nimport { Currency, Token } from '@uniswap/sdk-core'\nimport { TOKEN_SHORTHANDS } from 'constants/tokens'\nimport { NEVER_RELOAD, useSingleCallResult } from 'hooks/multicall'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useBytes32TokenContract, useTokenContract } from 'hooks/useContract'\nimport useNativeCurrency from 'hooks/useNativeCurrency'\nimport { useMemo } from 'react'\nimport { isAddress } from 'utils'\nimport { supportedChainId } from 'utils/supportedChainId'\n\nimport { TokenMap, useTokenMap } from './useTokenList'\n\n// parse a name or symbol from a token response\nconst BYTES32_REGEX = /^0x[a-fA-F0-9]{64}$/\n\nfunction parseStringOrBytes32(str: string | undefined, bytes32: string | undefined, defaultValue: string): string {\n  return str && str.length > 0\n    ? str\n    : // need to check for proper bytes string and valid terminator\n    bytes32 && BYTES32_REGEX.test(bytes32) && arrayify(bytes32)[31] === 0\n    ? parseBytes32String(bytes32)\n    : defaultValue\n}\n\n/**\n * Returns a Token from the tokenAddress.\n * Returns null if token is loading or null was passed.\n * Returns undefined if tokenAddress is invalid or token does not exist.\n */\nexport function useTokenFromNetwork(tokenAddress: string | null | undefined): Token | null | undefined {\n  const { chainId } = useActiveWeb3React()\n\n  const formattedAddress = isAddress(tokenAddress)\n\n  const tokenContract = useTokenContract(formattedAddress ? formattedAddress : undefined, false)\n  const tokenContractBytes32 = useBytes32TokenContract(formattedAddress ? formattedAddress : undefined, false)\n\n  const tokenName = useSingleCallResult(tokenContract, 'name', undefined, NEVER_RELOAD)\n  const tokenNameBytes32 = useSingleCallResult(tokenContractBytes32, 'name', undefined, NEVER_RELOAD)\n  const symbol = useSingleCallResult(tokenContract, 'symbol', undefined, NEVER_RELOAD)\n  const symbolBytes32 = useSingleCallResult(tokenContractBytes32, 'symbol', undefined, NEVER_RELOAD)\n  const decimals = useSingleCallResult(tokenContract, 'decimals', undefined, NEVER_RELOAD)\n\n  return useMemo(() => {\n    if (typeof tokenAddress !== 'string' || !chainId || !formattedAddress) return undefined\n    if (decimals.loading || symbol.loading || tokenName.loading) return null\n    if (decimals.result) {\n      return new Token(\n        chainId,\n        formattedAddress,\n        decimals.result[0],\n        parseStringOrBytes32(symbol.result?.[0], symbolBytes32.result?.[0], 'UNKNOWN'),\n        parseStringOrBytes32(tokenName.result?.[0], tokenNameBytes32.result?.[0], 'Unknown Token')\n      )\n    }\n    return undefined\n  }, [\n    formattedAddress,\n    chainId,\n    decimals.loading,\n    decimals.result,\n    symbol.loading,\n    symbol.result,\n    symbolBytes32.result,\n    tokenAddress,\n    tokenName.loading,\n    tokenName.result,\n    tokenNameBytes32.result,\n  ])\n}\n\n/**\n * Returns a Token from the tokenAddress.\n * Returns null if token is loading or null was passed.\n * Returns undefined if tokenAddress is invalid or token does not exist.\n */\nexport function useTokenFromMapOrNetwork(tokens: TokenMap, tokenAddress?: string | null): Token | null | undefined {\n  const address = isAddress(tokenAddress)\n  const token: Token | undefined = address ? tokens[address] : undefined\n\n  const tokenFromNetwork = useTokenFromNetwork(token ? undefined : address ? address : undefined)\n\n  return tokenFromNetwork ?? token\n}\n\n/**\n * Returns a Token from the tokenAddress.\n * Returns null if token is loading or null was passed.\n * Returns undefined if tokenAddress is invalid or token does not exist.\n */\nexport function useToken(tokenAddress?: string | null): Token | null | undefined {\n  const tokens = useTokenMap()\n  return useTokenFromMapOrNetwork(tokens, tokenAddress)\n}\n\n/**\n * Returns a Currency from the currencyId.\n * Returns null if currency is loading or null was passed.\n * Returns undefined if currencyId is invalid or token does not exist.\n */\nexport function useCurrencyFromMap(tokens: TokenMap, currencyId?: string | null): Currency | null | undefined {\n  const nativeCurrency = useNativeCurrency()\n  const { chainId } = useActiveWeb3React()\n  const isNative = Boolean(nativeCurrency && currencyId?.toUpperCase() === 'ETH')\n  const shorthandMatchAddress = useMemo(() => {\n    const chain = supportedChainId(chainId)\n    return chain && currencyId ? TOKEN_SHORTHANDS[currencyId.toUpperCase()]?.[chain] : undefined\n  }, [chainId, currencyId])\n\n  const token = useTokenFromMapOrNetwork(tokens, isNative ? undefined : shorthandMatchAddress ?? currencyId)\n\n  if (currencyId === null || currencyId === undefined) return currencyId\n\n  // this case so we use our builtin wrapped token instead of wrapped tokens on token lists\n  const wrappedNative = nativeCurrency?.wrapped\n  if (wrappedNative?.address?.toUpperCase() === currencyId?.toUpperCase()) return wrappedNative\n\n  return isNative ? nativeCurrency : token\n}\n\n/**\n * Returns a Currency from the currencyId.\n * Returns null if currency is loading or null was passed.\n * Returns undefined if currencyId is invalid or token does not exist.\n */\nexport default function useCurrency(currencyId?: string | null): Currency | null | undefined {\n  const tokens = useTokenMap()\n  return useCurrencyFromMap(tokens, currencyId)\n}\n","import { ALL_SUPPORTED_CHAIN_IDS } from 'constants/chains'\nimport { useMemo } from 'react'\n\nimport useActiveWeb3React from './useActiveWeb3React'\n\nfunction useOnSupportedNetwork() {\n  const { chainId } = useActiveWeb3React()\n  return useMemo(() => Boolean(chainId && ALL_SUPPORTED_CHAIN_IDS.includes(chainId)), [chainId])\n}\n\nexport default useOnSupportedNetwork\n","import { Currency } from '@uniswap/sdk-core'\nimport { nativeOnChain } from 'constants/tokens'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useToken } from 'hooks/useCurrency'\nimport useNativeCurrency from 'hooks/useNativeCurrency'\nimport { useUpdateAtom } from 'jotai/utils'\nimport { useCallback, useEffect, useRef } from 'react'\nimport { Field, Swap, swapAtom } from 'state/swap'\n\nimport useOnSupportedNetwork from '../useOnSupportedNetwork'\nimport { useIsTokenListLoaded } from '../useTokenList'\n\nexport type DefaultAddress = string | { [chainId: number]: string | 'NATIVE' } | 'NATIVE'\n\nexport interface TokenDefaults {\n  defaultInputTokenAddress?: DefaultAddress\n  defaultInputAmount?: number | string\n  defaultOutputTokenAddress?: DefaultAddress\n  defaultOutputAmount?: number | string\n}\n\nfunction useDefaultToken(\n  defaultAddress: DefaultAddress | undefined,\n  chainId: number | undefined\n): Currency | undefined {\n  let address = undefined\n  if (typeof defaultAddress === 'string') {\n    address = defaultAddress\n  } else if (typeof defaultAddress === 'object' && chainId) {\n    address = defaultAddress[chainId]\n  }\n  const token = useToken(address)\n\n  const onSupportedNetwork = useOnSupportedNetwork()\n\n  // Only use native currency if chain ID is in supported chains. ExtendedEther will error otherwise.\n  if (chainId && address === 'NATIVE' && onSupportedNetwork) {\n    return nativeOnChain(chainId)\n  }\n  return token ?? undefined\n}\n\nexport default function useSyncTokenDefaults({\n  defaultInputTokenAddress,\n  defaultInputAmount,\n  defaultOutputTokenAddress,\n  defaultOutputAmount,\n}: TokenDefaults) {\n  const updateSwap = useUpdateAtom(swapAtom)\n  const { chainId } = useActiveWeb3React()\n  const onSupportedNetwork = useOnSupportedNetwork()\n  const nativeCurrency = useNativeCurrency()\n  const defaultOutputToken = useDefaultToken(defaultOutputTokenAddress, chainId)\n  const defaultInputToken =\n    useDefaultToken(defaultInputTokenAddress, chainId) ??\n    // Default the input token to the native currency if it is not the output token.\n    (defaultOutputToken !== nativeCurrency && onSupportedNetwork ? nativeCurrency : undefined)\n\n  const setToDefaults = useCallback(() => {\n    const defaultSwapState: Swap = {\n      amount: '',\n      [Field.INPUT]: defaultInputToken,\n      [Field.OUTPUT]: defaultOutputToken,\n      independentField: Field.INPUT,\n    }\n    if (defaultInputToken && defaultInputAmount) {\n      defaultSwapState.amount = defaultInputAmount.toString()\n    } else if (defaultOutputToken && defaultOutputAmount) {\n      defaultSwapState.independentField = Field.OUTPUT\n      defaultSwapState.amount = defaultOutputAmount.toString()\n    }\n    updateSwap((swap) => ({ ...swap, ...defaultSwapState }))\n  }, [defaultInputAmount, defaultInputToken, defaultOutputAmount, defaultOutputToken, updateSwap])\n\n  const lastChainId = useRef<number | undefined>(undefined)\n  const isTokenListLoaded = useIsTokenListLoaded()\n  useEffect(() => {\n    const shouldSync = isTokenListLoaded && chainId && chainId !== lastChainId.current\n    if (shouldSync) {\n      setToDefaults()\n      lastChainId.current = chainId\n    }\n  }, [isTokenListLoaded, chainId, setToDefaults])\n}\n","import { TransactionReceipt, TransactionResponse } from '@ethersproject/abstract-provider'\nimport { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport { atomWithImmer } from 'jotai/immer'\n\nexport enum TransactionType {\n  APPROVAL,\n  SWAP,\n  WRAP,\n}\n\ninterface BaseTransactionInfo {\n  type: TransactionType\n  response: TransactionResponse\n}\n\nexport interface ApprovalTransactionInfo extends BaseTransactionInfo {\n  type: TransactionType.APPROVAL\n  tokenAddress: string\n  spenderAddress: string\n}\n\nexport interface SwapTransactionInfo extends BaseTransactionInfo {\n  type: TransactionType.SWAP\n  tradeType: TradeType\n  inputCurrencyAmount: CurrencyAmount<Currency>\n  outputCurrencyAmount: CurrencyAmount<Currency>\n}\n\nexport interface InputSwapTransactionInfo extends SwapTransactionInfo {\n  tradeType: TradeType.EXACT_INPUT\n  expectedOutputCurrencyAmount: string\n  minimumOutputCurrencyAmount: string\n}\n\nexport interface OutputSwapTransactionInfo extends SwapTransactionInfo {\n  tradeType: TradeType.EXACT_OUTPUT\n  expectedInputCurrencyAmount: string\n  maximumInputCurrencyAmount: string\n}\n\nexport interface WrapTransactionInfo extends BaseTransactionInfo {\n  type: TransactionType.WRAP\n  unwrapped: boolean\n  currencyAmountRaw: string\n  chainId?: number\n}\n\nexport type TransactionInfo = ApprovalTransactionInfo | SwapTransactionInfo | WrapTransactionInfo\n\nexport interface Transaction<T extends TransactionInfo = TransactionInfo> {\n  addedTime: number\n  lastCheckedBlockNumber?: number\n  receipt?: TransactionReceipt\n  info: T\n}\n\nexport const transactionsAtom = atomWithImmer<{\n  [chainId: string]: { [hash: string]: Transaction }\n}>({})\n","function wait(ms: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\nfunction waitRandom(min: number, max: number): Promise<void> {\n  return wait(min + Math.round(Math.random() * Math.max(0, max - min)))\n}\n\n/**\n * This error is thrown if the function is cancelled before completing\n */\nclass CancelledError extends Error {\n  public isCancelledError: true = true\n  constructor() {\n    super('Cancelled')\n  }\n}\n\n/**\n * Throw this error if the function should retry\n */\nexport class RetryableError extends Error {\n  public isRetryableError: true = true\n}\n\nexport interface RetryOptions {\n  n: number\n  minWait: number\n  maxWait: number\n}\n\n/**\n * Retries the function that returns the promise until the promise successfully resolves up to n retries\n * @param fn function to retry\n * @param n how many times to retry\n * @param minWait min wait between retries in ms\n * @param maxWait max wait between retries in ms\n */\nexport function retry<T>(\n  fn: () => Promise<T>,\n  { n, minWait, maxWait }: RetryOptions\n): { promise: Promise<T>; cancel: () => void } {\n  let completed = false\n  let rejectCancelled: (error: Error) => void\n  const promise = new Promise<T>(async (resolve, reject) => {\n    rejectCancelled = reject\n    while (true) {\n      let result: T\n      try {\n        result = await fn()\n        if (!completed) {\n          resolve(result)\n          completed = true\n        }\n        break\n      } catch (error) {\n        if (completed) {\n          break\n        }\n        if (n <= 0 || !error.isRetryableError) {\n          reject(error)\n          completed = true\n          break\n        }\n        n--\n      }\n      await waitRandom(minWait, maxWait)\n    }\n  })\n  return {\n    promise,\n    cancel: () => {\n      if (completed) return\n      completed = true\n      rejectCancelled(new CancelledError())\n    },\n  }\n}\n","import { TransactionReceipt } from '@ethersproject/abstract-provider'\nimport { SupportedChainId } from 'constants/chains'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useBlockNumber, { useFastForwardBlockNumber } from 'hooks/useBlockNumber'\nimport ms from 'ms.macro'\nimport { useCallback, useEffect } from 'react'\nimport { retry, RetryableError, RetryOptions } from 'utils/retry'\n\ninterface Transaction {\n  addedTime: number\n  receipt?: unknown\n  lastCheckedBlockNumber?: number\n}\n\nexport function shouldCheck(lastBlockNumber: number, tx: Transaction): boolean {\n  if (tx.receipt) return false\n  if (!tx.lastCheckedBlockNumber) return true\n  const blocksSinceCheck = lastBlockNumber - tx.lastCheckedBlockNumber\n  if (blocksSinceCheck < 1) return false\n  const minutesPending = (new Date().getTime() - tx.addedTime) / ms`1m`\n  if (minutesPending > 60) {\n    // every 10 blocks if pending longer than an hour\n    return blocksSinceCheck > 9\n  } else if (minutesPending > 5) {\n    // every 3 blocks if pending longer than 5 minutes\n    return blocksSinceCheck > 2\n  } else {\n    // otherwise every block\n    return true\n  }\n}\n\nconst RETRY_OPTIONS_BY_CHAIN_ID: { [chainId: number]: RetryOptions } = {\n  [SupportedChainId.ARBITRUM_ONE]: { n: 10, minWait: 250, maxWait: 1000 },\n  [SupportedChainId.ARBITRUM_RINKEBY]: { n: 10, minWait: 250, maxWait: 1000 },\n  [SupportedChainId.OPTIMISTIC_KOVAN]: { n: 10, minWait: 250, maxWait: 1000 },\n  [SupportedChainId.OPTIMISM]: { n: 10, minWait: 250, maxWait: 1000 },\n}\nconst DEFAULT_RETRY_OPTIONS: RetryOptions = { n: 1, minWait: 0, maxWait: 0 }\n\ninterface UpdaterProps {\n  pendingTransactions: { [hash: string]: Transaction }\n  onCheck: (tx: { chainId: number; hash: string; blockNumber: number }) => void\n  onReceipt: (tx: { chainId: number; hash: string; receipt: TransactionReceipt }) => void\n}\n\nexport default function Updater({ pendingTransactions, onCheck, onReceipt }: UpdaterProps): null {\n  const { chainId, library } = useActiveWeb3React()\n\n  const lastBlockNumber = useBlockNumber()\n  const fastForwardBlockNumber = useFastForwardBlockNumber()\n\n  const getReceipt = useCallback(\n    (hash: string) => {\n      if (!library || !chainId) throw new Error('No library or chainId')\n      const retryOptions = RETRY_OPTIONS_BY_CHAIN_ID[chainId] ?? DEFAULT_RETRY_OPTIONS\n      return retry(\n        () =>\n          library.getTransactionReceipt(hash).then((receipt) => {\n            if (receipt === null) {\n              console.debug(`Retrying tranasaction receipt for ${hash}`)\n              throw new RetryableError()\n            }\n            return receipt\n          }),\n        retryOptions\n      )\n    },\n    [chainId, library]\n  )\n\n  useEffect(() => {\n    if (!chainId || !library || !lastBlockNumber) return\n\n    const cancels = Object.keys(pendingTransactions)\n      .filter((hash) => shouldCheck(lastBlockNumber, pendingTransactions[hash]))\n      .map((hash) => {\n        const { promise, cancel } = getReceipt(hash)\n        promise\n          .then((receipt) => {\n            if (receipt) {\n              onReceipt({ chainId, hash, receipt })\n            } else {\n              onCheck({ chainId, hash, blockNumber: lastBlockNumber })\n            }\n          })\n          .catch((error) => {\n            if (!error.isCancelledError) {\n              console.warn(`Failed to get transaction receipt for ${hash}`, error)\n            }\n          })\n        return cancel\n      })\n\n    return () => {\n      cancels.forEach((cancel) => cancel())\n    }\n  }, [chainId, library, lastBlockNumber, getReceipt, fastForwardBlockNumber, onReceipt, onCheck, pendingTransactions])\n\n  return null\n}\n","import { Token } from '@uniswap/sdk-core'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useAtomValue, useUpdateAtom } from 'jotai/utils'\nimport ms from 'ms.macro'\nimport { useCallback } from 'react'\nimport { Transaction, TransactionInfo, transactionsAtom, TransactionType } from 'state/transactions'\nimport invariant from 'tiny-invariant'\n\nimport useBlockNumber from '../useBlockNumber'\nimport Updater from './updater'\n\nfunction isTransactionRecent(transaction: Transaction) {\n  return Date.now() - transaction.addedTime < ms`1d`\n}\n\nexport function usePendingTransactions() {\n  const { chainId } = useActiveWeb3React()\n  const txs = useAtomValue(transactionsAtom)\n  return (chainId ? txs[chainId] : null) ?? {}\n}\n\nexport function useAddTransaction() {\n  const { chainId } = useActiveWeb3React()\n  const blockNumber = useBlockNumber()\n  const updateTxs = useUpdateAtom(transactionsAtom)\n\n  return useCallback(\n    (info: TransactionInfo) => {\n      invariant(chainId)\n      const txChainId = chainId\n      const { hash } = info.response\n\n      updateTxs((chainTxs) => {\n        const txs = chainTxs[txChainId] || {}\n        txs[hash] = { addedTime: new Date().getTime(), lastCheckedBlockNumber: blockNumber, info }\n        chainTxs[chainId] = txs\n      })\n    },\n    [blockNumber, chainId, updateTxs]\n  )\n}\n\n/** Returns the hash of a pending approval transaction, if it exists. */\nexport function usePendingApproval(token?: Token, spender?: string): string | undefined {\n  const { chainId } = useActiveWeb3React()\n  const txs = useAtomValue(transactionsAtom)\n  if (!chainId || !token || !spender) return undefined\n\n  const chainTxs = txs[chainId]\n  if (!chainTxs) return undefined\n\n  return Object.values(chainTxs).find(\n    (tx) =>\n      tx &&\n      tx.receipt === undefined &&\n      tx.info.type === TransactionType.APPROVAL &&\n      tx.info.tokenAddress === token.address &&\n      tx.info.spenderAddress === spender &&\n      isTransactionRecent(tx)\n  )?.info.response.hash\n}\n\nexport function TransactionsUpdater() {\n  const pendingTransactions = usePendingTransactions()\n\n  const updateTxs = useUpdateAtom(transactionsAtom)\n  const onCheck = useCallback(\n    ({ chainId, hash, blockNumber }) => {\n      updateTxs((txs) => {\n        const tx = txs[chainId]?.[hash]\n        if (tx) {\n          tx.lastCheckedBlockNumber = tx.lastCheckedBlockNumber\n            ? Math.max(tx.lastCheckedBlockNumber, blockNumber)\n            : blockNumber\n        }\n      })\n    },\n    [updateTxs]\n  )\n  const onReceipt = useCallback(\n    ({ chainId, hash, receipt }) => {\n      updateTxs((txs) => {\n        const tx = txs[chainId]?.[hash]\n        if (tx) {\n          tx.receipt = receipt\n        }\n      })\n    },\n    [updateTxs]\n  )\n\n  return <Updater pendingTransactions={pendingTransactions} onCheck={onCheck} onReceipt={onReceipt} />\n}\n","import { useCallback, useEffect, useState } from 'react'\n\nexport default function useHasFocus(node: Node | null | undefined): boolean {\n  useEffect(() => {\n    if (node instanceof HTMLElement) {\n      // tabIndex is required to receive blur events from non-button elements.\n      node.tabIndex = node.tabIndex || -1\n      // Without explicitly omitting outline, Safari will now outline this node when focused.\n      node.style.outline = node.style.outline || 'none'\n    }\n  }, [node])\n  const [hasFocus, setHasFocus] = useState(node?.contains(document?.activeElement) ?? false)\n  const onFocus = useCallback(() => setHasFocus(true), [])\n  const onBlur = useCallback((e) => setHasFocus(node?.contains(e.relatedTarget) ?? false), [node])\n  useEffect(() => {\n    node?.addEventListener('focusin', onFocus)\n    node?.addEventListener('focusout', onBlur)\n    return () => {\n      node?.removeEventListener('focusin', onFocus)\n      node?.removeEventListener('focusout', onBlur)\n    }\n  }, [node, onFocus, onBlur])\n  return hasFocus\n}\n","export default \"data:image/svg+xml,%3Csvg%20width%3D%2223%22%20height%3D%2220%22%20viewBox%3D%220%200%2023%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cdefs%3E%20%3ClinearGradient%20id%3D%22gradient%22%20x1%3D%220%22%20y1%3D%220%22%20x2%3D%221%22%20y2%3D%220%22%20gradientTransform%3D%22rotate%2895%29%22%3E%20%20%20%20%3Cstop%20id%3D%22stop1%22%20offset%3D%220%22%20stop-color%3D%22%232274E2%22%2F%3E%20%20%20%20%3Cstop%20id%3D%22stop1%22%20offset%3D%220.5%22%20stop-color%3D%22%232274E2%22%2F%3E%20%20%20%20%3Cstop%20id%3D%22stop2%22%20offset%3D%221%22%20stop-color%3D%22%233FB672%22%20%2F%3E%20%20%3C%2FlinearGradient%3E%20%20%3C%2Fdefs%3E%3Cpath%20d%3D%22M16%2016C10%2016%209%2010%205%2010M16%2016C16%2017.6569%2017.3431%2019%2019%2019C20.6569%2019%2022%2017.6569%2022%2016C22%2014.3431%2020.6569%2013%2019%2013C17.3431%2013%2016%2014.3431%2016%2016ZM5%2010C9%2010%2010%204%2016%204M5%2010H1.5M16%204C16%205.65685%2017.3431%207%2019%207C20.6569%207%2022%205.65685%2022%204C22%202.34315%2020.6569%201%2019%201C17.3431%201%2016%202.34315%2016%204Z%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke%3D%22url%28%23gradient%29%22%20%2F%3E%3C%2Fsvg%3E\"","export default \"data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Ccircle%20cx%3D%2210%22%20cy%3D%2210%22%20r%3D%2210%22%20%2F%3E%20%20%20%20%3Cpath%20d%3D%22M14%207L8.5%2012.5L6%2010%22%20stroke%3D%22white%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E\"","export default \"data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cpolyline%20class%3D%22left%22%20points%3D%2218%2015%2012%209%22%3E%3C%2Fpolyline%3E%20%20%20%20%3Cpolyline%20class%3D%22right%22%20points%3D%2212%209%206%2015%22%3E%3C%2Fpolyline%3E%3C%2Fsvg%3E\"","export default \"data:image/svg+xml,%20%20%20%20%3Csvg%20viewBox%3D%220%200%2024%2024%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%20%20%3Cmask%20id%3D%22mask%22%3E%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2210%22%20fill%3D%22black%22%20stroke%3D%22black%22%20stroke-width%3D%222%22%20%2F%3E%20%20%20%20%20%20%20%20%3Crect%20width%3D%2212%22%20height%3D%2212%22%20fill%3D%22white%22%20stroke-width%3D%220%22%20%2F%3E%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%222%22%20cy%3D%2212%22%20r%3D%221%22%20fill%3D%22white%22%20stroke-width%3D%220%22%20%2F%3E%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%2212%22%20cy%3D%222%22%20r%3D%221%22%20fill%3D%22white%22%20stroke-width%3D%220%22%20%2F%3E%20%20%20%20%20%20%3C%2Fmask%3E%20%20%20%20%20%20%3Ccircle%20%20%20%20%20%20%20%20cx%3D%2212%22%20%20%20%20%20%20%20%20cy%3D%2212%22%20%20%20%20%20%20%20%20r%3D%226%22%20%20%20%20%20%20%20%20stroke%3D%22none%22%20%20%20%20%20%20%2F%3E%20%20%20%20%20%20%3Ccircle%20%20%20%20%20%20%20%20id%3D%22track%22%20%20%20%20%20%20%20%20cx%3D%2212%22%20%20%20%20%20%20%20%20cy%3D%2212%22%20%20%20%20%20%20%20%20r%3D%2210%22%20%20%20%20%20%20%20%20stroke-width%3D%222%22%20%20%20%20%20%20%20%20stroke-linecap%3D%22round%22%20%20%20%20%20%20%20%20stroke-linejoin%3D%22round%22%20%20%20%20%20%20%20%20fill%3D%22none%22%20%20%20%20%20%20%2F%3E%20%20%20%20%20%20%3Ccircle%20%20%20%20%20%20%20%20cx%3D%2212%22%20%20%20%20%20%20%20%20cy%3D%2212%22%20%20%20%20%20%20%20%20r%3D%2210%22%20%20%20%20%20%20%20%20stroke%3D%22currentColor%22%20%20%20%20%20%20%20%20stroke-width%3D%222%22%20%20%20%20%20%20%20%20stroke-linecap%3D%22round%22%20%20%20%20%20%20%20%20stroke-linejoin%3D%22round%22%20%20%20%20%20%20%20%20fill%3D%22none%22%20%20%20%20%20%20%20%20mask%3D%22url%28%23mask%29%22%20%20%20%20%20%20%2F%3E%20%20%20%20%3C%2Fsvg%3E\"","export default \"data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2014%2015%22%20fill%3D%22black%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M4.15217%201.55141C3.96412%201.52242%203.95619%201.51902%204.04468%201.5055C4.21427%201.47958%204.61472%201.51491%204.89067%201.58012C5.53489%201.73232%206.12109%202.12221%206.74683%202.81466L6.91307%202.99862L7.15088%202.96062C8.15274%202.8006%209.17194%202.92778%2010.0244%203.31918C10.2589%203.42686%2010.6287%203.64121%2010.6749%203.69629C10.6896%203.71384%2010.7166%203.82684%2010.7349%203.94742C10.7982%204.36458%2010.7665%204.68434%2010.6382%204.92317C10.5683%205.05313%2010.5644%205.09432%2010.6114%205.20554C10.6489%205.2943%2010.7534%205.35999%2010.8569%205.35985C11.0687%205.35956%2011.2968%205.0192%2011.4024%204.54561L11.4444%204.3575L11.5275%204.45109C11.9835%204.96459%2012.3417%205.66488%2012.4032%206.16335L12.4192%206.29332L12.3426%206.17517C12.2107%205.97186%2012.0781%205.83346%2011.9084%205.72183C11.6024%205.52062%2011.2789%205.45215%2010.4222%205.40727C9.64839%205.36675%209.21045%205.30106%208.77621%205.16032C8.03738%204.9209%207.66493%204.60204%206.78729%203.4576C6.39748%202.94928%206.15654%202.66804%205.91687%202.44155C5.37228%201.92691%204.83716%201.65701%204.15217%201.55141Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M10.8494%202.68637C10.8689%202.34575%2010.9153%202.12108%2011.0088%201.9159C11.0458%201.83469%2011.0804%201.76822%2011.0858%201.76822C11.0911%201.76822%2011.075%201.82816%2011.05%201.90142C10.9821%202.10054%2010.9709%202.3729%2011.0177%202.68978C11.0771%203.09184%2011.1109%203.14985%2011.5385%203.58416C11.739%203.78788%2011.9723%204.0448%2012.0568%204.15511L12.2106%204.35568L12.0568%204.21234C11.8688%204.03705%2011.4364%203.6952%2011.3409%203.64633C11.2768%203.61356%2011.2673%203.61413%2011.2278%203.65321C11.1914%203.68922%2011.1837%203.74333%2011.1787%203.99915C11.1708%204.39786%2011.1161%204.65377%2010.9842%204.90965C10.9128%205.04805%2010.9015%205.01851%2010.9661%204.8623C11.0143%204.74566%2011.0192%204.69439%2011.0189%204.30842C11.0181%203.53291%2010.9255%203.34647%2010.3823%203.02709C10.2447%202.94618%2010.0179%202.8295%209.87839%202.76778C9.73887%202.70606%209.62805%202.6523%209.63208%202.64828C9.64746%202.63307%2010.1772%202.78675%2010.3905%202.86828C10.7077%202.98954%2010.76%203.00526%2010.7985%202.99063C10.8244%202.98082%2010.8369%202.90608%2010.8494%202.68637Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M4.51745%204.01304C4.13569%203.49066%203.89948%202.68973%203.95062%202.091L3.96643%201.90572L4.05333%201.92148C4.21652%201.95106%204.49789%202.05515%204.62964%202.13469C4.9912%202.35293%205.14773%202.64027%205.30697%203.37811C5.35362%203.59423%205.41482%203.8388%205.44298%203.9216C5.48831%204.05487%205.65962%204.36617%205.7989%204.56834C5.89922%204.71395%205.83258%204.78295%205.61082%204.76305C5.27215%204.73267%204.8134%204.41799%204.51745%204.01304Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M10.3863%207.90088C8.60224%207.18693%207.97389%206.56721%207.97389%205.52157C7.97389%205.36769%207.97922%205.24179%207.98571%205.24179C7.99221%205.24179%208.06124%205.29257%208.1391%205.35465C8.50088%205.64305%208.906%205.76623%2010.0275%205.92885C10.6875%206.02455%2011.0589%206.10185%2011.4015%206.21477C12.4904%206.57371%2013.1641%207.30212%2013.3248%208.29426C13.3715%208.58255%2013.3441%209.12317%2013.2684%209.4081C13.2087%209.63315%2013.0263%2010.0388%2012.9779%2010.0544C12.9645%2010.0587%2012.9514%2010.0076%2012.9479%209.93809C12.9296%209.56554%2012.7402%209.20285%2012.4221%208.93116C12.0604%208.62227%2011.5745%208.37633%2010.3863%207.90088Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9.13385%208.19748C9.11149%208.06527%209.07272%207.89643%209.04769%207.82228L9.00217%207.68748L9.08672%207.7818C9.20374%207.91233%209.2962%208.07937%209.37457%208.30185C9.43438%208.47165%209.44111%208.52215%209.44066%208.79807C9.4402%209.06896%209.43273%209.12575%209.3775%209.27858C9.29042%209.51959%209.18233%209.69048%209.00097%209.87391C8.67507%2010.2036%208.25607%2010.3861%207.65143%2010.4618C7.54633%2010.4749%207.24%2010.4971%206.97069%2010.511C6.292%2010.5461%205.84531%2010.6186%205.44393%2010.7587C5.38623%2010.7788%205.3347%2010.7911%205.32947%2010.7859C5.31323%2010.7698%205.58651%2010.6079%205.81223%2010.4998C6.1305%2010.3474%206.44733%2010.2643%207.15719%2010.1468C7.50785%2010.0887%207.86998%2010.0183%207.96194%209.99029C8.83033%209.72566%209.27671%209.04276%209.13385%208.19748Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9.95169%209.64109C9.71465%209.13463%209.66022%208.64564%209.79009%208.18961C9.80399%208.14088%209.82632%208.101%209.83976%208.101C9.85319%208.101%209.90913%208.13105%209.96404%208.16777C10.0733%208.24086%2010.2924%208.36395%2010.876%208.68023C11.6043%209.0749%2012.0196%209.3805%2012.302%209.72965C12.5493%2010.0354%2012.7023%2010.3837%2012.776%2010.8084C12.8177%2011.0489%2012.7932%2011.6277%2012.7311%2011.8699C12.5353%2012.6337%2012.0802%2013.2336%2011.4311%2013.5837C11.336%2013.635%2011.2506%2013.6771%2011.2414%2013.6773C11.2321%2013.6775%2011.2668%2013.5899%2011.3184%2013.4827C11.5367%2013.029%2011.5616%2012.5877%2011.3965%2012.0965C11.2954%2011.7957%2011.0893%2011.4287%2010.6732%2010.8084C10.1893%2010.0873%2010.0707%209.89539%209.95169%209.64109Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3.25046%2012.3737C3.91252%2011.8181%204.73629%2011.4234%205.48666%2011.3022C5.81005%2011.25%206.34877%2011.2707%206.64823%2011.3469C7.12824%2011.469%207.55763%2011.7425%207.78094%2012.0683C7.99918%2012.3867%208.09281%2012.6642%208.19029%2013.2816C8.22875%2013.5252%208.27057%2013.7697%208.28323%2013.8251C8.35644%2014.1451%208.4989%2014.4008%208.67544%2014.5293C8.95583%2014.7333%209.43865%2014.7459%209.91362%2014.5618C9.99423%2014.5305%2010.0642%2014.5089%2010.0691%2014.5138C10.0864%2014.5308%209.84719%2014.6899%209.67847%2014.7737C9.45143%2014.8864%209.2709%2014.93%209.03102%2014.93C8.59601%2014.93%208.23486%2014.7101%207.9335%2014.2616C7.87419%2014.1733%207.7409%2013.909%207.63729%2013.6741C7.3191%2012.9528%207.16199%2012.7331%206.79255%2012.4926C6.47104%2012.2834%206.05641%2012.2459%205.74449%2012.3979C5.33475%2012.5976%205.22043%2013.118%205.51389%2013.4478C5.63053%2013.5789%205.84803%2013.6919%206.02588%2013.7139C6.35861%2013.7551%206.64455%2013.5035%206.64455%2013.1696C6.64455%2012.9528%206.56071%2012.8291%206.34966%2012.7344C6.0614%2012.6051%205.75156%2012.7562%205.75304%2013.0254C5.75368%2013.1402%205.80396%2013.2122%205.91971%2013.2643C5.99397%2013.2977%205.99569%2013.3003%205.93514%2013.2878C5.67066%2013.2333%205.6087%2012.9164%205.82135%2012.706C6.07667%2012.4535%206.60461%2012.5649%206.78591%2012.9097C6.86208%2013.0545%206.87092%2013.3429%206.80451%2013.517C6.6559%2013.9068%206.22256%2014.1117%205.78297%2014.0002C5.48368%2013.9242%205.36181%2013.842%205.00097%2013.4726C4.37395%2012.8306%204.13053%2012.7062%203.22657%2012.566L3.05335%2012.5391L3.25046%2012.3737Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M0.308383%200.883984C2.40235%203.40996%203.84457%204.45213%204.00484%204.67231C4.13717%204.85412%204.08737%205.01757%203.86067%205.14567C3.7346%205.21689%203.47541%205.28905%203.34564%205.28905C3.19887%205.28905%203.14847%205.23278%203.14847%205.23278C3.06337%205.15255%203.01544%205.16658%202.5784%204.39555C1.97166%203.45981%201.46389%202.68357%201.45004%202.67057C1.41801%202.64052%201.41856%202.64153%202.51654%204.59413C2.69394%205.0011%202.55182%205.15049%202.55182%205.20845C2.55182%205.32636%202.51946%205.38834%202.37311%205.55059C2.12914%205.8211%202.02008%206.12505%201.94135%206.7541C1.8531%207.45926%201.60492%207.95737%200.917156%208.80989C0.514562%209.30893%200.448686%209.4004%200.3471%209.60153C0.219144%209.85482%200.183961%209.99669%200.169701%2010.3165C0.154629%2010.6547%200.183983%2010.8732%200.287934%2011.1965C0.378939%2011.4796%200.473932%2011.6665%200.716778%2012.0403C0.926351%2012.3629%201.04702%2012.6027%201.04702%2012.6965C1.04702%2012.7711%201.06136%2012.7712%201.38611%2012.6983C2.16328%2012.5239%202.79434%2012.2171%203.14925%2011.8411C3.36891%2011.6084%203.42048%2011.4799%203.42215%2011.1611C3.42325%2010.9525%203.41587%2010.9088%203.35914%2010.7888C3.2668%2010.5935%203.09869%2010.4311%202.72817%2010.1794C2.2427%209.84953%202.03534%209.58398%201.97807%209.21878C1.93108%208.91913%201.98559%208.70771%202.25416%208.14825C2.53214%207.56916%202.60103%207.32239%202.64763%206.73869C2.67773%206.36158%202.71941%206.21286%202.82842%206.09348C2.94212%205.969%203.04447%205.92684%203.32584%205.88863C3.78457%205.82635%204.07667%205.70839%204.31677%205.48849C4.52505%205.29772%204.61221%205.11391%204.62558%204.8372L4.63574%204.62747L4.51934%204.49259C4.09783%204.00411%200.0261003%200.5%200.000160437%200.5C-0.00538105%200.5%200.133325%200.672804%200.308383%200.883984ZM1.28364%2010.6992C1.37894%2010.5314%201.3283%2010.3158%201.16889%2010.2104C1.01827%2010.1109%200.78428%2010.1578%200.78428%2010.2875C0.78428%2010.3271%200.806303%2010.3559%200.855937%2010.3813C0.939514%2010.424%200.945581%2010.4721%200.879823%2010.5703C0.81323%2010.6698%200.818604%2010.7573%200.894991%2010.8167C1.0181%2010.9125%201.19237%2010.8598%201.28364%2010.6992Z%22%2F%3E%20%20%20%20%20%20%20%20%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M4.92523%205.99865C4.70988%206.06439%204.50054%206.29124%204.43574%206.5291C4.39621%206.67421%204.41864%206.92875%204.47785%207.00736C4.57351%207.13433%204.66602%207.16778%204.91651%207.16603C5.40693%207.16263%205.83327%206.95358%205.88284%206.69224C5.92347%206.47801%205.73622%206.18112%205.4783%206.05078C5.34521%205.98355%205.06217%205.95688%204.92523%205.99865ZM5.49853%206.44422C5.57416%206.33741%205.54107%206.22198%205.41245%206.14391C5.1675%205.99525%204.79708%206.11827%204.79708%206.34826C4.79708%206.46274%204.99025%206.58765%205.16731%206.58765C5.28516%206.58765%205.44644%206.5178%205.49853%206.44422Z%22%2F%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E\"","export default \"data:image/svg+xml,%20%20%20%20%3Csvg%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%20%20%3Cmask%20id%3D%22mask%22%3E%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%2210%22%20stroke%3D%22white%22%20stroke-width%3D%222%22%20%2F%3E%20%20%20%20%20%20%20%20%3Crect%20width%3D%2212%22%20height%3D%2212%22%20fill%3D%22black%22%20stroke-width%3D%220%22%20%2F%3E%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%222%22%20cy%3D%2212%22%20r%3D%221%22%20fill%3D%22white%22%20stroke-width%3D%220%22%20%2F%3E%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%2212%22%20cy%3D%222%22%20r%3D%221%22%20fill%3D%22white%22%20stroke-width%3D%220%22%20%2F%3E%20%20%20%20%20%20%3C%2Fmask%3E%20%20%20%20%20%20%3Ccircle%20%20%20%20%20%20%20%20cx%3D%2212%22%20%20%20%20%20%20%20%20cy%3D%2212%22%20%20%20%20%20%20%20%20r%3D%2210%22%20%20%20%20%20%20%20%20stroke-width%3D%222%22%20%20%20%20%20%20%20%20stroke-linecap%3D%22round%22%20%20%20%20%20%20%20%20stroke-linejoin%3D%22round%22%20%20%20%20%20%20%20%20mask%3D%22url%28%23mask%29%22%20%20%20%20%20%20%2F%3E%20%20%20%20%3C%2Fsvg%3E\"","export default \"data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M2%207C2%205.89543%202.89543%205%204%205H20C21.1046%205%2022%205.89543%2022%207V18C22%2019.1046%2021.1046%2020%2020%2020H4C2.89543%2020%202%2019.1046%202%2018V7Z%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%2F%3E%3Cpath%20d%3D%22M4%2019H20C21.1046%2019%2022%2018.1046%2022%2017V14C22%2012.8954%2021.1046%2012%2020%2012H16C15.4477%2012%2014.9935%2012.4624%2014.7645%2012.965C14.4438%2013.6688%2013.789%2014.5%2012%2014.5C10.29%2014.5%209.48213%2013.7406%209.1936%2013.0589C8.96576%2012.5206%208.49905%2012%207.91447%2012H4C2.89543%2012%202%2012.8954%202%2014V17C2%2018.1046%202.89543%2019%204%2019Z%22%20fill%3D%22currentColor%22%2F%3E%3Cpath%20d%3D%22M22%2013V11C22%209.89543%2021.1034%209%2019.9989%209C14.0294%209%209.97062%209%204.00115%209C2.89658%209%202%209.89543%202%2011V13%22%20stroke%3D%22currentColor%22%20stroke-width%3D%222%22%2F%3E%3C%2Fsvg%3E\"","import { css } from 'styled-components/macro'\n\nexport const loadingOpacity = 0.6\n\nexport const loadingCss = css`\n  filter: grayscale(1);\n  opacity: ${loadingOpacity};\n`\n\n// need to use isLoading as `loading` is a reserved prop\nexport const loadingTransitionCss = css<{ isLoading: boolean }>`\n  opacity: ${({ isLoading }) => isLoading && loadingOpacity};\n  transition: color 0.125s linear, opacity ${({ isLoading }) => (isLoading ? 0 : 0.25)}s ease-in-out;\n`\n","import { ReactComponent as RouterIcon } from 'assets/svg/auto_router.svg'\nimport { ReactComponent as CheckIcon } from 'assets/svg/check.svg'\nimport { ReactComponent as ExpandoIcon } from 'assets/svg/expando.svg'\nimport { ReactComponent as InlineSpinnerIcon } from 'assets/svg/inline_spinner.svg'\nimport { ReactComponent as LogoIcon } from 'assets/svg/logo.svg'\nimport { ReactComponent as SpinnerIcon } from 'assets/svg/spinner.svg'\nimport { ReactComponent as WalletIcon } from 'assets/svg/wallet.svg'\nimport { loadingCss } from 'css/loading'\nimport { FunctionComponent, SVGProps } from 'react'\n/* eslint-disable no-restricted-imports */\nimport { Icon as FeatherIcon } from 'react-feather'\nimport {\n  AlertTriangle as AlertTriangleIcon,\n  ArrowDown as ArrowDownIcon,\n  ArrowRight as ArrowRightIcon,\n  ArrowUp as ArrowUpIcon,\n  BarChart2 as BarChart2Icon,\n  CheckCircle as CheckCircleIcon,\n  ChevronDown as ChevronDownIcon,\n  Clock as ClockIcon,\n  ExternalLink as LinkIcon,\n  HelpCircle as HelpCircleIcon,\n  Info as InfoIcon,\n  Settings as SettingsIcon,\n  Slash as SlashIcon,\n  Trash2 as Trash2Icon,\n  X as XIcon,\n  XOctagon as XOctagonIcon,\n} from 'react-feather'\nimport styled, { css, keyframes } from 'styled-components/macro'\nimport { Color } from 'theme'\n/* eslint-enable no-restricted-imports */\n\ntype SVGIcon = FunctionComponent<SVGProps<SVGSVGElement>>\n\nfunction icon(Icon: FeatherIcon | SVGIcon) {\n  return styled(Icon)<{ color?: Color }>`\n    clip-path: stroke-box;\n    height: 1em;\n    stroke: ${({ color = 'currentColor', theme }) => theme[color]};\n    width: 1em;\n  `\n}\n\nexport const largeIconCss = css<{ iconSize: number }>`\n  display: flex;\n\n  svg {\n    align-self: center;\n    height: ${({ iconSize }) => iconSize}em;\n    width: ${({ iconSize }) => iconSize}em;\n  }\n`\n\nconst LargeWrapper = styled.div<{ iconSize: number }>`\n  height: 1em;\n  width: ${({ iconSize }) => iconSize}em;\n  ${largeIconCss}\n`\n\nexport type Icon = ReturnType<typeof icon> | typeof LargeIcon\n\ninterface LargeIconProps {\n  icon?: Icon\n  color?: Color\n  size?: number\n  className?: string\n}\n\nexport function LargeIcon({ icon: Icon, color, size = 1.2, className }: LargeIconProps) {\n  return (\n    <LargeWrapper color={color} iconSize={size} className={className}>\n      {Icon && <Icon color={color} />}\n    </LargeWrapper>\n  )\n}\n\nexport const AlertTriangle = icon(AlertTriangleIcon)\nexport const ArrowDown = icon(ArrowDownIcon)\nexport const ArrowRight = icon(ArrowRightIcon)\nexport const ArrowUp = icon(ArrowUpIcon)\nexport const CheckCircle = icon(CheckCircleIcon)\nexport const BarChart = icon(BarChart2Icon)\nexport const ChevronDown = icon(ChevronDownIcon)\nexport const Clock = icon(ClockIcon)\nexport const HelpCircle = icon(HelpCircleIcon)\nexport const Info = icon(InfoIcon)\nexport const Link = icon(LinkIcon)\nexport const AutoRouter = icon(RouterIcon)\nexport const Settings = icon(SettingsIcon)\nexport const Slash = icon(SlashIcon)\nexport const Trash2 = icon(Trash2Icon)\nexport const Wallet = icon(WalletIcon)\nexport const X = icon(XIcon)\nexport const XOctagon = icon(XOctagonIcon)\n\nexport const Check = styled(icon(CheckIcon))`\n  circle {\n    fill: ${({ theme }) => theme.active};\n    stroke: none;\n  }\n`\n\nexport const Expando = styled(icon(ExpandoIcon))<{ open: boolean }>`\n  .left,\n  .right {\n    transition: transform 0.25s ease-in-out;\n    will-change: transform;\n  }\n\n  .left {\n    transform: ${({ open }) => (open ? undefined : 'translateX(-25%)')};\n  }\n\n  .right {\n    transform: ${({ open }) => (open ? undefined : 'translateX(25%)')};\n  }\n`\n\nexport const Logo = styled(icon(LogoIcon))`\n  fill: ${({ theme }) => theme.secondary};\n  stroke: none;\n`\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nexport const Spinner = styled(icon(SpinnerIcon))<{ color?: Color }>`\n  animation: 2s ${rotate} linear infinite;\n  stroke: ${({ color = 'active', theme }) => theme[color]};\n  stroke-linecap: round;\n  stroke-width: 2;\n`\n\nexport const InlineSpinner = styled(icon(InlineSpinnerIcon))<{ color?: Color }>`\n  animation: ${rotate} 1s cubic-bezier(0.83, 0, 0.17, 1) infinite;\n  color: ${({ color = 'active', theme }) => theme[color]};\n  fill: ${({ color = 'active', theme }) => theme[color]};\n\n  #track {\n    stroke: ${({ theme }) => theme.secondary};\n    ${loadingCss};\n  }\n`\n","import { darken, lighten, opacify, transparentize } from 'polished'\nimport { readableColor } from 'polished'\nimport { ReactNode, useMemo } from 'react'\nimport { ThemeProvider as StyledProvider, useTheme } from 'styled-components/macro'\nimport { hex } from 'wcag-contrast'\n\nimport type { Colors, ComputedTheme } from './styled'\n\ntype DynamicColors = Pick<Colors, 'interactive' | 'outline' | 'primary' | 'secondary' | 'onInteractive'>\n\nconst black = 'hsl(0, 0%, 0%)'\nconst white = 'hsl(0, 0%, 100%)'\n\nconst light: DynamicColors = {\n  // surface\n  interactive: transparentize(1 - 0.54, black),\n  outline: transparentize(1 - 0.24, black),\n\n  // text\n  primary: black,\n  secondary: transparentize(1 - 0.64, black),\n  onInteractive: white,\n}\n\nconst dark: DynamicColors = {\n  // surface\n  interactive: transparentize(1 - 0.48, white),\n  outline: transparentize(1 - 0.12, white),\n\n  // text\n  primary: white,\n  secondary: transparentize(1 - 0.6, white),\n  onInteractive: black,\n}\n\nexport function getDynamicTheme(theme: ComputedTheme, color: string): ComputedTheme {\n  const colors = { light, dark }[readableColor(color, 'light', 'dark', false) as 'light' | 'dark']\n  return {\n    ...theme,\n    ...colors,\n    module: color,\n    onHover: (color: string) => (color === colors.primary ? transparentize(0.4, colors.primary) : opacify(0.25, color)),\n  }\n}\n\nfunction getAccessibleColor(theme: ComputedTheme, color: string) {\n  const dynamic = getDynamicTheme(theme, color)\n  let { primary } = dynamic\n  let AAscore = hex(color, primary)\n  const contrastify = hex(color, '#000') > hex(color, '#fff') ? darken : lighten\n  while (AAscore < 3) {\n    color = contrastify(0.005, color)\n    primary = getDynamicTheme(theme, color).primary\n    AAscore = hex(color, primary)\n  }\n  return color\n}\n\ninterface DynamicThemeProviderProps {\n  color?: string\n  children: ReactNode\n}\n\nexport function DynamicThemeProvider({ color, children }: DynamicThemeProviderProps) {\n  const theme = useTheme()\n  const value = useMemo(() => {\n    if (!color) {\n      return theme\n    }\n\n    const accessibleColor = getAccessibleColor(theme, color)\n    return getDynamicTheme(theme, accessibleColor)\n  }, [theme, color])\n  return (\n    <StyledProvider theme={value}>\n      <div style={{ color: value.primary }}>{children}</div>\n    </StyledProvider>\n  )\n}\n","export enum Layer {\n  UNDERLAYER = -1,\n  OVERLAY = 100,\n  DIALOG = 1000,\n  TOOLTIP = 2000,\n}\n","import { Text, TextProps as TextPropsWithCss } from 'rebass'\nimport styled, { useTheme } from 'styled-components/macro'\n\nimport type { Color } from './styled'\n\ntype TextProps = Omit<TextPropsWithCss, 'css' | 'color' | 'userSelect'> & {\n  color?: Color\n  userSelect?: true\n}\n\nconst TextWrapper = styled(Text)<{ color?: Color; lineHeight: string; noWrap?: true; userSelect?: true }>`\n  color: ${({ color = 'currentColor', theme }) => theme[color as Color]};\n  // Avoid the need for placeholders by setting min-height to line-height.\n  min-height: ${({ lineHeight }) => lineHeight};\n  // user-select is set to 'none' at the root element (Widget), but is desired for displayed data.\n  // user-select must be configured through styled-components for cross-browser compat (eg to auto-generate prefixed properties).\n  user-select: ${({ userSelect }) => userSelect && 'text'};\n  white-space: ${({ noWrap }) => noWrap && 'nowrap'};\n`\n\nconst TransitionTextWrapper = styled(TextWrapper)`\n  transition: font-size 0.25s ease-out, line-height 0.25s ease-out;\n`\n\nexport function H1(props: TextProps) {\n  return (\n    <TextWrapper className=\"headline headline-1\" fontSize={36} fontWeight={400} lineHeight=\"36px\" noWrap {...props} />\n  )\n}\n\nexport function H2(props: TextProps) {\n  return (\n    <TextWrapper className=\"headline headline-2\" fontSize={32} fontWeight={400} lineHeight=\"32px\" noWrap {...props} />\n  )\n}\n\nexport function H3(props: TextProps) {\n  return (\n    <TextWrapper className=\"headline headline-3\" fontSize={20} fontWeight={400} lineHeight=\"20px\" noWrap {...props} />\n  )\n}\n\nexport function Subhead1(props: TextProps) {\n  return (\n    <TextWrapper className=\"subhead subhead-1\" fontSize={16} fontWeight={500} lineHeight=\"16px\" noWrap {...props} />\n  )\n}\n\nexport function Subhead2(props: TextProps) {\n  return (\n    <TextWrapper className=\"subhead subhead-2\" fontSize={14} fontWeight={500} lineHeight=\"14px\" noWrap {...props} />\n  )\n}\n\nexport function Body1(props: TextProps) {\n  return <TextWrapper className=\"body body-1\" fontSize={16} fontWeight={400} lineHeight=\"24px\" {...props} />\n}\n\nexport function Body2(props: TextProps) {\n  return <TextWrapper className=\"body body-2\" fontSize={14} fontWeight={400} lineHeight=\"20px\" {...props} />\n}\n\nexport function Caption(props: TextProps) {\n  return <TextWrapper className=\"caption\" fontSize={12} fontWeight={400} lineHeight=\"16px\" {...props} />\n}\n\nexport function Badge(props: TextProps) {\n  return <TextWrapper className=\"badge\" fontSize=\"8px\" fontWeight={600} lineHeight=\"8px\" noWrap {...props} />\n}\n\nexport function ButtonLarge(props: TextProps) {\n  return (\n    <TextWrapper className=\"button button-large\" fontSize={20} fontWeight={500} lineHeight=\"20px\" noWrap {...props} />\n  )\n}\n\nexport function ButtonMedium(props: TextProps) {\n  return (\n    <TextWrapper className=\"button button-medium\" fontSize={16} fontWeight={500} lineHeight=\"16px\" noWrap {...props} />\n  )\n}\n\nexport function ButtonSmall(props: TextProps) {\n  return (\n    <TextWrapper className=\"button button-small\" fontSize={14} fontWeight={500} lineHeight=\"14px\" noWrap {...props} />\n  )\n}\n\nexport function TransitionButton(props: TextProps & { buttonSize: 'small' | 'medium' | 'large' }) {\n  const className = `button button-${props.buttonSize}`\n  const fontSize = { small: 14, medium: 16, large: 20 }[props.buttonSize]\n  const lineHeight = `${fontSize}px`\n  return (\n    <TransitionTextWrapper\n      className={className}\n      fontSize={fontSize}\n      fontWeight={500}\n      lineHeight={lineHeight}\n      noWrap\n      {...props}\n    />\n  )\n}\n\nexport function Code(props: TextProps) {\n  const { fontFamilyCode } = useTheme()\n  return (\n    <TextWrapper\n      className=\"code\"\n      fontSize={12}\n      fontWeight={400}\n      lineHeight=\"16px\"\n      fontFamily={fontFamilyCode}\n      {...props}\n    />\n  )\n}\n","import 'assets/fonts.scss'\n\nimport { mix, transparentize } from 'polished'\nimport { createContext, ReactNode, useContext, useMemo, useState } from 'react'\nimport { ThemeProvider as StyledProvider } from 'styled-components/macro'\n\nimport type { Colors, ComputedTheme, Theme } from './styled'\n\nexport * from './dynamic'\nexport * from './layer'\nexport type { Color, Colors, Theme } from './styled'\nexport * as ThemedText from './type'\n\nconst white = 'hsl(0, 0%, 100%)'\nconst black = 'hsl(0, 0%, 0%)'\n\nconst brandLight = 'hsl(331.3, 100%, 50%)'\nconst brandDark = 'hsl(215, 79%, 51.4%)'\nexport const brand = brandLight\n\nconst stateColors = {\n  active: 'hsl(215, 79%, 51.4%)',\n  success: 'hsl(145, 63.4%, 41.8%)',\n  warning: 'hsl(43, 89.9%, 53.5%)',\n  error: 'hsl(0, 98%, 62.2%)',\n}\n\nexport const lightTheme: Colors = {\n  // surface\n  accent: brandLight,\n  container: 'hsl(220, 23%, 97.5%)',\n  module: 'hsl(231, 14%, 90%)',\n  interactive: 'hsl(229, 13%, 83%)',\n  outline: 'hsl(225, 7%, 78%)',\n  dialog: white,\n\n  // text\n  onAccent: white,\n  primary: black,\n  secondary: 'hsl(227, 10%, 37.5%)',\n  hint: 'hsl(224, 9%, 57%)',\n  onInteractive: black,\n\n  // state\n  ...stateColors,\n\n  currentColor: 'currentColor',\n}\n\nexport const darkTheme: Colors = {\n  // surface\n  accent: brandDark,\n  container: 'hsl(220, 10.7%, 11%)',\n  module: 'hsl(222, 10.2%, 19.2%)',\n  interactive: 'hsl(224, 10%, 28%)',\n  outline: 'hsl(227, 10%, 37.5%)',\n  dialog: black,\n\n  // text\n  onAccent: white,\n  primary: white,\n  secondary: 'hsl(224, 8.7%, 57.1%)',\n  hint: 'hsl(225, 10%, 47.1%)',\n  onInteractive: white,\n\n  // state\n  ...stateColors,\n\n  currentColor: 'currentColor',\n}\n\nexport const defaultTheme = {\n  borderRadius: 1,\n  fontFamily: {\n    font: '\"Inter\", sans-serif',\n    variable: '\"InterVariable\", sans-serif',\n  },\n  fontFamilyCode: 'IBM Plex Mono',\n  tokenColorExtraction: false,\n  ...lightTheme,\n}\n\nexport function useSystemTheme() {\n  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)')\n  const [systemTheme, setSystemTheme] = useState(prefersDark.matches ? darkTheme : lightTheme)\n  prefersDark.addEventListener('change', (e) => {\n    setSystemTheme(e.matches ? darkTheme : lightTheme)\n  })\n  return systemTheme\n}\n\nconst ThemeContext = createContext<ComputedTheme>(toComputedTheme(defaultTheme))\n\ninterface ThemeProviderProps {\n  theme?: Theme\n  children: ReactNode\n}\n\nexport function ThemeProvider({ theme, children }: ThemeProviderProps) {\n  const contextTheme = useContext(ThemeContext)\n  const value = useMemo(() => {\n    return toComputedTheme({\n      ...contextTheme,\n      ...theme,\n    } as Required<Theme>)\n  }, [contextTheme, theme])\n  return (\n    <ThemeContext.Provider value={value}>\n      <StyledProvider theme={value}>{children}</StyledProvider>\n    </ThemeContext.Provider>\n  )\n}\n\nfunction toComputedTheme(theme: Required<Theme>): ComputedTheme {\n  return {\n    ...theme,\n    borderRadius: clamp(\n      Number.isFinite(theme.borderRadius) ? (theme.borderRadius as number) : theme.borderRadius ? 1 : 0\n    ),\n    onHover: (color: string) =>\n      color === theme.primary ? transparentize(0.4, theme.primary) : mix(0.16, theme.primary, color),\n  }\n\n  function clamp(value: number) {\n    return Math.min(Math.max(value, 0), 1)\n  }\n}\n","import { RefObject } from 'react'\n\nexport function isAnimating(node: Animatable | Document) {\n  return (node.getAnimations().length ?? 0) > 0\n}\n\nexport const UNMOUNTING = 'unmounting'\n\n/**\n * Delays a node's unmounting until any animations on that node are finished, so that an unmounting\n * animation may be applied. If there is no animation, this is a no-op.\n *\n * CSS should target the UNMOUNTING class to determine when to apply an unmounting animation.\n */\nexport function delayUnmountForAnimation(node: RefObject<HTMLElement>) {\n  const current = node.current\n  const parent = current?.parentElement\n  const removeChild = parent?.removeChild\n  if (parent && removeChild) {\n    parent.removeChild = function <T extends Node>(child: T) {\n      if ((child as Node) === current) {\n        current.classList.add(UNMOUNTING)\n        if (isAnimating(current)) {\n          current.addEventListener('animationend', () => {\n            removeChild.call(parent, child)\n          })\n        } else {\n          removeChild.call(parent, child)\n        }\n        return child\n      } else {\n        return removeChild.call(parent, child) as T\n      }\n    }\n  }\n}\n","import { Icon } from 'icons'\nimport { ComponentProps, forwardRef } from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { Color } from 'theme'\n\nexport const BaseButton = styled.button`\n  background-color: transparent;\n  border: none;\n  border-radius: 0.5em;\n  color: currentColor;\n  cursor: pointer;\n  font-size: inherit;\n  font-weight: inherit;\n  height: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n\n  :enabled {\n    transition: filter 0.125s linear;\n  }\n\n  :disabled {\n    cursor: initial;\n    filter: opacity(0.4);\n  }\n`\nconst transitionCss = css`\n  transition: background-color 0.125s linear, border-color 0.125s linear, filter 0.125s linear;\n`\n\nexport default styled(BaseButton)<{ color?: Color; transition?: boolean }>`\n  background-color: ${({ color = 'interactive', theme }) => theme[color]};\n  border: 1px solid transparent;\n  color: ${({ color = 'interactive', theme }) => color === 'interactive' && theme.onInteractive};\n\n  :enabled {\n    ${({ transition = true }) => transition && transitionCss};\n  }\n\n  :enabled:hover {\n    background-color: ${({ color = 'interactive', theme }) => theme.onHover(theme[color])};\n  }\n`\n\nconst transparentButton = (defaultColor: Color) => styled(BaseButton)<{ color?: Color }>`\n  color: ${({ color = defaultColor, theme }) => theme[color]};\n\n  :enabled:hover {\n    color: ${({ color = defaultColor, theme }) => theme.onHover(theme[color])};\n  }\n`\n\nexport const TextButton = transparentButton('accent')\n\nconst SecondaryButton = transparentButton('secondary')\n\ninterface IconButtonProps {\n  icon: Icon\n  iconProps?: ComponentProps<Icon>\n}\n\nexport const IconButton = forwardRef<HTMLButtonElement, IconButtonProps & ComponentProps<typeof BaseButton>>(\n  function IconButton({ icon: Icon, iconProps, ...props }: IconButtonProps & ComponentProps<typeof BaseButton>, ref) {\n    return (\n      <SecondaryButton {...props} ref={ref}>\n        <Icon {...iconProps} />\n      </SecondaryButton>\n    )\n  }\n)\n","import styled, { css } from 'styled-components/macro'\nimport { Color } from 'theme'\n\nconst Column = styled.div<{\n  align?: string\n  color?: Color\n  justify?: string\n  gap?: number\n  padded?: true\n  flex?: true\n  grow?: true\n  css?: ReturnType<typeof css>\n}>`\n  align-items: ${({ align }) => align ?? 'center'};\n  color: ${({ color, theme }) => color && theme[color]};\n  display: ${({ flex }) => (flex ? 'flex' : 'grid')};\n  flex-direction: column;\n  flex-grow: ${({ grow }) => grow && 1};\n  gap: ${({ gap }) => gap && `${gap}em`};\n  grid-auto-flow: row;\n  grid-template-columns: 1fr;\n  justify-content: ${({ justify }) => justify ?? 'space-between'};\n  padding: ${({ padded }) => padded && '0.75em'};\n\n  ${({ css }) => css}\n`\n\nexport default Column\n","import { Children, ReactNode } from 'react'\nimport styled from 'styled-components/macro'\nimport { Color, Theme } from 'theme'\n\nconst Row = styled.div<{\n  color?: Color\n  align?: string\n  justify?: string\n  pad?: number\n  gap?: number\n  flex?: true\n  grow?: true | 'first' | 'last'\n  children?: ReactNode\n  theme: Theme\n}>`\n  align-items: ${({ align }) => align ?? 'center'};\n  color: ${({ color, theme }) => color && theme[color]};\n  display: ${({ flex }) => (flex ? 'flex' : 'grid')};\n  flex-flow: wrap;\n  flex-grow: ${({ grow }) => grow && 1};\n  gap: ${({ gap }) => gap && `${gap}em`};\n  grid-auto-flow: column;\n  grid-template-columns: ${({ grow, children }) => {\n    if (grow === 'first') return '1fr'\n    if (grow === 'last') return `repeat(${Children.count(children) - 1}, auto) 1fr`\n    if (grow) return `repeat(${Children.count(children)}, 1fr)`\n    return undefined\n  }};\n  justify-content: ${({ justify }) => justify ?? 'space-between'};\n  padding: ${({ pad }) => pad && `0 ${pad}em`};\n`\n\nexport default Row\n","import { largeIconCss } from 'icons'\nimport { ReactElement, ReactNode } from 'react'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport Row from './Row'\n\nconst HeaderRow = styled(Row)`\n  height: 1.75em;\n  margin: 0 0.75em 0.75em;\n  padding-top: 0.5em;\n  ${largeIconCss}\n`\n\nexport interface HeaderProps {\n  title?: ReactElement\n  children: ReactNode\n}\n\nexport default function Header({ title, children }: HeaderProps) {\n  return (\n    <HeaderRow iconSize={1.2}>\n      <Row gap={0.5}>{title && <ThemedText.Subhead1>{title}</ThemedText.Subhead1>}</Row>\n      <Row gap={1}>{children}</Row>\n    </HeaderRow>\n  )\n}\n","import styled from 'styled-components/macro'\n\nconst Rule = styled.hr<{ padded?: true; scrollingEdge?: 'top' | 'bottom' }>`\n  border: none;\n  border-bottom: 1px solid ${({ theme }) => theme.outline};\n  margin: 0 ${({ padded }) => (padded ? '0.75em' : 0)};\n  margin-bottom: ${({ scrollingEdge }) => (scrollingEdge === 'bottom' ? -1 : 0)}px;\n  margin-top: ${({ scrollingEdge }) => (scrollingEdge !== 'bottom' ? -1 : 0)}px;\n\n  // Integrators will commonly modify hr width - this overrides any modifications within the widget.\n  max-width: auto;\n  width: auto;\n`\n\nexport default Rule\n","import 'wicg-inert'\n\nimport { X } from 'icons'\nimport { createContext, ReactElement, ReactNode, useContext, useEffect, useRef, useState } from 'react'\nimport { createPortal } from 'react-dom'\nimport styled from 'styled-components/macro'\nimport { Color, Layer, ThemeProvider } from 'theme'\nimport { delayUnmountForAnimation } from 'utils/animations'\n\nimport { IconButton } from './Button'\nimport Column from './Column'\nimport { default as BaseHeader } from './Header'\nimport Rule from './Rule'\n\n// Include inert from wicg-inert\ndeclare global {\n  interface HTMLElement {\n    inert?: boolean\n  }\n}\n\nconst Context = createContext({\n  element: null as HTMLElement | null,\n  active: false,\n  setActive: (active: boolean) => undefined as void,\n})\n\ninterface ProviderProps {\n  value: HTMLElement | null\n  children: ReactNode\n}\n\nexport function Provider({ value, children }: ProviderProps) {\n  // If a Dialog is active, mark the main content inert\n  const ref = useRef<HTMLDivElement>(null)\n  const [active, setActive] = useState(false)\n  const context = { element: value, active, setActive }\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.inert = active\n    }\n  }, [active])\n  return (\n    <div\n      ref={ref}\n      style={{ isolation: 'isolate' }} // creates a new stacking context, preventing the dialog from intercepting non-dialog clicks\n    >\n      <Context.Provider value={context}>{children}</Context.Provider>\n    </div>\n  )\n}\n\nconst OnCloseContext = createContext<() => void>(() => void 0)\n\ninterface HeaderProps {\n  title?: ReactElement\n  ruled?: boolean\n  children?: ReactNode\n}\n\nexport function Header({ title, children, ruled }: HeaderProps) {\n  return (\n    <>\n      <Column>\n        <BaseHeader title={title}>\n          {children}\n          <IconButton color=\"primary\" onClick={useContext(OnCloseContext)} icon={X} />\n        </BaseHeader>\n        {ruled && <Rule padded />}\n      </Column>\n    </>\n  )\n}\n\nexport const Modal = styled.div<{ color: Color }>`\n  background-color: ${({ color, theme }) => theme[color]};\n  border-radius: ${({ theme }) => theme.borderRadius * 0.75}em;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  left: 0;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: ${Layer.DIALOG};\n`\n\ninterface DialogProps {\n  color: Color\n  children: ReactNode\n  onClose?: () => void\n}\n\nexport default function Dialog({ color, children, onClose = () => void 0 }: DialogProps) {\n  const context = useContext(Context)\n  useEffect(() => {\n    context.setActive(true)\n    return () => context.setActive(false)\n  }, [context])\n\n  const modal = useRef<HTMLDivElement>(null)\n  useEffect(() => delayUnmountForAnimation(modal), [])\n\n  useEffect(() => {\n    const close = (e: KeyboardEvent) => e.key === 'Escape' && onClose?.()\n    document.addEventListener('keydown', close, true)\n    return () => document.removeEventListener('keydown', close, true)\n  }, [onClose])\n  return (\n    context.element &&\n    createPortal(\n      <ThemeProvider>\n        <OnCloseContext.Provider value={onClose}>\n          <Modal color={color} ref={modal}>\n            {children}\n          </Modal>\n        </OnCloseContext.Provider>\n      </ThemeProvider>,\n      context.element\n    )\n  )\n}\n","import { Options, Placement } from '@popperjs/core'\nimport maxSize from 'popper-max-size-modifier'\nimport React, { createContext, useContext, useMemo, useRef, useState } from 'react'\nimport { createPortal } from 'react-dom'\nimport { usePopper } from 'react-popper'\nimport styled from 'styled-components/macro'\nimport { Layer } from 'theme'\n\nconst BoundaryContext = createContext<HTMLDivElement | null>(null)\n\nexport const BoundaryProvider = BoundaryContext.Provider\n\nconst PopoverContainer = styled.div<{ show: boolean }>`\n  background-color: ${({ theme }) => theme.dialog};\n  border: 1px solid ${({ theme }) => theme.outline};\n  border-radius: 0.5em;\n  opacity: ${(props) => (props.show ? 1 : 0)};\n  padding: 10px 12px;\n  transition: visibility 0.25s linear, opacity 0.25s linear;\n  visibility: ${(props) => (props.show ? 'visible' : 'hidden')};\n  z-index: ${Layer.TOOLTIP};\n`\n\nconst Reference = styled.div`\n  align-self: flex-start;\n  display: inline-block;\n  height: 1em;\n`\n\nconst Arrow = styled.div`\n  height: 8px;\n  width: 8px;\n  z-index: ${Layer.TOOLTIP};\n\n  ::before {\n    background: ${({ theme }) => theme.dialog};\n    border: 1px solid ${({ theme }) => theme.outline};\n    content: '';\n    height: 8px;\n    position: absolute;\n    transform: rotate(45deg);\n    width: 8px;\n  }\n\n  &.arrow-top {\n    bottom: -4px;\n    ::before {\n      border-radius: 1px;\n      border-left: none;\n      border-top: none;\n    }\n  }\n\n  &.arrow-bottom {\n    top: -5px; // includes -1px from border\n    ::before {\n      border-bottom: none;\n      border-right: none;\n      border-radius: 1px;\n    }\n  }\n\n  &.arrow-left {\n    right: -4px;\n    ::before {\n      border-bottom: none;\n      border-left: none;\n      border-radius: 1px;\n    }\n  }\n\n  &.arrow-right {\n    left: -5px; // includes -1px from border\n    ::before {\n      border-radius: 1px;\n      border-right: none;\n      border-top: none;\n    }\n  }\n`\n\nexport interface PopoverProps {\n  content: React.ReactNode\n  show: boolean\n  children: React.ReactNode\n  placement: Placement\n  offset?: number\n  contained?: true\n}\n\nexport default function Popover({ content, show, children, placement, offset, contained }: PopoverProps) {\n  const boundary = useContext(BoundaryContext)\n  const reference = useRef<HTMLDivElement>(null)\n\n  // Use callback refs to be notified when instantiated\n  const [popover, setPopover] = useState<HTMLDivElement | null>(null)\n  const [arrow, setArrow] = useState<HTMLDivElement | null>(null)\n\n  const options = useMemo((): Options => {\n    const modifiers: Options['modifiers'] = [\n      { name: 'offset', options: { offset: [4, offset || 4] } },\n      { name: 'arrow', options: { element: arrow, padding: 4 } },\n    ]\n    if (contained) {\n      modifiers.push(\n        { name: 'preventOverflow', options: { boundary, padding: 8 } },\n        { name: 'flip', options: { boundary, padding: 8 } },\n        { ...maxSize, options: { boundary, padding: 8 } },\n        {\n          name: 'applyMaxSize',\n          enabled: true,\n          phase: 'beforeWrite',\n          requires: ['maxSize'],\n          fn({ state }) {\n            const { width } = state.modifiersData.maxSize\n            state.styles.popper = {\n              ...state.styles.popper,\n              maxWidth: `${width}px`,\n            }\n          },\n        }\n      )\n    }\n    return {\n      placement,\n      strategy: 'absolute',\n      modifiers,\n    }\n  }, [offset, arrow, contained, placement, boundary])\n\n  const { styles, attributes } = usePopper(reference.current, popover, options)\n\n  return (\n    <>\n      <Reference ref={reference}>{children}</Reference>\n      {boundary &&\n        createPortal(\n          <PopoverContainer show={show} ref={setPopover} style={styles.popper} {...attributes.popper}>\n            {content}\n            <Arrow\n              className={`arrow-${attributes.popper?.['data-popper-placement'] ?? ''}`}\n              ref={setArrow}\n              style={styles.arrow}\n              {...attributes.arrow}\n            />\n          </PopoverContainer>,\n          boundary\n        )}\n    </>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport { Wallet as WalletIcon } from 'icons'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport { TextButton } from './Button'\nimport Row from './Row'\n\ninterface WalletProps {\n  disabled?: boolean\n  onClick?: () => void\n}\n\nconst WalletButton = styled(TextButton)<{ hidden?: boolean }>`\n  filter: none;\n  visibility: ${({ hidden }) => hidden && 'hidden'};\n`\n\nexport default function Wallet({ disabled, onClick }: WalletProps) {\n  return (\n    <WalletButton onClick={onClick} color=\"secondary\" disabled={!onClick} hidden={disabled} data-testid=\"wallet\">\n      <ThemedText.Caption>\n        <Row gap={0.5}>\n          <WalletIcon />\n          <Trans>Connect wallet to swap</Trans>\n        </Row>\n      </ThemedText.Caption>\n    </WalletButton>\n  )\n}\n","import { Currency, CurrencyAmount } from '@uniswap/sdk-core'\nimport { useAtom } from 'jotai'\nimport { useAtomValue, useUpdateAtom } from 'jotai/utils'\nimport { useCallback, useMemo } from 'react'\nimport { pickAtom } from 'state/atoms'\nimport { Field, swapAtom } from 'state/swap'\nimport tryParseCurrencyAmount from 'utils/tryParseCurrencyAmount'\nexport { default as useSwapInfo } from './useSwapInfo'\n\nfunction otherField(field: Field) {\n  switch (field) {\n    case Field.INPUT:\n      return Field.OUTPUT\n      break\n    case Field.OUTPUT:\n      return Field.INPUT\n      break\n  }\n}\n\nexport function useSwitchSwapCurrencies() {\n  const update = useUpdateAtom(swapAtom)\n  return useCallback(() => {\n    update((swap) => {\n      const oldOutput = swap[Field.OUTPUT]\n      swap[Field.OUTPUT] = swap[Field.INPUT]\n      swap[Field.INPUT] = oldOutput\n      switch (swap.independentField) {\n        case Field.INPUT:\n          swap.independentField = Field.OUTPUT\n          break\n        case Field.OUTPUT:\n          swap.independentField = Field.INPUT\n          break\n      }\n    })\n  }, [update])\n}\n\nexport function useSwapCurrency(field: Field): [Currency | undefined, (currency?: Currency) => void] {\n  const atom = useMemo(() => pickAtom(swapAtom, field), [field])\n  const otherAtom = useMemo(() => pickAtom(swapAtom, otherField(field)), [field])\n  const [currency, setCurrency] = useAtom(atom)\n  const otherCurrency = useAtomValue(otherAtom)\n  const switchSwapCurrencies = useSwitchSwapCurrencies()\n  const setOrSwitchCurrency = useCallback(\n    (currency?: Currency) => {\n      if (currency === otherCurrency) {\n        switchSwapCurrencies()\n      } else {\n        setCurrency(currency)\n      }\n    },\n    [otherCurrency, setCurrency, switchSwapCurrencies]\n  )\n  return [currency, setOrSwitchCurrency]\n}\n\nconst independentFieldAtom = pickAtom(swapAtom, 'independentField')\n\nexport function useIsSwapFieldIndependent(field: Field): boolean {\n  const independentField = useAtomValue(independentFieldAtom)\n  return independentField === field\n}\n\nconst amountAtom = pickAtom(swapAtom, 'amount')\n\n// check if any amount has been entered by user\nexport function useIsAmountPopulated() {\n  return Boolean(useAtomValue(amountAtom))\n}\n\nexport function useSwapAmount(field: Field): [string | undefined, (amount: string) => void] {\n  const amount = useAtomValue(amountAtom)\n  const isFieldIndependent = useIsSwapFieldIndependent(field)\n  const value = isFieldIndependent ? amount : undefined\n  const updateSwap = useUpdateAtom(swapAtom)\n  const updateAmount = useCallback(\n    (amount: string) =>\n      updateSwap((swap) => {\n        swap.independentField = field\n        swap.amount = amount\n      }),\n    [field, updateSwap]\n  )\n  return [value, updateAmount]\n}\n\nexport function useSwapCurrencyAmount(field: Field): CurrencyAmount<Currency> | undefined {\n  const isFieldIndependent = useIsSwapFieldIndependent(field)\n  const isAmountPopulated = useIsAmountPopulated()\n  const [swapAmount] = useSwapAmount(field)\n  const [swapCurrency] = useSwapCurrency(field)\n  const currencyAmount = useMemo(() => tryParseCurrencyAmount(swapAmount, swapCurrency), [swapAmount, swapCurrency])\n  if (isFieldIndependent && isAmountPopulated) {\n    return currencyAmount\n  }\n  return\n}\n","export default \"data:image/png;base64,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\"","export default \"data:image/svg+xml,%3Csvg%20width%3D%221024%22%20height%3D%221024%22%20viewBox%3D%220%200%201024%201024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ccircle%20cx%3D%22512%22%20cy%3D%22512%22%20r%3D%22512%22%20fill%3D%22%238247E5%22%2F%3E%3Cpath%20d%3D%22M681.469%20402.456C669.189%20395.312%20653.224%20395.312%20639.716%20402.456L543.928%20457.228L478.842%20492.949L383.055%20547.721C370.774%20554.865%20354.81%20554.865%20341.301%20547.721L265.162%20504.856C252.882%20497.712%20244.286%20484.614%20244.286%20470.325V385.786C244.286%20371.498%20251.654%20358.4%20265.162%20351.256L340.073%20309.581C352.353%20302.437%20368.318%20302.437%20381.827%20309.581L456.737%20351.256C469.018%20358.4%20477.614%20371.498%20477.614%20385.786V440.558L542.7%20403.646V348.874C542.7%20334.586%20535.332%20321.488%20521.824%20314.344L383.055%20235.758C370.774%20228.614%20354.81%20228.614%20341.301%20235.758L200.076%20314.344C186.567%20321.488%20179.199%20334.586%20179.199%20348.874V507.237C179.199%20521.525%20186.567%20534.623%20200.076%20541.767L341.301%20620.353C353.582%20627.498%20369.546%20627.498%20383.055%20620.353L478.842%20566.772L543.928%20529.86L639.716%20476.279C651.996%20469.135%20667.961%20469.135%20681.469%20476.279L756.38%20517.953C768.66%20525.098%20777.257%20538.195%20777.257%20552.484V637.023C777.257%20651.312%20769.888%20664.409%20756.38%20671.553L681.469%20714.419C669.189%20721.563%20653.224%20721.563%20639.716%20714.419L564.805%20672.744C552.525%20665.6%20543.928%20652.502%20543.928%20638.214V583.442L478.842%20620.353V675.125C478.842%20689.414%20486.21%20702.512%20499.719%20709.656L640.944%20788.242C653.224%20795.386%20669.189%20795.386%20682.697%20788.242L823.922%20709.656C836.203%20702.512%20844.799%20689.414%20844.799%20675.125V516.763C844.799%20502.474%20837.431%20489.377%20823.922%20482.232L681.469%20402.456Z%22%20fill%3D%22white%22%2F%3E%3C%2Fsvg%3E\"","import { useSingleCallResult } from 'hooks/multicall'\nimport { useMemo } from 'react'\nimport isZero from 'utils/isZero'\nimport { safeNamehash } from 'utils/safeNamehash'\n\nimport { useENSRegistrarContract, useENSResolverContract } from './useContract'\n\n/**\n * Does a lookup for an ENS name to find its contenthash.\n */\nexport default function useENSContentHash(ensName?: string | null): { loading: boolean; contenthash: string | null } {\n  const ensNodeArgument = useMemo(() => [ensName === null ? undefined : safeNamehash(ensName)], [ensName])\n  const registrarContract = useENSRegistrarContract(false)\n  const resolverAddressResult = useSingleCallResult(registrarContract, 'resolver', ensNodeArgument)\n  const resolverAddress = resolverAddressResult.result?.[0]\n  const resolverContract = useENSResolverContract(\n    resolverAddress && isZero(resolverAddress) ? undefined : resolverAddress,\n    false\n  )\n  const contenthash = useSingleCallResult(resolverContract, 'contenthash', ensNodeArgument)\n\n  return useMemo(\n    () => ({\n      contenthash: contenthash.result?.[0] ?? null,\n      loading: resolverAddressResult.loading || contenthash.loading,\n    }),\n    [contenthash.loading, contenthash.result, resolverAddressResult.loading]\n  )\n}\n","import { useMemo } from 'react'\nimport contenthashToUri from 'utils/contenthashToUri'\nimport parseENSAddress from 'utils/parseENSAddress'\nimport uriToHttp from 'utils/uriToHttp'\n\nimport useENSContentHash from './useENSContentHash'\n\nexport default function useHttpLocations(uri: string | undefined): string[] {\n  const ens = useMemo(() => (uri ? parseENSAddress(uri) : undefined), [uri])\n  const resolvedContentHash = useENSContentHash(ens?.ensName)\n  return useMemo(() => {\n    if (ens) {\n      return resolvedContentHash.contenthash ? uriToHttp(contenthashToUri(resolvedContentHash.contenthash)) : []\n    } else {\n      return uri ? uriToHttp(uri) : []\n    }\n  }, [ens, resolvedContentHash.contenthash, uri])\n}\n","import { Currency } from '@uniswap/sdk-core'\nimport EthereumLogo from 'assets/images/ethereum-logo.png'\nimport MaticLogo from 'assets/svg/matic-token-icon.svg'\nimport { SupportedChainId } from 'constants/chains'\nimport useHttpLocations from 'hooks/useHttpLocations'\nimport { useMemo } from 'react'\nimport { WrappedTokenInfo } from 'state/lists/wrappedTokenInfo'\n\ntype Network = 'ethereum' | 'arbitrum' | 'optimism'\n\nfunction chainIdToNetworkName(networkId: SupportedChainId): Network {\n  switch (networkId) {\n    case SupportedChainId.MAINNET:\n      return 'ethereum'\n    case SupportedChainId.ARBITRUM_ONE:\n      return 'arbitrum'\n    case SupportedChainId.OPTIMISM:\n      return 'optimism'\n    default:\n      return 'ethereum'\n  }\n}\n\nfunction getNativeLogoURI(chainId: SupportedChainId = SupportedChainId.MAINNET): string {\n  switch (chainId) {\n    case SupportedChainId.POLYGON_MUMBAI:\n    case SupportedChainId.POLYGON:\n      return MaticLogo\n    default:\n      return EthereumLogo\n  }\n}\n\nfunction getTokenLogoURI(address: string, chainId: SupportedChainId = SupportedChainId.MAINNET): string | void {\n  const networkName = chainIdToNetworkName(chainId)\n  const networksWithUrls = [SupportedChainId.ARBITRUM_ONE, SupportedChainId.MAINNET, SupportedChainId.OPTIMISM]\n  if (networksWithUrls.includes(chainId)) {\n    return `https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/${networkName}/assets/${address}/logo.png`\n  }\n}\n\nexport default function useCurrencyLogoURIs(currency?: Currency | null): string[] {\n  const locations = useHttpLocations(currency instanceof WrappedTokenInfo ? currency.logoURI : undefined)\n  return useMemo(() => {\n    const logoURIs = [...locations]\n    if (currency) {\n      if (currency.isNative) {\n        logoURIs.push(getNativeLogoURI(currency.chainId))\n      } else if (currency.isToken) {\n        const logoURI = getTokenLogoURI(currency.address, currency.chainId)\n        if (logoURI) {\n          logoURIs.push(logoURI)\n        }\n      }\n    }\n    return logoURIs\n  }, [currency, locations])\n}\n","import { Currency } from '@uniswap/sdk-core'\nimport Vibrant from 'node-vibrant/lib/bundle.js'\nimport { useEffect, useState } from 'react'\nimport { useTheme } from 'styled-components/macro'\n\nimport useCurrencyLogoURIs from './useCurrencyLogoURIs'\n\nconst colors = new Map<string, string | undefined>()\n\n/**\n * Extracts the prominent color from a token.\n * NB: If cached, this function returns synchronously; using a callback allows sync or async returns.\n */\nasync function getColorFromLogoURIs(logoURIs: string[], cb: (color: string | undefined) => void = () => void 0) {\n  const key = logoURIs[0]\n  let color = colors.get(key)\n\n  if (!color) {\n    for (const logoURI of logoURIs) {\n      let uri = logoURI\n      if (logoURI.startsWith('http')) {\n        // Color extraction must use a CORS-compatible resource, but the resource may already be cached.\n        // Adds a dummy parameter to force a different browser resource cache entry. Without this, color extraction prevents resource caching.\n        uri += '?color'\n      }\n\n      color = await getColorFromUriPath(uri)\n      if (color) break\n    }\n  }\n\n  colors.set(key, color)\n  return cb(color)\n}\n\nasync function getColorFromUriPath(uri: string): Promise<string | undefined> {\n  try {\n    const palette = await Vibrant.from(uri).getPalette()\n    return palette.Vibrant?.hex\n  } catch {}\n  return\n}\n\nexport function usePrefetchCurrencyColor(token?: Currency) {\n  const theme = useTheme()\n  const logoURIs = useCurrencyLogoURIs(token)\n\n  useEffect(() => {\n    if (theme.tokenColorExtraction && token) {\n      getColorFromLogoURIs(logoURIs)\n    }\n  }, [token, logoURIs, theme.tokenColorExtraction])\n}\n\nexport default function useCurrencyColor(token?: Currency) {\n  const [color, setColor] = useState<string | undefined>(undefined)\n  const theme = useTheme()\n  const logoURIs = useCurrencyLogoURIs(token)\n\n  useEffect(() => {\n    let stale = false\n\n    if (theme.tokenColorExtraction && token) {\n      getColorFromLogoURIs(logoURIs, (color) => {\n        if (!stale && color) {\n          setColor(color)\n        }\n      })\n    }\n\n    return () => {\n      stale = true\n      setColor(undefined)\n    }\n  }, [token, logoURIs, theme.tokenColorExtraction])\n\n  return color\n}\n","export const SUPPORTED_LOCALES = [\n  // order as they appear in the language dropdown\n  'en-US',\n  'af-ZA',\n  'ar-SA',\n  'ca-ES',\n  'cs-CZ',\n  'da-DK',\n  'de-DE',\n  'el-GR',\n  'es-ES',\n  'fi-FI',\n  'fr-FR',\n  'he-IL',\n  'hu-HU',\n  'id-ID',\n  'it-IT',\n  'ja-JP',\n  'ko-KR',\n  'nl-NL',\n  'no-NO',\n  'pl-PL',\n  'pt-BR',\n  'pt-PT',\n  'ro-RO',\n  'ru-RU',\n  'sr-SP',\n  'sv-SE',\n  'sw-TZ',\n  'tr-TR',\n  'uk-UA',\n  'vi-VN',\n  'zh-CN',\n  'zh-TW',\n]\nexport type SupportedLocale = typeof SUPPORTED_LOCALES[number] | 'pseudo'\n\nexport const DEFAULT_LOCALE: SupportedLocale = 'en-US'\n\nexport const LOCALE_LABEL: { [locale in SupportedLocale]: string } = {\n  'af-ZA': 'Afrikaans',\n  'ar-SA': '',\n  'ca-ES': 'Catal',\n  'cs-CZ': 'etina',\n  'da-DK': 'dansk',\n  'de-DE': 'Deutsch',\n  'el-GR': '',\n  'en-US': 'English',\n  'es-ES': 'Espaol',\n  'fi-FI': 'suomi',\n  'fr-FR': 'franais',\n  'he-IL': '',\n  'hu-HU': 'Magyar',\n  'id-ID': 'bahasa Indonesia',\n  'it-IT': 'Italiano',\n  'ja-JP': '',\n  'ko-KR': '',\n  'nl-NL': 'Nederlands',\n  'no-NO': 'norsk',\n  'pl-PL': 'Polskie',\n  'pt-BR': 'portugus',\n  'pt-PT': 'portugus',\n  'ro-RO': 'Romn',\n  'ru-RU': '',\n  'sr-SP': '',\n  'sv-SE': 'svenska',\n  'sw-TZ': 'Kiswahili',\n  'tr-TR': 'Trke',\n  'uk-UA': '',\n  'vi-VN': 'Ting Vit',\n  'zh-CN': '',\n  'zh-TW': '',\n  pseudo: '',\n}\n","import { Currency, CurrencyAmount, Price } from '@uniswap/sdk-core'\nimport { DEFAULT_LOCALE, SUPPORTED_LOCALES } from 'constants/locales'\n\ninterface FormatLocaleNumberArgs {\n  number: CurrencyAmount<Currency> | Price<Currency, Currency> | number\n  locale: string | null | undefined\n  options?: Intl.NumberFormatOptions\n  sigFigs?: number\n  fixedDecimals?: number\n}\n\nexport default function formatLocaleNumber({\n  number,\n  locale,\n  sigFigs,\n  fixedDecimals,\n  options = {},\n}: FormatLocaleNumberArgs): string {\n  let localeArg: string | string[]\n  if (!locale || (locale && !SUPPORTED_LOCALES.includes(locale))) {\n    localeArg = DEFAULT_LOCALE\n  } else {\n    localeArg = [locale, DEFAULT_LOCALE]\n  }\n  options.minimumFractionDigits = options.minimumFractionDigits || fixedDecimals\n  options.maximumFractionDigits = options.maximumFractionDigits || fixedDecimals\n\n  // Fixed decimals should override significant figures.\n  options.maximumSignificantDigits = options.maximumSignificantDigits || fixedDecimals ? undefined : sigFigs\n\n  let numberString: number\n  if (typeof number === 'number') {\n    numberString = fixedDecimals ? parseFloat(number.toFixed(fixedDecimals)) : number\n  } else {\n    const baseString = parseFloat(number.toSignificant(sigFigs))\n    numberString = fixedDecimals ? parseFloat(baseString.toFixed(fixedDecimals)) : baseString\n  }\n\n  return numberString.toLocaleString(localeArg, options)\n}\n","import { Currency, CurrencyAmount, Fraction, Price } from '@uniswap/sdk-core'\nimport { DEFAULT_LOCALE, SupportedLocale } from 'constants/locales'\nimport JSBI from 'jsbi'\nimport formatLocaleNumber from 'utils/formatLocaleNumber'\n\nexport function formatCurrencyAmount(\n  amount: CurrencyAmount<Currency> | undefined,\n  sigFigs: number,\n  locale: SupportedLocale = DEFAULT_LOCALE,\n  fixedDecimals?: number\n): string {\n  if (!amount) {\n    return '-'\n  }\n\n  if (JSBI.equal(amount.quotient, JSBI.BigInt(0))) {\n    return '0'\n  }\n\n  if (amount.divide(amount.decimalScale).lessThan(new Fraction(1, 100000))) {\n    return `<${formatLocaleNumber({ number: 0.00001, locale, sigFigs, fixedDecimals })}`\n  }\n\n  return formatLocaleNumber({ number: amount, locale, sigFigs, fixedDecimals })\n}\n\nexport function formatPrice(\n  price: Price<Currency, Currency> | undefined,\n  sigFigs: number,\n  locale: SupportedLocale = DEFAULT_LOCALE\n): string {\n  if (!price) {\n    return '-'\n  }\n\n  if (parseFloat(price.toFixed(sigFigs)) < 0.0001) {\n    return `<${formatLocaleNumber({ number: 0.00001, locale })}`\n  }\n\n  return formatLocaleNumber({ number: price, locale, sigFigs })\n}\n","import { Currency, CurrencyAmount } from '@uniswap/sdk-core'\nimport JSBI from 'jsbi'\n\nconst MIN_NATIVE_CURRENCY_FOR_GAS: JSBI = JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(16)) // .01 ETH\n/**\n * Given some token amount, return the max that can be spent of it\n * @param currencyAmount to return max of\n */\nexport function maxAmountSpend(currencyAmount?: CurrencyAmount<Currency>): CurrencyAmount<Currency> | undefined {\n  if (!currencyAmount) return undefined\n  if (currencyAmount.currency.isNative) {\n    if (JSBI.greaterThan(currencyAmount.quotient, MIN_NATIVE_CURRENCY_FOR_GAS)) {\n      return CurrencyAmount.fromRawAmount(\n        currencyAmount.currency,\n        JSBI.subtract(currencyAmount.quotient, MIN_NATIVE_CURRENCY_FOR_GAS)\n      )\n    } else {\n      return CurrencyAmount.fromRawAmount(currencyAmount.currency, JSBI.BigInt(0))\n    }\n  }\n  return currencyAmount\n}\n","export default \"data:image/png;base64,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\"","import { Currency } from '@uniswap/sdk-core'\nimport missingTokenSrc from 'assets/missing-token-image.png'\nimport { useToken } from 'hooks/useCurrency'\nimport useCurrencyLogoURIs from 'hooks/useCurrencyLogoURIs'\nimport { useCallback, useMemo, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nconst badSrcs = new Set<string>()\n\nconst MissingTokenImg = styled.img`\n  height: 1em;\n  width: 1em;\n`\n\ninterface BaseProps {\n  token: Currency\n}\n\ntype TokenImgProps = BaseProps & Omit<React.ImgHTMLAttributes<HTMLImageElement>, keyof BaseProps>\n\nfunction TokenImg({ token, ...rest }: TokenImgProps) {\n  // Use the wrapped token info so that it includes the logoURI.\n  const tokenInfo = useToken(token.isToken ? token.wrapped.address : undefined) ?? token\n  const srcs = useCurrencyLogoURIs(tokenInfo)\n  const alt = tokenInfo.name || tokenInfo.symbol\n\n  const [attempt, setAttempt] = useState(0)\n  const src = useMemo(() => {\n    // Trigger a re-render when an error occurs.\n    void attempt\n\n    return srcs.find((src) => !badSrcs.has(src))\n  }, [attempt, srcs])\n  const onError = useCallback(\n    (e) => {\n      if (src) badSrcs.add(src)\n      setAttempt((attempt) => ++attempt)\n    },\n    [src]\n  )\n\n  if (!src) return <MissingTokenImg src={missingTokenSrc} alt={alt} color=\"secondary\" {...rest} />\n  return <img src={src} alt={alt} key={alt} onError={onError} {...rest} />\n}\n\nexport default styled(TokenImg)<{ size?: number }>`\n  // radial-gradient calculates distance from the corner, not the edge: divide by sqrt(2)\n  background: radial-gradient(\n    ${({ theme }) => theme.module} calc(100% / ${Math.sqrt(2)} - 1.5px),\n    ${({ theme }) => theme.outline} calc(100% / ${Math.sqrt(2)} - 1.5px)\n  );\n  border-radius: 100%;\n  height: ${({ size }) => size || 1}em;\n  width: ${({ size }) => size || 1}em;\n`\n","import { loadingOpacity } from 'css/loading'\nimport { transparentize } from 'polished'\nimport { ChangeEvent, forwardRef, HTMLProps, useCallback } from 'react'\nimport styled, { css } from 'styled-components/macro'\n\nconst Input = styled.input`\n  -webkit-appearance: textfield;\n  background-color: transparent;\n  border: none;\n  color: currentColor;\n  font-family: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n  line-height: inherit;\n  margin: 0;\n  outline: none;\n  overflow: hidden;\n  padding: 0;\n  text-align: left;\n  text-overflow: ellipsis;\n  width: 100%;\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    color: ${({ theme }) => theme.secondary};\n  }\n\n  :enabled {\n    transition: color 0.125s linear;\n  }\n\n  :disabled {\n    // Overrides WebKit's override of input:disabled color.\n    -webkit-text-fill-color: ${({ theme }) => transparentize(1 - loadingOpacity, theme.primary)};\n    color: ${({ theme }) => transparentize(1 - loadingOpacity, theme.primary)};\n  }\n`\n\nexport default Input\n\ninterface InputProps extends Omit<HTMLProps<HTMLInputElement>, 'onChange' | 'as' | 'value'> {\n  value: string\n  onChange: (input: string) => void\n  placeholder?: string\n}\n\nexport const StringInput = forwardRef<HTMLInputElement, InputProps>(function StringInput(\n  { value, onChange, ...props }: InputProps,\n  ref\n) {\n  return (\n    <Input\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      // universal input options\n      inputMode=\"text\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      // text-specific options\n      type=\"text\"\n      placeholder={props.placeholder || '-'}\n      minLength={1}\n      spellCheck=\"false\"\n      ref={ref as any}\n      {...props}\n    />\n  )\n})\n\ninterface EnforcedInputProps extends InputProps {\n  // Validates nextUserInput; returns stringified value, or null if invalid\n  enforcer: (nextUserInput: string) => string | null\n  pattern: string\n}\n\nconst NumericInput = forwardRef<HTMLInputElement, EnforcedInputProps>(function NumericInput(\n  { value, onChange, enforcer, pattern, ...props }: EnforcedInputProps,\n  ref\n) {\n  const validateChange = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      const nextInput = enforcer(event.target.value.replace(/,/g, '.'))?.replace(/^0+$/, '0')\n      if (nextInput !== undefined) {\n        onChange(nextInput)\n      }\n    },\n    [enforcer, onChange]\n  )\n\n  return (\n    <Input\n      value={value}\n      onChange={validateChange}\n      // universal input options\n      inputMode=\"decimal\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      // text-specific options\n      type=\"text\"\n      pattern={pattern}\n      placeholder={props.placeholder || '0'}\n      minLength={1}\n      maxLength={79}\n      spellCheck=\"false\"\n      ref={ref as any}\n      {...props}\n    />\n  )\n})\n\nconst integerRegexp = /^\\d*$/\nconst integerEnforcer = (nextUserInput: string) => {\n  if (nextUserInput === '' || integerRegexp.test(nextUserInput)) {\n    const nextInput = parseInt(nextUserInput)\n    return isNaN(nextInput) ? '' : nextInput.toString()\n  }\n  return null\n}\nexport const IntegerInput = forwardRef(function IntegerInput(props: InputProps, ref) {\n  return <NumericInput pattern=\"^[0-9]*$\" enforcer={integerEnforcer} ref={ref as any} {...props} />\n})\n\nconst decimalRegexp = /^\\d*(?:[.])?\\d*$/\nconst decimalEnforcer = (nextUserInput: string) => {\n  if (nextUserInput === '') {\n    return ''\n  } else if (nextUserInput === '.') {\n    return '0.'\n  } else if (decimalRegexp.test(nextUserInput)) {\n    return nextUserInput\n  }\n  return null\n}\nexport const DecimalInput = forwardRef(function DecimalInput(props: InputProps, ref) {\n  return <NumericInput pattern=\"^[0-9]*[.,]?[0-9]*$\" enforcer={decimalEnforcer} ref={ref as any} {...props} />\n})\n\nexport const inputCss = css`\n  background-color: ${({ theme }) => theme.container};\n  border: 1px solid ${({ theme }) => theme.container};\n  border-radius: ${({ theme }) => theme.borderRadius}em;\n  cursor: text;\n  padding: calc(0.5em - 1px);\n\n  :hover:not(:focus-within) {\n    background-color: ${({ theme }) => theme.onHover(theme.container)};\n    border-color: ${({ theme }) => theme.onHover(theme.container)};\n  }\n\n  :focus-within {\n    border-color: ${({ theme }) => theme.active};\n  }\n`\n","/*\n * Generated by PEG.js 0.10.0.\n *\n * http://pegjs.org/\n */\n\n\"use strict\";\n\nfunction peg$subclass(child, parent) {\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message  = message;\n  this.expected = expected;\n  this.found    = found;\n  this.location = location;\n  this.name     = \"SyntaxError\";\n\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n        literal: function(expectation) {\n          return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n        },\n\n        \"class\": function(expectation) {\n          var escapedParts = \"\",\n              i;\n\n          for (i = 0; i < expectation.parts.length; i++) {\n            escapedParts += expectation.parts[i] instanceof Array\n              ? classEscape(expectation.parts[i][0]) + \"-\" + classEscape(expectation.parts[i][1])\n              : classEscape(expectation.parts[i]);\n          }\n\n          return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n        },\n\n        any: function(expectation) {\n          return \"any character\";\n        },\n\n        end: function(expectation) {\n          return \"end of input\";\n        },\n\n        other: function(expectation) {\n          return expectation.description;\n        }\n      };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\"/g,  '\\\\\"')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\\]/g, '\\\\]')\n      .replace(/\\^/g, '\\\\^')\n      .replace(/-/g,  '\\\\-')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = new Array(expected.length),\n        i, j;\n\n    for (i = 0; i < expected.length; i++) {\n      descriptions[i] = describeExpectation(expected[i]);\n    }\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== void 0 ? options : {};\n\n  var peg$FAILED = {},\n\n      peg$startRuleFunctions = { start: peg$parsestart },\n      peg$startRuleFunction  = peg$parsestart,\n\n      peg$c0 = \"#\",\n      peg$c1 = peg$literalExpectation(\"#\", false),\n      peg$c2 = function() { return inPlural[0]; },\n      peg$c3 = function() { return { type: 'octothorpe' }; },\n      peg$c4 = function(str) { return str.join(''); },\n      peg$c5 = \"{\",\n      peg$c6 = peg$literalExpectation(\"{\", false),\n      peg$c7 = \"}\",\n      peg$c8 = peg$literalExpectation(\"}\", false),\n      peg$c9 = function(arg) {\n          return {\n            type: 'argument',\n            arg: arg\n          };\n        },\n      peg$c10 = \",\",\n      peg$c11 = peg$literalExpectation(\",\", false),\n      peg$c12 = \"select\",\n      peg$c13 = peg$literalExpectation(\"select\", false),\n      peg$c14 = function(arg, m) { if (options.strict) { inPlural.unshift(false); } return m; },\n      peg$c15 = function(arg, cases) {\n          if (options.strict) inPlural.shift()\n          return {\n            type: 'select',\n            arg: arg,\n            cases: cases\n          };\n        },\n      peg$c16 = \"plural\",\n      peg$c17 = peg$literalExpectation(\"plural\", false),\n      peg$c18 = \"selectordinal\",\n      peg$c19 = peg$literalExpectation(\"selectordinal\", false),\n      peg$c20 = function(arg, m) { inPlural.unshift(true); return m; },\n      peg$c21 = function(arg, type, offset, cases) {\n          var ls = ((type === 'selectordinal') ? options.ordinal : options.cardinal)\n                   || ['zero', 'one', 'two', 'few', 'many', 'other'];\n          if (ls && ls.length) cases.forEach(function(c) {\n            if (isNaN(c.key) && ls.indexOf(c.key) < 0) throw new Error(\n              'Invalid key `' + c.key + '` for argument `' + arg + '`.' +\n              ' Valid ' + type + ' keys for this locale are `' + ls.join('`, `') +\n              '`, and explicit keys like `=0`.');\n          });\n          inPlural.shift()\n          return {\n            type: type,\n            arg: arg,\n            offset: offset || 0,\n            cases: cases\n          };\n        },\n      peg$c22 = function(arg, key, param) {\n          return {\n            type: 'function',\n            arg: arg,\n            key: key,\n            param: param\n          };\n        },\n      peg$c23 = peg$otherExpectation(\"identifier\"),\n      peg$c24 = /^[^\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029!-\\/:-@[-\\^`{-~\\xA1-\\xA7\\xA9\\xAB\\xAC\\xAE\\xB0\\xB1\\xB6\\xBB\\xBF\\xD7\\xF7\\u2010-\\u2027\\u2030-\\u203E\\u2041-\\u2053\\u2055-\\u205E\\u2190-\\u245F\\u2500-\\u2775\\u2794-\\u2BFF\\u2E00-\\u2E7F\\u3001-\\u3003\\u3008-\\u3020\\u3030\\uFD3E\\uFD3F\\uFE45\\uFE46]/,\n      peg$c25 = peg$classExpectation([[\"\\t\", \"\\r\"], \" \", \"\\x85\", \"\\u200E\", \"\\u200F\", \"\\u2028\", \"\\u2029\", [\"!\", \"/\"], [\":\", \"@\"], [\"[\", \"^\"], \"`\", [\"{\", \"~\"], [\"\\xA1\", \"\\xA7\"], \"\\xA9\", \"\\xAB\", \"\\xAC\", \"\\xAE\", \"\\xB0\", \"\\xB1\", \"\\xB6\", \"\\xBB\", \"\\xBF\", \"\\xD7\", \"\\xF7\", [\"\\u2010\", \"\\u2027\"], [\"\\u2030\", \"\\u203E\"], [\"\\u2041\", \"\\u2053\"], [\"\\u2055\", \"\\u205E\"], [\"\\u2190\", \"\\u245F\"], [\"\\u2500\", \"\\u2775\"], [\"\\u2794\", \"\\u2BFF\"], [\"\\u2E00\", \"\\u2E7F\"], [\"\\u3001\", \"\\u3003\"], [\"\\u3008\", \"\\u3020\"], \"\\u3030\", \"\\uFD3E\", \"\\uFD3F\", \"\\uFE45\", \"\\uFE46\"], true, false),\n      peg$c26 = function(key, tokens) { return { key: key, tokens: tokens }; },\n      peg$c27 = function(tokens) { return tokens; },\n      peg$c28 = peg$otherExpectation(\"plural offset\"),\n      peg$c29 = \"offset\",\n      peg$c30 = peg$literalExpectation(\"offset\", false),\n      peg$c31 = \":\",\n      peg$c32 = peg$literalExpectation(\":\", false),\n      peg$c33 = function(d) { return d; },\n      peg$c34 = \"=\",\n      peg$c35 = peg$literalExpectation(\"=\", false),\n      peg$c36 = \"number\",\n      peg$c37 = peg$literalExpectation(\"number\", false),\n      peg$c38 = \"date\",\n      peg$c39 = peg$literalExpectation(\"date\", false),\n      peg$c40 = \"time\",\n      peg$c41 = peg$literalExpectation(\"time\", false),\n      peg$c42 = \"spellout\",\n      peg$c43 = peg$literalExpectation(\"spellout\", false),\n      peg$c44 = \"ordinal\",\n      peg$c45 = peg$literalExpectation(\"ordinal\", false),\n      peg$c46 = \"duration\",\n      peg$c47 = peg$literalExpectation(\"duration\", false),\n      peg$c48 = function(key) {\n            if (options.strict || /^\\d/.test(key)) return false\n            switch (key.toLowerCase()) {\n              case 'select':\n              case 'plural':\n              case 'selectordinal':\n                return false\n              default:\n                return true\n            }\n          },\n      peg$c49 = function(key) { return key },\n      peg$c50 = function(tokens) { return !options.strict },\n      peg$c51 = function(tokens) { return { tokens: tokens } },\n      peg$c52 = function(parts) { return { tokens: [parts.join('')] } },\n      peg$c53 = peg$otherExpectation(\"a valid (strict) function parameter\"),\n      peg$c54 = /^[^'{}]/,\n      peg$c55 = peg$classExpectation([\"'\", \"{\", \"}\"], true, false),\n      peg$c56 = function(p) { return p.join('') },\n      peg$c57 = \"'\",\n      peg$c58 = peg$literalExpectation(\"'\", false),\n      peg$c59 = function(quoted) { return quoted },\n      peg$c60 = function(p) { return '{' + p.join('') + '}' },\n      peg$c61 = peg$otherExpectation(\"doubled apostrophe\"),\n      peg$c62 = \"''\",\n      peg$c63 = peg$literalExpectation(\"''\", false),\n      peg$c64 = function() { return \"'\"; },\n      peg$c65 = /^[^']/,\n      peg$c66 = peg$classExpectation([\"'\"], true, false),\n      peg$c67 = \"'{\",\n      peg$c68 = peg$literalExpectation(\"'{\", false),\n      peg$c69 = function(str) { return '\\u007B'+str.join(''); },\n      peg$c70 = \"'}\",\n      peg$c71 = peg$literalExpectation(\"'}\", false),\n      peg$c72 = function(str) { return '\\u007D'+str.join(''); },\n      peg$c73 = peg$otherExpectation(\"escaped string\"),\n      peg$c74 = \"'#\",\n      peg$c75 = peg$literalExpectation(\"'#\", false),\n      peg$c76 = function(str) { return \"#\"+str.join(''); },\n      peg$c77 = function(quotedOcto) { return quotedOcto[0]; },\n      peg$c78 = peg$otherExpectation(\"plain char\"),\n      peg$c79 = /^[^{}#\\0-\\x08\\x0E-\\x1F\\x7F]/,\n      peg$c80 = peg$classExpectation([\"{\", \"}\", \"#\", [\"\\0\", \"\\b\"], [\"\\x0E\", \"\\x1F\"], \"\\x7F\"], true, false),\n      peg$c81 = function(octo) { return !inPlural[0]; },\n      peg$c82 = function(octo) { return octo; },\n      peg$c83 = peg$otherExpectation(\"integer\"),\n      peg$c84 = /^[0-9]/,\n      peg$c85 = peg$classExpectation([[\"0\", \"9\"]], false, false),\n      peg$c86 = peg$otherExpectation(\"white space\"),\n      peg$c87 = /^[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/,\n      peg$c88 = peg$classExpectation([[\"\\t\", \"\\r\"], \" \", \"\\x85\", \"\\u200E\", \"\\u200F\", \"\\u2028\", \"\\u2029\"], false, false),\n\n      peg$currPos          = 0,\n      peg$savedPos         = 0,\n      peg$posDetailsCache  = [{ line: 1, column: 1 }],\n      peg$maxFailPos       = 0,\n      peg$maxFailExpected  = [],\n      peg$silentFails      = 0,\n\n      peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos], p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line:   details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos),\n        endPosDetails   = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line:   startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line:   endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parsestart() {\n    var s0, s1;\n\n    s0 = [];\n    s1 = peg$parsetoken();\n    while (s1 !== peg$FAILED) {\n      s0.push(s1);\n      s1 = peg$parsetoken();\n    }\n\n    return s0;\n  }\n\n  function peg$parsetoken() {\n    var s0, s1, s2;\n\n    s0 = peg$parseargument();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseselect();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseplural();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsefunction();\n          if (s0 === peg$FAILED) {\n            s0 = peg$currPos;\n            if (input.charCodeAt(peg$currPos) === 35) {\n              s1 = peg$c0;\n              peg$currPos++;\n            } else {\n              s1 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c1); }\n            }\n            if (s1 !== peg$FAILED) {\n              peg$savedPos = peg$currPos;\n              s2 = peg$c2();\n              if (s2) {\n                s2 = void 0;\n              } else {\n                s2 = peg$FAILED;\n              }\n              if (s2 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c3();\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n            if (s0 === peg$FAILED) {\n              s0 = peg$currPos;\n              s1 = [];\n              s2 = peg$parsechar();\n              if (s2 !== peg$FAILED) {\n                while (s2 !== peg$FAILED) {\n                  s1.push(s2);\n                  s2 = peg$parsechar();\n                }\n              } else {\n                s1 = peg$FAILED;\n              }\n              if (s1 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c4(s1);\n              }\n              s0 = s1;\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseargument() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 123) {\n      s1 = peg$c5;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c6); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseid();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 125) {\n              s5 = peg$c7;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c8); }\n            }\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c9(s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseselect() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 123) {\n      s1 = peg$c5;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c6); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseid();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s5 = peg$c10;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c11); }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$currPos;\n                if (input.substr(peg$currPos, 6) === peg$c12) {\n                  s8 = peg$c12;\n                  peg$currPos += 6;\n                } else {\n                  s8 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c13); }\n                }\n                if (s8 !== peg$FAILED) {\n                  peg$savedPos = s7;\n                  s8 = peg$c14(s3, s8);\n                }\n                s7 = s8;\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parse_();\n                  if (s8 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 44) {\n                      s9 = peg$c10;\n                      peg$currPos++;\n                    } else {\n                      s9 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c11); }\n                    }\n                    if (s9 !== peg$FAILED) {\n                      s10 = peg$parse_();\n                      if (s10 !== peg$FAILED) {\n                        s11 = [];\n                        s12 = peg$parseselectCase();\n                        if (s12 !== peg$FAILED) {\n                          while (s12 !== peg$FAILED) {\n                            s11.push(s12);\n                            s12 = peg$parseselectCase();\n                          }\n                        } else {\n                          s11 = peg$FAILED;\n                        }\n                        if (s11 !== peg$FAILED) {\n                          s12 = peg$parse_();\n                          if (s12 !== peg$FAILED) {\n                            if (input.charCodeAt(peg$currPos) === 125) {\n                              s13 = peg$c7;\n                              peg$currPos++;\n                            } else {\n                              s13 = peg$FAILED;\n                              if (peg$silentFails === 0) { peg$fail(peg$c8); }\n                            }\n                            if (s13 !== peg$FAILED) {\n                              peg$savedPos = s0;\n                              s1 = peg$c15(s3, s11);\n                              s0 = s1;\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseplural() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 123) {\n      s1 = peg$c5;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c6); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseid();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s5 = peg$c10;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c11); }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$currPos;\n                if (input.substr(peg$currPos, 6) === peg$c16) {\n                  s8 = peg$c16;\n                  peg$currPos += 6;\n                } else {\n                  s8 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c17); }\n                }\n                if (s8 === peg$FAILED) {\n                  if (input.substr(peg$currPos, 13) === peg$c18) {\n                    s8 = peg$c18;\n                    peg$currPos += 13;\n                  } else {\n                    s8 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c19); }\n                  }\n                }\n                if (s8 !== peg$FAILED) {\n                  peg$savedPos = s7;\n                  s8 = peg$c20(s3, s8);\n                }\n                s7 = s8;\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parse_();\n                  if (s8 !== peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 44) {\n                      s9 = peg$c10;\n                      peg$currPos++;\n                    } else {\n                      s9 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c11); }\n                    }\n                    if (s9 !== peg$FAILED) {\n                      s10 = peg$parse_();\n                      if (s10 !== peg$FAILED) {\n                        s11 = peg$parseoffset();\n                        if (s11 === peg$FAILED) {\n                          s11 = null;\n                        }\n                        if (s11 !== peg$FAILED) {\n                          s12 = [];\n                          s13 = peg$parsepluralCase();\n                          if (s13 !== peg$FAILED) {\n                            while (s13 !== peg$FAILED) {\n                              s12.push(s13);\n                              s13 = peg$parsepluralCase();\n                            }\n                          } else {\n                            s12 = peg$FAILED;\n                          }\n                          if (s12 !== peg$FAILED) {\n                            s13 = peg$parse_();\n                            if (s13 !== peg$FAILED) {\n                              if (input.charCodeAt(peg$currPos) === 125) {\n                                s14 = peg$c7;\n                                peg$currPos++;\n                              } else {\n                                s14 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$c8); }\n                              }\n                              if (s14 !== peg$FAILED) {\n                                peg$savedPos = s0;\n                                s1 = peg$c21(s3, s7, s11, s12);\n                                s0 = s1;\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsefunction() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 123) {\n      s1 = peg$c5;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c6); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseid();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 44) {\n              s5 = peg$c10;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c11); }\n            }\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parse_();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parsefunctionKey();\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parse_();\n                  if (s8 !== peg$FAILED) {\n                    s9 = peg$parsefunctionParam();\n                    if (s9 === peg$FAILED) {\n                      s9 = null;\n                    }\n                    if (s9 !== peg$FAILED) {\n                      if (input.charCodeAt(peg$currPos) === 125) {\n                        s10 = peg$c7;\n                        peg$currPos++;\n                      } else {\n                        s10 = peg$FAILED;\n                        if (peg$silentFails === 0) { peg$fail(peg$c8); }\n                      }\n                      if (s10 !== peg$FAILED) {\n                        peg$savedPos = s0;\n                        s1 = peg$c22(s3, s7, s9);\n                        s0 = s1;\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseid() {\n    var s0, s1, s2;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c24.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c25); }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (peg$c24.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c25); }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s0 = input.substring(s0, peg$currPos);\n    } else {\n      s0 = s1;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c23); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseselectCase() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseid();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsecaseTokens();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c26(s2, s4);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsepluralCase() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsepluralKey();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsecaseTokens();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c26(s2, s4);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecaseTokens() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 123) {\n      s1 = peg$c5;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c6); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$currPos;\n      s3 = peg$parse_();\n      if (s3 !== peg$FAILED) {\n        s4 = peg$currPos;\n        peg$silentFails++;\n        if (input.charCodeAt(peg$currPos) === 123) {\n          s5 = peg$c5;\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n        }\n        peg$silentFails--;\n        if (s5 !== peg$FAILED) {\n          peg$currPos = s4;\n          s4 = void 0;\n        } else {\n          s4 = peg$FAILED;\n        }\n        if (s4 !== peg$FAILED) {\n          s3 = [s3, s4];\n          s2 = s3;\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s2;\n        s2 = peg$FAILED;\n      }\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$parsetoken();\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$parsetoken();\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 125) {\n              s5 = peg$c7;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c8); }\n            }\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c27(s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseoffset() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      if (input.substr(peg$currPos, 6) === peg$c29) {\n        s2 = peg$c29;\n        peg$currPos += 6;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c30); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 58) {\n            s4 = peg$c31;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c32); }\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parse_();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parsedigits();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parse_();\n                if (s7 !== peg$FAILED) {\n                  peg$savedPos = s0;\n                  s1 = peg$c33(s6);\n                  s0 = s1;\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c28); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsepluralKey() {\n    var s0, s1, s2;\n\n    s0 = peg$parseid();\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 61) {\n        s1 = peg$c34;\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c35); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parsedigits();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c33(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefunctionKey() {\n    var s0, s1, s2, s3, s4, s5;\n\n    if (input.substr(peg$currPos, 6) === peg$c36) {\n      s0 = peg$c36;\n      peg$currPos += 6;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c37); }\n    }\n    if (s0 === peg$FAILED) {\n      if (input.substr(peg$currPos, 4) === peg$c38) {\n        s0 = peg$c38;\n        peg$currPos += 4;\n      } else {\n        s0 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c39); }\n      }\n      if (s0 === peg$FAILED) {\n        if (input.substr(peg$currPos, 4) === peg$c40) {\n          s0 = peg$c40;\n          peg$currPos += 4;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c41); }\n        }\n        if (s0 === peg$FAILED) {\n          if (input.substr(peg$currPos, 8) === peg$c42) {\n            s0 = peg$c42;\n            peg$currPos += 8;\n          } else {\n            s0 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c43); }\n          }\n          if (s0 === peg$FAILED) {\n            if (input.substr(peg$currPos, 7) === peg$c44) {\n              s0 = peg$c44;\n              peg$currPos += 7;\n            } else {\n              s0 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c45); }\n            }\n            if (s0 === peg$FAILED) {\n              if (input.substr(peg$currPos, 8) === peg$c46) {\n                s0 = peg$c46;\n                peg$currPos += 8;\n              } else {\n                s0 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c47); }\n              }\n              if (s0 === peg$FAILED) {\n                s0 = peg$currPos;\n                s1 = peg$currPos;\n                peg$silentFails++;\n                if (input.substr(peg$currPos, 6) === peg$c12) {\n                  s2 = peg$c12;\n                  peg$currPos += 6;\n                } else {\n                  s2 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c13); }\n                }\n                peg$silentFails--;\n                if (s2 === peg$FAILED) {\n                  s1 = void 0;\n                } else {\n                  peg$currPos = s1;\n                  s1 = peg$FAILED;\n                }\n                if (s1 !== peg$FAILED) {\n                  s2 = peg$currPos;\n                  peg$silentFails++;\n                  if (input.substr(peg$currPos, 6) === peg$c16) {\n                    s3 = peg$c16;\n                    peg$currPos += 6;\n                  } else {\n                    s3 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c17); }\n                  }\n                  peg$silentFails--;\n                  if (s3 === peg$FAILED) {\n                    s2 = void 0;\n                  } else {\n                    peg$currPos = s2;\n                    s2 = peg$FAILED;\n                  }\n                  if (s2 !== peg$FAILED) {\n                    s3 = peg$currPos;\n                    peg$silentFails++;\n                    if (input.substr(peg$currPos, 13) === peg$c18) {\n                      s4 = peg$c18;\n                      peg$currPos += 13;\n                    } else {\n                      s4 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c19); }\n                    }\n                    peg$silentFails--;\n                    if (s4 === peg$FAILED) {\n                      s3 = void 0;\n                    } else {\n                      peg$currPos = s3;\n                      s3 = peg$FAILED;\n                    }\n                    if (s3 !== peg$FAILED) {\n                      s4 = peg$parseid();\n                      if (s4 !== peg$FAILED) {\n                        peg$savedPos = peg$currPos;\n                        s5 = peg$c48(s4);\n                        if (s5) {\n                          s5 = void 0;\n                        } else {\n                          s5 = peg$FAILED;\n                        }\n                        if (s5 !== peg$FAILED) {\n                          peg$savedPos = s0;\n                          s1 = peg$c49(s4);\n                          s0 = s1;\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefunctionParam() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 44) {\n        s2 = peg$c10;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c11); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$parsetoken();\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$parsetoken();\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = peg$currPos;\n          s4 = peg$c50(s3);\n          if (s4) {\n            s4 = void 0;\n          } else {\n            s4 = peg$FAILED;\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c51(s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parse_();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 44) {\n          s2 = peg$c10;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c11); }\n        }\n        if (s2 !== peg$FAILED) {\n          s3 = [];\n          s4 = peg$parsestrictFunctionParamPart();\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parsestrictFunctionParamPart();\n          }\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c52(s3);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsestrictFunctionParamPart() {\n    var s0, s1, s2, s3;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c54.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c55); }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (peg$c54.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c55); }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c56(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsedoubleapos();\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 39) {\n          s1 = peg$c57;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c58); }\n        }\n        if (s1 !== peg$FAILED) {\n          s2 = peg$parseinapos();\n          if (s2 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 39) {\n              s3 = peg$c57;\n              peg$currPos++;\n            } else {\n              s3 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c58); }\n            }\n            if (s3 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c59(s2);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 123) {\n            s1 = peg$c5;\n            peg$currPos++;\n          } else {\n            s1 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c6); }\n          }\n          if (s1 !== peg$FAILED) {\n            s2 = [];\n            s3 = peg$parsestrictFunctionParamPart();\n            while (s3 !== peg$FAILED) {\n              s2.push(s3);\n              s3 = peg$parsestrictFunctionParamPart();\n            }\n            if (s2 !== peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 125) {\n                s3 = peg$c7;\n                peg$currPos++;\n              } else {\n                s3 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c8); }\n              }\n              if (s3 !== peg$FAILED) {\n                peg$savedPos = s0;\n                s1 = peg$c60(s2);\n                s0 = s1;\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        }\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c53); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedoubleapos() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 2) === peg$c62) {\n      s1 = peg$c62;\n      peg$currPos += 2;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c63); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c64();\n    }\n    s0 = s1;\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c61); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseinapos() {\n    var s0, s1, s2;\n\n    s0 = peg$parsedoubleapos();\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = [];\n      if (peg$c65.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c66); }\n      }\n      if (s2 !== peg$FAILED) {\n        while (s2 !== peg$FAILED) {\n          s1.push(s2);\n          if (peg$c65.test(input.charAt(peg$currPos))) {\n            s2 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c66); }\n          }\n        }\n      } else {\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c4(s1);\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsequotedCurly() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 2) === peg$c67) {\n      s1 = peg$c67;\n      peg$currPos += 2;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c68); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parseinapos();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parseinapos();\n      }\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 39) {\n          s3 = peg$c57;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c58); }\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c69(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 2) === peg$c70) {\n        s1 = peg$c70;\n        peg$currPos += 2;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c71); }\n      }\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parseinapos();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseinapos();\n        }\n        if (s2 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 39) {\n            s3 = peg$c57;\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c58); }\n          }\n          if (s3 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c72(s2);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsequoted() {\n    var s0, s1, s2, s3, s4, s5;\n\n    peg$silentFails++;\n    s0 = peg$parsequotedCurly();\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$currPos;\n      if (input.substr(peg$currPos, 2) === peg$c74) {\n        s3 = peg$c74;\n        peg$currPos += 2;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c75); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parseinapos();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parseinapos();\n        }\n        if (s4 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 39) {\n            s5 = peg$c57;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c58); }\n          }\n          if (s5 !== peg$FAILED) {\n            peg$savedPos = s2;\n            s3 = peg$c76(s4);\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s2;\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = peg$currPos;\n        s3 = peg$c2();\n        if (s3) {\n          s3 = void 0;\n        } else {\n          s3 = peg$FAILED;\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c77(s1);\n      }\n      s0 = s1;\n      if (s0 === peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 39) {\n          s0 = peg$c57;\n          peg$currPos++;\n        } else {\n          s0 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c58); }\n        }\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c73); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseplainChar() {\n    var s0, s1;\n\n    peg$silentFails++;\n    if (peg$c79.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c80); }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c78); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsechar() {\n    var s0, s1, s2;\n\n    s0 = peg$parsedoubleapos();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsequoted();\n      if (s0 === peg$FAILED) {\n        s0 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 35) {\n          s1 = peg$c0;\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c1); }\n        }\n        if (s1 !== peg$FAILED) {\n          peg$savedPos = peg$currPos;\n          s2 = peg$c81(s1);\n          if (s2) {\n            s2 = void 0;\n          } else {\n            s2 = peg$FAILED;\n          }\n          if (s2 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c82(s1);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseplainChar();\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigits() {\n    var s0, s1, s2;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c84.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c85); }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (peg$c84.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c85); }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s0 = input.substring(s0, peg$currPos);\n    } else {\n      s0 = s1;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c83); }\n    }\n\n    return s0;\n  }\n\n  function peg$parse_() {\n    var s0, s1, s2;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c87.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c88); }\n    }\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      if (peg$c87.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c88); }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      s0 = input.substring(s0, peg$currPos);\n    } else {\n      s0 = s1;\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c86); }\n    }\n\n    return s0;\n  }\n\n\n    var inPlural = [false];\n\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nmodule.exports = {\n  SyntaxError: peg$SyntaxError,\n  parse:       peg$parse\n};\n","import {\n    i18n as i18nProd,\n    setupI18n as setupI18nProd,\n    formats as formatsProd,\n    I18n as I18nProd\n} from './core.production.min';\n\nimport {\n    i18n as i18nDev,\n    setupI18n as setupI18nDev,\n    formats as formatsDev,\n    I18n as I18nDev\n} from './core.development';\n\nexport const i18n = process.env.NODE_ENV === 'production' ? i18nProd : i18nDev;\nexport const setupI18n = process.env.NODE_ENV === 'production' ? setupI18nProd : setupI18nDev;\nexport const formats = process.env.NODE_ENV === 'production' ? formatsProd : formatsDev;\nexport const I18n = process.env.NODE_ENV === 'production' ? I18nProd : I18nDev;","import { Trans } from '@lingui/macro'\nimport { HelpCircle } from 'icons'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport Column from '../Column'\n\nconst HelpCircleIcon = styled(HelpCircle)`\n  height: 4em;\n  margin-bottom: 0.75em;\n  stroke: ${({ theme }) => theme.secondary};\n  width: 4em;\n`\n\nconst StyledColumn = styled(Column)`\n  display: flex;\n  height: 80%;\n  text-align: center;\n  width: 100%;\n`\n\nexport default function NoTokensAvailableOnNetwork() {\n  return (\n    <StyledColumn align=\"center\" justify=\"center\">\n      <HelpCircleIcon />\n      <ThemedText.Body1 color=\"primary\">\n        <Trans>No tokens are available on this network. Please switch to another network.</Trans>\n      </ThemedText.Body1>\n    </StyledColumn>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport { Currency } from '@uniswap/sdk-core'\nimport { ChevronDown } from 'icons'\nimport { useEffect, useMemo, useState } from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport Button from '../Button'\nimport Row from '../Row'\nimport TokenImg from '../TokenImg'\n\nconst transitionCss = css`\n  transition: background-color 0.125s linear, border-color 0.125s linear, filter 0.125s linear, width 0.125s ease-out;\n`\n\nconst StyledTokenButton = styled(Button)`\n  border-radius: ${({ theme }) => theme.borderRadius}em;\n  padding: 0.25em;\n\n  :enabled {\n    ${({ transition }) => transition && transitionCss};\n  }\n`\n\nconst TokenButtonRow = styled(Row)<{ empty: boolean; collapsed: boolean }>`\n  float: right;\n  height: 1.2em;\n  // max-width must have an absolute value in order to transition.\n  max-width: ${({ collapsed }) => (collapsed ? '1.2em' : '12em')};\n  padding-left: ${({ empty }) => empty && 0.5}em;\n  width: fit-content;\n  overflow: hidden;\n  transition: max-width 0.25s linear;\n\n  img {\n    min-width: 1.2em;\n  }\n`\n\ninterface TokenButtonProps {\n  value?: Currency\n  collapsed: boolean\n  disabled?: boolean\n  onClick: () => void\n}\n\nexport default function TokenButton({ value, collapsed, disabled, onClick }: TokenButtonProps) {\n  const buttonBackgroundColor = useMemo(() => (value ? 'interactive' : 'accent'), [value])\n  const contentColor = useMemo(() => (value || disabled ? 'onInteractive' : 'onAccent'), [value, disabled])\n\n  // Transition the button only if transitioning from a disabled state.\n  // This makes initialization cleaner without adding distracting UX to normal swap flows.\n  const [shouldTransition, setShouldTransition] = useState(disabled)\n  useEffect(() => {\n    if (disabled) {\n      setShouldTransition(true)\n    }\n  }, [disabled])\n\n  // width must have an absolute value in order to transition, so it is taken from the row ref.\n  const [row, setRow] = useState<HTMLDivElement | null>(null)\n  const style = useMemo(() => {\n    if (!shouldTransition) return\n    return { width: row ? row.clientWidth + /* padding= */ 8 + /* border= */ 2 : undefined }\n  }, [row, shouldTransition])\n\n  return (\n    <StyledTokenButton\n      onClick={onClick}\n      color={buttonBackgroundColor}\n      disabled={disabled}\n      style={style}\n      transition={shouldTransition}\n      onTransitionEnd={() => setShouldTransition(false)}\n    >\n      <ThemedText.ButtonLarge color={contentColor}>\n        <TokenButtonRow\n          gap={0.4}\n          empty={!value}\n          collapsed={collapsed}\n          // ref is used to set an absolute width, so it must be reset for each value passed.\n          // To force this, value?.symbol is passed as a key.\n          ref={setRow}\n          key={value?.symbol}\n        >\n          {value ? (\n            <>\n              <TokenImg token={value} size={1.2} />\n              {value.symbol}\n            </>\n          ) : (\n            <Trans>Select a token</Trans>\n          )}\n          <ChevronDown color={contentColor} strokeWidth={3} />\n        </TokenButtonRow>\n      </ThemedText.ButtonLarge>\n    </StyledTokenButton>\n  )\n}\n","import { useEffect } from 'react'\n\nexport default function useNativeEvent<K extends keyof HTMLElementEventMap>(\n  element: HTMLElement | null,\n  type: K,\n  listener: (this: HTMLElement, ev: HTMLElementEventMap[K]) => any,\n  options?: boolean | AddEventListenerOptions | undefined\n) {\n  useEffect(() => {\n    element?.addEventListener(type, listener, options)\n    return () => element?.removeEventListener(type, listener, options)\n  }, [element, type, listener, options])\n}\n","import { useMemo } from 'react'\nimport { css } from 'styled-components/macro'\n\nconst overflowCss = css`\n  overflow-y: scroll;\n`\n\n/** Customizes the scrollbar for vertical overflow. */\nconst scrollbarCss = (padded: boolean) => css`\n  overflow-y: scroll;\n\n  ::-webkit-scrollbar {\n    width: 1.25em;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: radial-gradient(\n        closest-corner at 0.25em 0.25em,\n        ${({ theme }) => theme.interactive} 0.25em,\n        transparent 0.25em\n      ),\n      linear-gradient(\n        to bottom,\n        #ffffff00 0.25em,\n        ${({ theme }) => theme.interactive} 0.25em,\n        ${({ theme }) => theme.interactive} calc(100% - 0.25em),\n        #ffffff00 calc(100% - 0.25em)\n      ),\n      radial-gradient(\n        closest-corner at 0.25em calc(100% - 0.25em),\n        ${({ theme }) => theme.interactive} 0.25em,\n        #ffffff00 0.25em\n      );\n    background-clip: padding-box;\n    border: none;\n    ${padded ? 'border-right' : 'border-left'}: 0.75em solid transparent;\n  }\n\n  @supports not selector(::-webkit-scrollbar-thumb) {\n    scrollbar-color: ${({ theme }) => theme.interactive} transparent;\n  }\n`\n\ninterface ScrollbarOptions {\n  padded?: boolean\n}\n\nexport default function useScrollbar(element: HTMLElement | null, { padded = false }: ScrollbarOptions = {}) {\n  return useMemo(\n    // NB: The css must be applied on an element's first render. WebKit will not re-apply overflow\n    // properties until any transitions have ended, so waiting a frame for state would cause jank.\n    () => (hasOverflow(element) ? scrollbarCss(padded) : overflowCss),\n    [element, padded]\n  )\n\n  function hasOverflow(element: HTMLElement | null) {\n    if (!element) return true\n    return element.scrollHeight > element.clientHeight\n  }\n}\n","import { Currency } from '@uniswap/sdk-core'\n\nexport function currencyId(currency: Currency): string {\n  if (currency.isNative) return 'ETH'\n  if (currency.isToken) return currency.address\n  throw new Error('invalid currency')\n}\n","import { useLingui } from '@lingui/react'\nimport { Currency } from '@uniswap/sdk-core'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useCurrencyBalance from 'hooks/useCurrencyBalance'\nimport useNativeEvent from 'hooks/useNativeEvent'\nimport useScrollbar from 'hooks/useScrollbar'\nimport {\n  ComponentClass,\n  CSSProperties,\n  forwardRef,\n  KeyboardEvent,\n  memo,\n  SyntheticEvent,\n  useCallback,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nimport { areEqual, FixedSizeList, FixedSizeListProps } from 'react-window'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\nimport { currencyId } from 'utils/currencyId'\nimport { formatCurrencyAmount } from 'utils/formatCurrencyAmount'\n\nimport { BaseButton } from '../Button'\nimport Column from '../Column'\nimport Row from '../Row'\nimport TokenImg from '../TokenImg'\n\nconst TokenButton = styled(BaseButton)`\n  border-radius: 0;\n  outline: none;\n  padding: 0.5em 0.75em;\n`\n\nconst ITEM_SIZE = 56\ntype ItemData = Currency[]\ninterface FixedSizeTokenList extends FixedSizeList<ItemData>, ComponentClass<FixedSizeListProps<ItemData>> {}\nconst TokenList = styled(FixedSizeList as unknown as FixedSizeTokenList)<{\n  hover: number\n  scrollbar?: ReturnType<typeof useScrollbar>\n}>`\n  ${TokenButton}[data-index='${({ hover }) => hover}'] {\n    background-color: ${({ theme }) => theme.onHover(theme.module)};\n  }\n\n  ${({ scrollbar }) => scrollbar}\n  overscroll-behavior: none; // prevent Firefox's bouncy overscroll effect (because it does not trigger the scroll handler)\n`\nconst OnHover = styled.div<{ hover: number }>`\n  background-color: ${({ theme }) => theme.onHover(theme.module)};\n  height: ${ITEM_SIZE}px;\n  left: 0;\n  position: absolute;\n  top: ${({ hover }) => hover * ITEM_SIZE}px;\n  width: 100%;\n`\n\ninterface TokenOptionProps {\n  index: number\n  value: Currency\n  style: CSSProperties\n}\n\ninterface BubbledEvent extends SyntheticEvent {\n  index?: number\n  token?: Currency\n  ref?: HTMLButtonElement\n}\n\nconst TokenBalance = styled.div<{ isLoading: boolean }>`\n  background-color: ${({ theme, isLoading }) => isLoading && theme.secondary};\n  border-radius: 0.25em;\n  padding: 0.375em 0;\n`\n\nfunction TokenOption({ index, value, style }: TokenOptionProps) {\n  const { i18n } = useLingui()\n  const ref = useRef<HTMLButtonElement>(null)\n  // Annotate the event to be handled later instead of passing in handlers to avoid rerenders.\n  // This prevents token logos from reloading and flashing on the screen.\n  const onEvent = (e: BubbledEvent) => {\n    e.index = index\n    e.token = value\n    e.ref = ref.current ?? undefined\n  }\n\n  const { account } = useActiveWeb3React()\n  const balance = useCurrencyBalance(account, value)\n\n  return (\n    <TokenButton\n      data-index={index}\n      style={style}\n      onClick={onEvent}\n      onBlur={onEvent}\n      onFocus={onEvent}\n      onMouseMove={onEvent}\n      onKeyDown={onEvent}\n      ref={ref}\n    >\n      <ThemedText.Body1>\n        <Row>\n          <Row gap={0.5}>\n            <TokenImg token={value} size={1.5} />\n            <Column flex gap={0.125} align=\"flex-start\">\n              <ThemedText.Subhead1>{value.symbol}</ThemedText.Subhead1>\n              <ThemedText.Caption color=\"secondary\">{value.name}</ThemedText.Caption>\n            </Column>\n          </Row>\n          <TokenBalance isLoading={Boolean(account) && !balance}>\n            {balance?.greaterThan(0) && formatCurrencyAmount(balance, 2, i18n.locale)}\n          </TokenBalance>\n        </Row>\n      </ThemedText.Body1>\n    </TokenButton>\n  )\n}\n\nconst itemKey = (index: number, tokens: ItemData) => currencyId(tokens[index])\nconst ItemRow = memo(function ItemRow({\n  data: tokens,\n  index,\n  style,\n}: {\n  data: ItemData\n  index: number\n  style: CSSProperties\n}) {\n  return <TokenOption index={index} value={tokens[index]} style={style} />\n},\nareEqual)\n\ninterface TokenOptionsHandle {\n  onKeyDown: (e: KeyboardEvent) => void\n  blur: () => void\n}\n\ninterface TokenOptionsProps {\n  tokens: Currency[]\n  onSelect: (token: Currency) => void\n}\n\nconst TokenOptions = forwardRef<TokenOptionsHandle, TokenOptionsProps>(function TokenOptions(\n  { tokens, onSelect }: TokenOptionsProps,\n  ref\n) {\n  const [focused, setFocused] = useState(false)\n  const [selected, setSelected] = useState<Currency>()\n  const hover = useMemo(() => (selected ? tokens.indexOf(selected) : -1), [selected, tokens])\n\n  const list = useRef<FixedSizeList>(null)\n  const [element, setElement] = useState<HTMLElement | null>(null)\n\n  const scrollTo = useCallback(\n    (index: number | undefined, scroll = true) => {\n      if (index === undefined) return\n      if (scroll) {\n        list.current?.scrollToItem(index)\n      }\n      if (focused) {\n        element?.querySelector<HTMLElement>(`[data-index='${index}']`)?.focus()\n      }\n      setSelected(tokens[index])\n    },\n    [element, focused, tokens]\n  )\n\n  const onKeyDown = useCallback(\n    (e: KeyboardEvent) => {\n      if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\n        if (e.key === 'ArrowDown' && hover < tokens.length - 1) {\n          scrollTo(hover + 1)\n        } else if (e.key === 'ArrowUp' && hover > 0) {\n          scrollTo(hover - 1)\n        } else if (e.key === 'ArrowUp' && hover === -1) {\n          scrollTo(tokens.length - 1)\n        }\n        e.preventDefault()\n      }\n      if (e.key === 'Enter' && hover !== -1) {\n        onSelect(tokens[hover])\n      }\n    },\n    [hover, onSelect, scrollTo, tokens]\n  )\n  const blur = useCallback(() => setSelected(undefined), [])\n  useImperativeHandle(ref, () => ({ onKeyDown, blur }), [blur, onKeyDown])\n\n  const onClick = useCallback(({ token }: BubbledEvent) => token && onSelect(token), [onSelect])\n  const onFocus = useCallback(\n    ({ index }: BubbledEvent) => {\n      setFocused(true)\n      scrollTo(index)\n    },\n    [scrollTo]\n  )\n  const onBlur = useCallback(() => setFocused(false), [])\n  const onMouseMove = useCallback(({ index }: BubbledEvent) => scrollTo(index, false), [scrollTo])\n\n  const scrollbar = useScrollbar(element, { padded: true })\n  const onHover = useRef<HTMLDivElement>(null)\n  // use native onscroll handler to capture Safari's bouncy overscroll effect\n  useNativeEvent(\n    element,\n    'scroll',\n    useCallback(() => {\n      if (element && onHover.current) {\n        // must be set synchronously to avoid jank (avoiding useState)\n        onHover.current.style.marginTop = `${-element.scrollTop}px`\n      }\n    }, [element])\n  )\n\n  return (\n    <Column\n      align=\"unset\"\n      grow\n      onKeyDown={onKeyDown}\n      onClick={onClick}\n      onBlur={onBlur}\n      onFocus={onFocus}\n      onMouseMove={onMouseMove}\n      style={{ overflow: 'hidden' }}\n    >\n      {/* OnHover is a workaround to Safari's incorrect (overflow: overlay) implementation */}\n      <OnHover hover={hover} ref={onHover} />\n      <AutoSizer disableWidth>\n        {({ height }) => (\n          <TokenList\n            hover={hover}\n            height={height}\n            width=\"100%\"\n            itemCount={tokens.length}\n            itemData={tokens}\n            itemKey={itemKey}\n            itemSize={ITEM_SIZE}\n            className=\"scrollbar\"\n            ref={list}\n            outerRef={setElement}\n            scrollbar={scrollbar}\n          >\n            {ItemRow}\n          </TokenList>\n        )}\n      </AutoSizer>\n    </Column>\n  )\n})\n\nexport default TokenOptions\n","import styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport Column from '../Column'\nimport Row from '../Row'\n\nconst Img = styled.div`\n  clip-path: circle(50%);\n  height: 1.5em;\n  width: 1.5em;\n`\nconst Symbol = styled.div`\n  height: 0.75em;\n  width: 7em;\n`\nconst Name = styled.div`\n  height: 0.5em;\n  width: 5.5em;\n`\nconst Balance = styled.div`\n  padding: 0.375em 0;\n  width: 1.5em;\n`\nconst TokenRow = styled.div`\n  outline: none;\n  padding: 0.6875em 0.75em;\n\n  ${Img}, ${Symbol}, ${Name}, ${Balance} {\n    background-color: ${({ theme }) => theme.secondary};\n    border-radius: 0.25em;\n  }\n`\n\nfunction TokenOption() {\n  return (\n    <TokenRow>\n      <ThemedText.Body1>\n        <Row>\n          <Row gap={0.5}>\n            <Img />\n            <Column flex gap={0.125} align=\"flex-start\" justify=\"flex-center\">\n              <ThemedText.Subhead1 style={{ display: 'flex' }}>\n                <Symbol />\n              </ThemedText.Subhead1>\n              <ThemedText.Caption style={{ display: 'flex' }}>\n                <Name />\n              </ThemedText.Caption>\n            </Column>\n          </Row>\n          <Balance />\n        </Row>\n      </ThemedText.Body1>\n    </TokenRow>\n  )\n}\n\nexport default function TokenOptionsSkeleton() {\n  return (\n    <Column>\n      <TokenOption />\n      <TokenOption />\n      <TokenOption />\n      <TokenOption />\n      <TokenOption />\n    </Column>\n  )\n}\n","import { t, Trans } from '@lingui/macro'\nimport { Currency } from '@uniswap/sdk-core'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { useCurrencyBalances } from 'hooks/useCurrencyBalance'\nimport useNativeCurrency from 'hooks/useNativeCurrency'\nimport useTokenList, { useIsTokenListLoaded, useQueryTokens } from 'hooks/useTokenList'\nimport { ElementRef, memo, useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport Column from '../Column'\nimport Dialog, { Header } from '../Dialog'\nimport { inputCss, StringInput } from '../Input'\nimport Row from '../Row'\nimport Rule from '../Rule'\nimport NoTokensAvailableOnNetwork from './NoTokensAvailableOnNetwork'\nimport TokenButton from './TokenButton'\nimport TokenOptions from './TokenOptions'\nimport TokenOptionsSkeleton from './TokenOptionsSkeleton'\n\nconst SearchInput = styled(StringInput)`\n  ${inputCss}\n`\n\nfunction usePrefetchBalances() {\n  const { account } = useActiveWeb3React()\n  const tokenList = useTokenList()\n  const prefetchedTokenList = useRef<typeof tokenList>()\n  useCurrencyBalances(account, tokenList !== prefetchedTokenList.current ? tokenList : undefined)\n  prefetchedTokenList.current = tokenList\n}\n\nfunction useAreBalancesLoaded(): boolean {\n  const { account } = useActiveWeb3React()\n  const tokens = useTokenList()\n  const native = useNativeCurrency()\n  const currencies = useMemo(() => [native, ...tokens], [native, tokens])\n  const balances = useCurrencyBalances(account, currencies).filter(Boolean)\n  return !account || currencies.length === balances.length\n}\n\ninterface TokenSelectDialogProps {\n  value?: Currency\n  onSelect: (token: Currency) => void\n  onClose: () => void\n}\n\nexport function TokenSelectDialog({ value, onSelect, onClose }: TokenSelectDialogProps) {\n  const [query, setQuery] = useState('')\n  const list = useTokenList()\n  const tokens = useQueryTokens(query, list)\n\n  const isTokenListLoaded = useIsTokenListLoaded()\n  const areBalancesLoaded = useAreBalancesLoaded()\n  const [isLoaded, setIsLoaded] = useState(isTokenListLoaded && areBalancesLoaded)\n  // Give the balance-less tokens a small block period to avoid layout thrashing from re-sorting.\n  useEffect(() => {\n    if (!isLoaded) {\n      const timeout = setTimeout(() => setIsLoaded(true), 250)\n      return () => clearTimeout(timeout)\n    }\n    return\n  }, [isLoaded])\n  useEffect(\n    () => setIsLoaded(Boolean(query) || (isTokenListLoaded && areBalancesLoaded)),\n    [query, areBalancesLoaded, isTokenListLoaded]\n  )\n\n  const input = useRef<HTMLInputElement>(null)\n  useEffect(() => input.current?.focus({ preventScroll: true }), [input])\n\n  const [options, setOptions] = useState<ElementRef<typeof TokenOptions> | null>(null)\n  const { chainId } = useActiveWeb3React()\n  const listHasTokens = useMemo(() => list.some((token) => token.chainId === chainId), [chainId, list])\n\n  if (!listHasTokens && isLoaded) {\n    return (\n      <Dialog color=\"module\" onClose={onClose}>\n        <Header title={<Trans>Select a token</Trans>} />\n        <NoTokensAvailableOnNetwork />\n      </Dialog>\n    )\n  }\n  return (\n    <Dialog color=\"module\" onClose={onClose}>\n      <Header title={<Trans>Select a token</Trans>} />\n      <Column gap={0.75}>\n        <Row pad={0.75} grow>\n          <ThemedText.Body1>\n            <SearchInput\n              value={query}\n              onChange={setQuery}\n              placeholder={t`Search by token name or address`}\n              onKeyDown={options?.onKeyDown}\n              onBlur={options?.blur}\n              ref={input}\n            />\n          </ThemedText.Body1>\n        </Row>\n        <Rule padded />\n      </Column>\n      {isLoaded ? (\n        tokens.length ? (\n          <TokenOptions tokens={tokens} onSelect={onSelect} ref={setOptions} />\n        ) : (\n          <Column padded>\n            <Row justify=\"center\">\n              <ThemedText.Body1 color=\"secondary\">\n                <Trans>No results found.</Trans>\n              </ThemedText.Body1>\n            </Row>\n          </Column>\n        )\n      ) : (\n        <TokenOptionsSkeleton />\n      )}\n    </Dialog>\n  )\n}\n\ninterface TokenSelectProps {\n  value?: Currency\n  collapsed: boolean\n  disabled?: boolean\n  onSelect: (value: Currency) => void\n}\n\nexport default memo(function TokenSelect({ value, collapsed, disabled, onSelect }: TokenSelectProps) {\n  usePrefetchBalances()\n\n  const [open, setOpen] = useState(false)\n  const onOpen = useCallback(() => setOpen(true), [])\n  const selectAndClose = useCallback(\n    (value: Currency) => {\n      onSelect(value)\n      setOpen(false)\n    },\n    [onSelect, setOpen]\n  )\n  return (\n    <>\n      <TokenButton value={value} collapsed={collapsed} disabled={disabled} onClick={onOpen} />\n      {open && <TokenSelectDialog value={value} onSelect={selectAndClose} onClose={() => setOpen(false)} />}\n    </>\n  )\n})\n","import 'setimmediate'\n\nimport { Trans } from '@lingui/macro'\nimport { Currency } from '@uniswap/sdk-core'\nimport { loadingTransitionCss } from 'css/loading'\nimport { ReactNode, useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport styled, { keyframes } from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport Button from '../Button'\nimport Column from '../Column'\nimport { DecimalInput } from '../Input'\nimport Row from '../Row'\nimport TokenSelect from '../TokenSelect'\n\nconst TokenInputRow = styled(Row)`\n  grid-template-columns: 1fr;\n`\n\nconst ValueInput = styled(DecimalInput)`\n  color: ${({ theme }) => theme.primary};\n  height: 1.5em;\n  margin: -0.25em 0;\n\n  :hover:not(:focus-within) {\n    color: ${({ theme }) => theme.onHover(theme.primary)};\n  }\n\n  :hover:not(:focus-within)::placeholder {\n    color: ${({ theme }) => theme.onHover(theme.secondary)};\n  }\n\n  ${loadingTransitionCss}\n`\n\nconst delayedFadeIn = keyframes`\n  0% {\n    opacity: 0;\n  }\n  25% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n`\n\nconst MaxButton = styled(Button)`\n  animation: ${delayedFadeIn} 0.25s linear;\n  border-radius: 0.75em;\n  padding: 0.5em;\n`\n\ninterface TokenInputProps {\n  currency?: Currency\n  amount: string\n  max?: string\n  disabled?: boolean\n  onChangeInput: (input: string) => void\n  onChangeCurrency: (currency: Currency) => void\n  loading?: boolean\n  children: ReactNode\n}\n\nexport default function TokenInput({\n  currency,\n  amount,\n  max,\n  disabled,\n  onChangeInput,\n  onChangeCurrency,\n  loading,\n  children,\n}: TokenInputProps) {\n  const input = useRef<HTMLInputElement>(null)\n  const onSelect = useCallback(\n    (currency: Currency) => {\n      onChangeCurrency(currency)\n      setImmediate(() => input.current?.focus())\n    },\n    [onChangeCurrency]\n  )\n\n  const maxButton = useRef<HTMLButtonElement>(null)\n  const hasMax = useMemo(() => Boolean(max && max !== amount), [max, amount])\n  const [showMax, setShowMax] = useState<boolean>(hasMax)\n  useEffect(() => setShowMax((hasMax && input.current?.contains(document.activeElement)) ?? false), [hasMax])\n  const onBlur = useCallback((e) => {\n    // Filters out clicks on input or maxButton, because onBlur fires before onClickMax.\n    if (!input.current?.contains(e.relatedTarget) && !maxButton.current?.contains(e.relatedTarget)) {\n      setShowMax(false)\n    }\n  }, [])\n  const onClickMax = useCallback(() => {\n    onChangeInput(max || '')\n    setShowMax(false)\n    setImmediate(() => {\n      input.current?.focus()\n      // Brings the start of the input into view. NB: This only works for clicks, not eg keyboard interactions.\n      input.current?.setSelectionRange(0, null)\n    })\n  }, [max, onChangeInput])\n\n  return (\n    <Column gap={0.25}>\n      <TokenInputRow gap={0.5} onBlur={onBlur}>\n        <ThemedText.H2>\n          <ValueInput\n            value={amount}\n            onFocus={() => setShowMax(hasMax)}\n            onChange={onChangeInput}\n            disabled={disabled || !currency}\n            isLoading={Boolean(loading)}\n            ref={input}\n          ></ValueInput>\n        </ThemedText.H2>\n        {showMax && (\n          <MaxButton onClick={onClickMax} ref={maxButton}>\n            {/* Without a tab index, Safari would not populate the FocusEvent.relatedTarget needed by onBlur. */}\n            <ThemedText.ButtonMedium tabIndex={-1}>\n              <Trans>Max</Trans>\n            </ThemedText.ButtonMedium>\n          </MaxButton>\n        )}\n        <TokenSelect value={currency} collapsed={showMax} disabled={disabled} onSelect={onSelect} />\n      </TokenInputRow>\n      {children}\n    </Column>\n  )\n}\n","import { useLingui } from '@lingui/react'\nimport { Currency, CurrencyAmount } from '@uniswap/sdk-core'\nimport { OnChange } from 'components/Widget'\nimport { loadingTransitionCss } from 'css/loading'\nimport {\n  useIsSwapFieldIndependent,\n  useSwapAmount,\n  useSwapCurrency,\n  useSwapCurrencyAmount,\n  useSwapInfo,\n} from 'hooks/swap'\nimport { usePrefetchCurrencyColor } from 'hooks/useCurrencyColor'\nimport { useEffect } from 'react'\nimport { useMemo } from 'react'\nimport { TradeState } from 'state/routing/types'\nimport { Field } from 'state/swap'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\nimport { formatCurrencyAmount } from 'utils/formatCurrencyAmount'\nimport { maxAmountSpend } from 'utils/maxAmountSpend'\n\nimport Column from '../Column'\nimport Row from '../Row'\nimport TokenImg from '../TokenImg'\nimport TokenInput from './TokenInput'\n\nexport const USDC = styled(Row)`\n  ${loadingTransitionCss};\n`\n\nexport const Balance = styled(ThemedText.Body2)<{ focused: boolean }>`\n  opacity: ${({ focused }) => (focused ? 1 : 0)};\n  transition: opacity 0.25s ${({ focused }) => (focused ? 'ease-in' : 'ease-out')};\n`\n\nconst InputColumn = styled(Column)<{ approved?: boolean }>`\n  margin: 0.75em;\n  position: relative;\n\n  ${TokenImg} {\n    filter: ${({ approved }) => (approved ? undefined : 'saturate(0) opacity(0.4)')};\n    transition: filter 0.25s;\n  }\n`\n\nexport interface InputProps {\n  disabled: boolean\n  focused: boolean\n  onChange?: OnChange\n}\n\ninterface UseFormattedFieldAmountArguments {\n  disabled: boolean\n  currencyAmount?: CurrencyAmount<Currency>\n  fieldAmount?: string\n}\n\nexport function useFormattedFieldAmount({ disabled, currencyAmount, fieldAmount }: UseFormattedFieldAmountArguments) {\n  return useMemo(() => {\n    if (disabled) {\n      return ''\n    }\n    if (fieldAmount !== undefined) {\n      return fieldAmount\n    }\n    if (currencyAmount) {\n      return currencyAmount.toSignificant(6)\n    }\n    return ''\n  }, [disabled, currencyAmount, fieldAmount])\n}\n\nexport default function Input({ disabled, focused, onChange }: InputProps) {\n  const { i18n } = useLingui()\n  const swapInfo = useSwapInfo()\n  const {\n    [Field.INPUT]: { balance, amount: tradeCurrencyAmount, usdc },\n    trade: { state: tradeState },\n  } = swapInfo\n\n  useEffect(() => {\n    if (!swapInfo) return\n    onChange?.(swapInfo)\n  }, [swapInfo])\n\n  const [inputAmount, updateInputAmount] = useSwapAmount(Field.INPUT)\n  const [inputCurrency, updateInputCurrency] = useSwapCurrency(Field.INPUT)\n  const inputCurrencyAmount = useSwapCurrencyAmount(Field.INPUT)\n\n  // extract eagerly in case of reversal\n  usePrefetchCurrencyColor(inputCurrency)\n\n  const isRouteLoading = disabled || tradeState === TradeState.SYNCING || tradeState === TradeState.LOADING\n  const isDependentField = !useIsSwapFieldIndependent(Field.INPUT)\n  const isLoading = isRouteLoading && isDependentField\n\n  //TODO(ianlapham): mimic logic from app swap page\n  const mockApproved = true\n\n  // account for gas needed if using max on native token\n  const max = useMemo(() => {\n    const maxAmount = maxAmountSpend(balance)\n    return maxAmount?.greaterThan(0) ? maxAmount.toExact() : undefined\n  }, [balance])\n\n  const balanceColor = useMemo(() => {\n    const insufficientBalance =\n      balance &&\n      (inputCurrencyAmount ? inputCurrencyAmount.greaterThan(balance) : tradeCurrencyAmount?.greaterThan(balance))\n    return insufficientBalance ? 'error' : undefined\n  }, [balance, inputCurrencyAmount, tradeCurrencyAmount])\n\n  const amount = useFormattedFieldAmount({\n    disabled,\n    currencyAmount: tradeCurrencyAmount,\n    fieldAmount: inputAmount,\n  })\n\n  return (\n    <InputColumn gap={0.5} approved={mockApproved}>\n      <TokenInput\n        currency={inputCurrency}\n        amount={amount}\n        max={max}\n        disabled={disabled}\n        onChangeInput={updateInputAmount}\n        onChangeCurrency={updateInputCurrency}\n        loading={isLoading}\n      >\n        <ThemedText.Body2 color=\"secondary\" userSelect>\n          <Row>\n            <USDC isLoading={isRouteLoading}>{usdc ? `$${formatCurrencyAmount(usdc, 6, 'en', 2)}` : '-'}</USDC>\n            {balance && (\n              <Balance color={balanceColor} focused={focused}>\n                Balance: <span>{formatCurrencyAmount(balance, 4, i18n.locale)}</span>\n              </Balance>\n            )}\n          </Row>\n        </ThemedText.Body2>\n      </TokenInput>\n      <Row />\n    </InputColumn>\n  )\n}\n","import { HTMLProps } from 'react'\n\n/**\n * Outbound link\n */\nexport default function ExternalLink({\n  target = '_blank',\n  href,\n  rel = 'noopener noreferrer',\n  ...rest\n}: Omit<HTMLProps<HTMLAnchorElement>, 'as' | 'ref' | 'onClick'> & { href?: string }) {\n  return (\n    <a target={target} rel={rel} href={href} {...rest}>\n      {rest.children}\n    </a>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport Row from 'components/Row'\nimport { Logo } from 'icons'\nimport { memo } from 'react'\nimport styled from 'styled-components/macro'\nimport { brand, ThemedText } from 'theme'\n\nimport ExternalLink from './ExternalLink'\n\nconst UniswapA = styled(ExternalLink)`\n  color: ${({ theme }) => theme.secondary};\n  cursor: pointer;\n  text-decoration: none;\n\n  ${Logo} {\n    fill: ${({ theme }) => theme.secondary};\n    height: 1em;\n    transition: transform 0.25s ease, fill 0.25s ease;\n    width: 1em;\n    will-change: transform;\n  }\n\n  :hover ${Logo} {\n    fill: ${brand};\n    transform: rotate(-5deg);\n  }\n`\n\nexport default memo(function BrandedFooter() {\n  return (\n    <Row justify=\"center\">\n      <UniswapA href={`https://uniswap.org/`}>\n        <Row gap={0.25}>\n          <Logo />\n          <ThemedText.Caption>\n            <Trans>Powered by the Uniswap protocol</Trans>\n          </ThemedText.Caption>\n        </Row>\n      </UniswapA>\n    </Row>\n  )\n})\n","import { Trans } from '@lingui/macro'\nimport { useLingui } from '@lingui/react'\nimport BrandedFooter from 'components/BrandedFooter'\nimport Rule from 'components/Rule'\nimport { useIsSwapFieldIndependent, useSwapAmount, useSwapCurrency, useSwapInfo } from 'hooks/swap'\nimport useCurrencyColor from 'hooks/useCurrencyColor'\nimport { atom } from 'jotai'\nimport { useAtomValue } from 'jotai/utils'\nimport { PropsWithChildren, useEffect } from 'react'\nimport { TradeState } from 'state/routing/types'\nimport { Field } from 'state/swap'\nimport styled from 'styled-components/macro'\nimport { DynamicThemeProvider, ThemedText } from 'theme'\nimport { formatCurrencyAmount } from 'utils/formatCurrencyAmount'\n\nimport Column from '../Column'\nimport Row from '../Row'\nimport { Balance, InputProps, USDC, useFormattedFieldAmount } from './Input'\nimport TokenInput from './TokenInput'\n\nexport const colorAtom = atom<string | undefined>(undefined)\n\nconst OutputColumn = styled(Column)<{ hasColor: boolean | null }>`\n  background-color: ${({ theme }) => theme.module};\n  border-radius: ${({ theme }) => theme.borderRadius - 0.25}em;\n  padding: 0.75em;\n  padding-bottom: 0.5em;\n  position: relative;\n\n  // Set transitions to reduce color flashes when switching color/token.\n  // When color loads, transition the background so that it transitions from the empty or last state, but not _to_ the empty state.\n  transition: ${({ hasColor }) => (hasColor ? 'background-color 0.25s ease-out' : undefined)};\n  > {\n    // When color is loading, delay the color/stroke so that it seems to transition from the last state.\n    transition: ${({ hasColor }) => (hasColor === null ? 'color 0.25s ease-in, stroke 0.25s ease-in' : undefined)};\n  }\n`\n\nexport default function Output({ disabled, focused, children, onChange }: PropsWithChildren<InputProps>) {\n  const { i18n } = useLingui()\n  const swapInfo = useSwapInfo()\n  const {\n    [Field.OUTPUT]: { balance, amount: outputCurrencyAmount, usdc: outputUSDC },\n    trade: { state: tradeState },\n    impact,\n  } = swapInfo\n\n  useEffect(() => {\n    if (!swapInfo) return\n    onChange?.(swapInfo)\n  }, [swapInfo])\n\n  const [swapOutputAmount, updateSwapOutputAmount] = useSwapAmount(Field.OUTPUT)\n  const [swapOutputCurrency, updateSwapOutputCurrency] = useSwapCurrency(Field.OUTPUT)\n\n  const isRouteLoading = disabled || tradeState === TradeState.SYNCING || tradeState === TradeState.LOADING\n  const isDependentField = !useIsSwapFieldIndependent(Field.OUTPUT)\n  const isLoading = isRouteLoading && isDependentField\n\n  const overrideColor = useAtomValue(colorAtom)\n  const dynamicColor = useCurrencyColor(swapOutputCurrency)\n  const color = overrideColor || dynamicColor\n\n  // different state true/null/false allow smoother color transition\n  const hasColor = swapOutputCurrency ? Boolean(color) || null : false\n\n  const amount = useFormattedFieldAmount({\n    disabled,\n    currencyAmount: outputCurrencyAmount,\n    fieldAmount: swapOutputAmount,\n  })\n\n  return (\n    <DynamicThemeProvider color={color}>\n      <OutputColumn hasColor={hasColor} gap={0.5}>\n        <Row>\n          <ThemedText.Subhead1 color=\"secondary\">\n            <Trans>For</Trans>\n          </ThemedText.Subhead1>\n        </Row>\n        <TokenInput\n          currency={swapOutputCurrency}\n          amount={amount}\n          disabled={disabled}\n          onChangeInput={updateSwapOutputAmount}\n          onChangeCurrency={updateSwapOutputCurrency}\n          loading={isLoading}\n        >\n          <ThemedText.Body2 color=\"secondary\" userSelect>\n            <Row>\n              <USDC gap={0.5} isLoading={isRouteLoading}>\n                {outputUSDC ? `$${formatCurrencyAmount(outputUSDC, 6, 'en', 2)}` : '-'}{' '}\n                {impact && <ThemedText.Body2 color={impact.warning}>({impact.toString()})</ThemedText.Body2>}\n              </USDC>\n              {balance && (\n                <Balance focused={focused}>\n                  Balance: <span>{formatCurrencyAmount(balance, 4, i18n.locale)}</span>\n                </Balance>\n              )}\n            </Row>\n          </ThemedText.Body2>\n        </TokenInput>\n        <Rule />\n        {children}\n        <BrandedFooter />\n      </OutputColumn>\n    </DynamicThemeProvider>\n  )\n}\n","import { useSwitchSwapCurrencies } from 'hooks/swap'\nimport { ArrowDown as ArrowDownIcon, ArrowUp as ArrowUpIcon } from 'icons'\nimport { useCallback, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { Layer } from 'theme'\n\nimport Button from '../Button'\nimport Row from '../Row'\n\nconst ReverseRow = styled(Row)`\n  left: 50%;\n  position: absolute;\n  transform: translate(-50%, -50%);\n  z-index: ${Layer.OVERLAY};\n`\n\nconst ArrowUp = styled(ArrowUpIcon)`\n  left: calc(50% - 0.37em);\n  position: absolute;\n  top: calc(50% - 0.82em);\n`\n\nconst ArrowDown = styled(ArrowDownIcon)`\n  bottom: calc(50% - 0.82em);\n  position: absolute;\n  right: calc(50% - 0.37em);\n`\n\nconst Overlay = styled.div`\n  background-color: ${({ theme }) => theme.container};\n  border-radius: ${({ theme }) => theme.borderRadius}em;\n  padding: 0.25em;\n`\n\nconst StyledReverseButton = styled(Button)<{ turns: number }>`\n  border-radius: ${({ theme }) => theme.borderRadius * 0.75}em;\n  color: ${({ theme }) => theme.primary};\n  height: 2.5em;\n  position: relative;\n  width: 2.5em;\n\n  div {\n    transform: rotate(${({ turns }) => turns / 2}turn);\n    transition: transform 0.25s ease-in-out;\n    will-change: transform;\n  }\n`\n\nexport default function ReverseButton({ disabled }: { disabled?: boolean }) {\n  const [turns, setTurns] = useState(0)\n  const switchCurrencies = useSwitchSwapCurrencies()\n  const onClick = useCallback(() => {\n    switchCurrencies()\n    setTurns((turns) => ++turns)\n  }, [switchCurrencies])\n\n  return (\n    <ReverseRow justify=\"center\">\n      <Overlay>\n        <StyledReverseButton disabled={disabled} onClick={onClick} turns={turns}>\n          <div>\n            <ArrowUp strokeWidth={3} />\n            <ArrowDown strokeWidth={3} />\n          </div>\n        </StyledReverseButton>\n      </Overlay>\n    </ReverseRow>\n  )\n}\n","import { useCallback, useEffect, useState } from 'react'\n\nexport default function useHasHover(node: Node | null | undefined): boolean {\n  const [hasHover, setHasHover] = useState(false)\n  const onMouseEnter = useCallback(() => setHasHover(true), [])\n  const onMouseLeave = useCallback((e) => setHasHover(false), [])\n  useEffect(() => {\n    node?.addEventListener('mouseenter', onMouseEnter)\n    node?.addEventListener('mouseleave', onMouseLeave)\n    return () => {\n      node?.removeEventListener('mouseenter', onMouseEnter)\n      node?.removeEventListener('mouseleave', onMouseLeave)\n    }\n  }, [node, onMouseEnter, onMouseLeave])\n  return hasHover\n}\n","import { Placement } from '@popperjs/core'\nimport useHasFocus from 'hooks/useHasFocus'\nimport useHasHover from 'hooks/useHasHover'\nimport { HelpCircle, Icon } from 'icons'\nimport { ComponentProps, ReactNode, useRef } from 'react'\nimport styled from 'styled-components/macro'\n\nimport { IconButton } from './Button'\nimport Popover from './Popover'\n\nexport function useTooltip(tooltip: Node | null | undefined): boolean {\n  const hover = useHasHover(tooltip)\n  const focus = useHasFocus(tooltip)\n  return hover || focus\n}\n\nconst IconTooltip = styled(IconButton)`\n  cursor: help;\n`\n\ninterface TooltipProps {\n  icon?: Icon\n  iconProps?: ComponentProps<Icon>\n  children: ReactNode\n  placement?: Placement\n  offset?: number\n  contained?: true\n}\n\nexport default function Tooltip({\n  icon: Icon = HelpCircle,\n  iconProps,\n  children,\n  placement = 'auto',\n  offset,\n  contained,\n}: TooltipProps) {\n  const tooltip = useRef<HTMLDivElement>(null)\n  const showTooltip = useTooltip(tooltip.current)\n  return (\n    <Popover content={children} show={showTooltip} placement={placement} offset={offset} contained={contained}>\n      <IconTooltip icon={Icon} iconProps={iconProps} ref={tooltip} />\n    </Popover>\n  )\n}\n","import { ReactNode } from 'react'\nimport styled, { AnyStyledComponent, css } from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport Row from '../../Row'\nimport Tooltip from '../../Tooltip'\n\nexport const optionCss = (selected: boolean) => css`\n  border: 1px solid ${({ theme }) => (selected ? theme.active : theme.outline)};\n  border-radius: ${({ theme }) => theme.borderRadius * 0.75}em;\n  color: ${({ theme }) => theme.primary} !important;\n  display: grid;\n  grid-gap: 0.25em;\n  padding: calc(0.75em - 1px) 0.625em;\n\n  :enabled {\n    border: 1px solid ${({ theme }) => (selected ? theme.active : theme.outline)};\n  }\n\n  :enabled:hover {\n    border-color: ${({ theme }) => theme.onHover(selected ? theme.active : theme.outline)};\n  }\n\n  :enabled:focus-within {\n    border-color: ${({ theme }) => theme.active};\n  }\n`\n\nexport function value(Value: AnyStyledComponent) {\n  return styled(Value)<{ selected?: boolean; cursor?: string }>`\n    cursor: ${({ cursor }) => cursor ?? 'pointer'};\n  `\n}\n\ninterface LabelProps {\n  name: ReactNode\n  tooltip?: ReactNode\n}\n\nexport function Label({ name, tooltip }: LabelProps) {\n  return (\n    <Row gap={0.5} justify=\"flex-start\">\n      <ThemedText.Subhead2>{name}</ThemedText.Subhead2>\n      {tooltip && (\n        <Tooltip placement=\"top\" contained>\n          <ThemedText.Caption>{tooltip}</ThemedText.Caption>\n        </Tooltip>\n      )}\n    </Row>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport Popover from 'components/Popover'\nimport { useTooltip } from 'components/Tooltip'\nimport { getSlippageWarning, toPercent } from 'hooks/useSlippage'\nimport { AlertTriangle, Check, Icon, LargeIcon, XOctagon } from 'icons'\nimport { useAtom } from 'jotai'\nimport { forwardRef, memo, ReactNode, useCallback, useEffect, useRef, useState } from 'react'\nimport { autoSlippageAtom, maxSlippageAtom } from 'state/settings'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport { BaseButton, TextButton } from '../../Button'\nimport Column from '../../Column'\nimport { DecimalInput, inputCss } from '../../Input'\nimport Row from '../../Row'\nimport { Label, optionCss } from './components'\n\nconst Button = styled(TextButton)<{ selected: boolean }>`\n  ${({ selected }) => optionCss(selected)}\n`\n\nconst Custom = styled(BaseButton)<{ selected: boolean }>`\n  ${({ selected }) => optionCss(selected)}\n  ${inputCss}\n  padding: calc(0.75em - 3px) 0.625em;\n`\n\ninterface OptionProps {\n  wrapper: typeof Button | typeof Custom\n  selected: boolean\n  onSelect: () => void\n  'data-testid': string\n  icon?: ReactNode\n  tabIndex?: number\n  children: ReactNode\n}\n\nconst Option = forwardRef<HTMLButtonElement, OptionProps>(function Option(\n  { wrapper: Wrapper, children, selected, onSelect, icon, tabIndex, 'data-testid': testid }: OptionProps,\n  ref\n) {\n  return (\n    <Wrapper selected={selected} onClick={onSelect} ref={ref} tabIndex={tabIndex} data-testid={testid}>\n      <Row gap={0.5}>\n        {children}\n        {icon ? icon : <LargeIcon icon={selected ? Check : undefined} size={1.25} />}\n      </Row>\n    </Wrapper>\n  )\n})\n\nconst Warning = memo(function Warning({ state, showTooltip }: { state?: 'warning' | 'error'; showTooltip: boolean }) {\n  let icon: Icon | undefined\n  let content: ReactNode\n  let show = showTooltip\n  switch (state) {\n    case 'error':\n      icon = XOctagon\n      content = <Trans>Please enter a valid slippage %</Trans>\n      show = true\n      break\n    case 'warning':\n      icon = AlertTriangle\n      content = <Trans>High slippage increases the risk of price movement</Trans>\n      break\n  }\n  return (\n    <Popover\n      key={state}\n      content={<ThemedText.Caption>{content}</ThemedText.Caption>}\n      show={show}\n      placement=\"top\"\n      offset={16}\n      contained\n    >\n      <LargeIcon icon={icon} color={state} size={1.25} />\n    </Popover>\n  )\n})\n\nexport default function MaxSlippageSelect() {\n  const [autoSlippage, setAutoSlippage] = useAtom(autoSlippageAtom)\n  const [maxSlippage, setMaxSlippage] = useAtom(maxSlippageAtom)\n  const [maxSlippageInput, setMaxSlippageInput] = useState(maxSlippage?.toString() || '')\n\n  const option = useRef<HTMLButtonElement>(null)\n  const showTooltip = useTooltip(option.current)\n\n  const input = useRef<HTMLInputElement>(null)\n  const focus = useCallback(() => input.current?.focus(), [input])\n\n  const [warning, setWarning] = useState<'warning' | 'error' | undefined>(getSlippageWarning(toPercent(maxSlippage)))\n  useEffect(() => {\n    setMaxSlippageInput(maxSlippage?.toString() || '')\n    setWarning(getSlippageWarning(toPercent(maxSlippage)))\n  }, [maxSlippage])\n\n  const onInputSelect = useCallback(() => {\n    focus()\n    const percent = toPercent(maxSlippage)\n    const warning = getSlippageWarning(percent)\n    setAutoSlippage(!percent || warning === 'error')\n  }, [focus, maxSlippage, setAutoSlippage])\n\n  const processInput = useCallback(\n    (input: string | undefined) => {\n      setMaxSlippageInput(input || '')\n      const value = input ? +input : undefined\n      const percent = toPercent(value)\n      const warning = getSlippageWarning(percent)\n      setMaxSlippage(value)\n      setAutoSlippage(!percent || warning === 'error')\n    },\n    [setAutoSlippage, setMaxSlippage]\n  )\n\n  return (\n    <Column gap={0.75}>\n      <Label\n        name={<Trans>Max slippage</Trans>}\n        tooltip={\n          <Trans>Your transaction will revert if the price changes unfavorably by more than this percentage.</Trans>\n        }\n      />\n      <Row gap={0.5} grow=\"last\">\n        <Option wrapper={Button} selected={autoSlippage} onSelect={() => setAutoSlippage(true)} data-testid=\"auto\">\n          <ThemedText.ButtonMedium>\n            <Trans>Auto</Trans>\n          </ThemedText.ButtonMedium>\n        </Option>\n        <Option\n          wrapper={Custom}\n          selected={!autoSlippage}\n          onSelect={onInputSelect}\n          icon={warning && <Warning state={warning} showTooltip={showTooltip} />}\n          ref={option}\n          tabIndex={-1}\n          data-testid=\"custom\"\n        >\n          <Row color={warning === 'error' ? 'error' : undefined}>\n            <DecimalInput\n              size={Math.max(maxSlippageInput.length, 4)}\n              value={maxSlippageInput}\n              onChange={(input) => processInput(input)}\n              placeholder={'0.10'}\n              ref={input}\n              data-testid=\"input\"\n            />\n            %\n          </Row>\n        </Option>\n      </Row>\n    </Column>\n  )\n}\n","import { BigNumber } from '@ethersproject/bignumber'\nimport { L2_CHAIN_IDS } from 'constants/chains'\nimport { DEFAULT_DEADLINE_FROM_NOW, L2_DEADLINE_FROM_NOW } from 'constants/misc'\nimport useCurrentBlockTimestamp from 'hooks/useCurrentBlockTimestamp'\nimport { useAtom } from 'jotai'\nimport { useMemo } from 'react'\nimport { transactionTtlAtom } from 'state/settings'\n\nimport useActiveWeb3React from './useActiveWeb3React'\n\n/** Returns the default transaction TTL for the chain, in minutes. */\nexport function useDefaultTransactionTtl(): number {\n  const { chainId } = useActiveWeb3React()\n  if (chainId && L2_CHAIN_IDS.includes(chainId)) return L2_DEADLINE_FROM_NOW / 60\n  return DEFAULT_DEADLINE_FROM_NOW / 60\n}\n\n/** Returns the user-inputted transaction TTL, in minutes. */\nexport function useTransactionTtl(): [number | undefined, (ttl?: number) => void] {\n  return useAtom(transactionTtlAtom)\n}\n\n// combines the block timestamp with the user setting to give the deadline that should be used for any submitted transaction\nexport default function useTransactionDeadline(): BigNumber | undefined {\n  const [ttl] = useTransactionTtl()\n  const defaultTtl = useDefaultTransactionTtl()\n\n  const blockTimestamp = useCurrentBlockTimestamp()\n  return useMemo(() => {\n    if (!blockTimestamp) return undefined\n    return blockTimestamp.add((ttl || defaultTtl) /* in seconds */ * 60)\n  }, [blockTimestamp, defaultTtl, ttl])\n}\n","import { Trans } from '@lingui/macro'\nimport { useDefaultTransactionTtl, useTransactionTtl } from 'hooks/useTransactionDeadline'\nimport { useRef } from 'react'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport Column from '../../Column'\nimport { inputCss, IntegerInput } from '../../Input'\nimport Row from '../../Row'\nimport { Label } from './components'\n\nconst Input = styled(Row)`\n  ${inputCss}\n`\n\nexport default function TransactionTtlInput() {\n  const [ttl, setTtl] = useTransactionTtl()\n  const defaultTtl = useDefaultTransactionTtl()\n  const placeholder = defaultTtl.toString()\n  const input = useRef<HTMLInputElement>(null)\n  return (\n    <Column gap={0.75}>\n      <Label\n        name={<Trans>Transaction deadline</Trans>}\n        tooltip={\n          <Trans>Your transaction will revert if it has been pending for longer than this period of time.</Trans>\n        }\n      />\n      <ThemedText.Body1>\n        <Input justify=\"start\" onClick={() => input.current?.focus()}>\n          <IntegerInput\n            placeholder={placeholder}\n            value={ttl?.toString() ?? ''}\n            onChange={(value) => setTtl(value ? parseFloat(value) : 0)}\n            size={Math.max(ttl?.toString().length || 0, placeholder.length)}\n            ref={input}\n          />\n          <Trans>minutes</Trans>\n        </Input>\n      </ThemedText.Body1>\n    </Column>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport useScrollbar from 'hooks/useScrollbar'\nimport { Settings as SettingsIcon } from 'icons'\nimport { useResetAtom } from 'jotai/utils'\nimport React, { useState } from 'react'\nimport { settingsAtom } from 'state/settings'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport { IconButton, TextButton } from '../../Button'\nimport Column from '../../Column'\nimport Dialog, { Header } from '../../Dialog'\nimport { BoundaryProvider } from '../../Popover'\nimport MaxSlippageSelect from './MaxSlippageSelect'\nimport TransactionTtlInput from './TransactionTtlInput'\n\nexport function SettingsDialog() {\n  const [boundary, setBoundary] = useState<HTMLDivElement | null>(null)\n  const scrollbar = useScrollbar(boundary, { padded: true })\n  const resetSettings = useResetAtom(settingsAtom)\n  return (\n    <>\n      <Header title={<Trans>Settings</Trans>} ruled>\n        <TextButton onClick={resetSettings}>\n          <ThemedText.ButtonSmall>\n            <Trans>Reset</Trans>\n          </ThemedText.ButtonSmall>\n        </TextButton>\n      </Header>\n      <Column gap={1} style={{ paddingTop: '1em' }} ref={setBoundary} padded css={scrollbar}>\n        <BoundaryProvider value={boundary}>\n          <MaxSlippageSelect />\n          <TransactionTtlInput />\n        </BoundaryProvider>\n      </Column>\n    </>\n  )\n}\n\nconst SettingsButton = styled(IconButton)<{ hover: boolean }>`\n  ${SettingsIcon} {\n    transform: ${({ hover }) => hover && 'rotate(45deg)'};\n    transition: ${({ hover }) => hover && 'transform 0.25s'};\n    will-change: transform;\n  }\n`\n\nexport default function Settings({ disabled }: { disabled?: boolean }) {\n  const [open, setOpen] = useState(false)\n  const [hover, setHover] = useState(false)\n  return (\n    <>\n      <SettingsButton\n        disabled={disabled}\n        hover={hover}\n        onClick={() => setOpen(true)}\n        onMouseEnter={() => setHover(true)}\n        onMouseLeave={() => setHover(false)}\n        icon={SettingsIcon}\n      />\n      {open && (\n        <Dialog color=\"module\" onClose={() => setOpen(false)}>\n          <SettingsDialog />\n        </Dialog>\n      )}\n    </>\n  )\n}\n","import { AlertTriangle, Icon, LargeIcon } from 'icons'\nimport { ReactNode, useMemo } from 'react'\nimport styled, { css, keyframes } from 'styled-components/macro'\nimport { Color, ThemedText } from 'theme'\n\nimport Button from './Button'\nimport Row from './Row'\n\nconst StyledButton = styled(Button)`\n  border-radius: ${({ theme }) => theme.borderRadius * 0.75}em;\n  flex-grow: 1;\n  transition: background-color 0.25s ease-out, border-radius 0.25s ease-out, flex-grow 0.25s ease-out;\n\n  :disabled {\n    margin: -1px;\n  }\n`\n\nconst ActionRow = styled(Row)``\n\nconst grow = keyframes`\n  from {\n    opacity: 0;\n    width: 0;\n  }\n  to {\n    opacity: 1;\n    width: max-content;\n  }\n`\n\nconst actionCss = css`\n  border: 1px solid ${({ theme }) => theme.outline};\n  padding: calc(0.25em - 1px);\n  padding-left: calc(0.75em - 1px);\n\n  ${ActionRow} {\n    animation: ${grow} 0.25s ease-in;\n    flex-grow: 1;\n    justify-content: flex-start;\n    white-space: nowrap;\n  }\n\n  ${StyledButton} {\n    border-radius: ${({ theme }) => theme.borderRadius}em;\n    flex-grow: 0;\n    padding: 1em;\n  }\n`\n\nexport const Overlay = styled(Row)<{ hasAction: boolean }>`\n  border-radius: ${({ theme }) => theme.borderRadius}em;\n  flex-direction: row-reverse;\n  min-height: 3.5em;\n  transition: padding 0.25s ease-out;\n\n  ${({ hasAction }) => hasAction && actionCss}\n`\n\nexport interface Action {\n  message: ReactNode\n  icon?: Icon\n  onClick?: () => void\n  children?: ReactNode\n}\n\nexport interface BaseProps {\n  color?: Color\n  action?: Action\n}\n\nexport type ActionButtonProps = BaseProps & Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, keyof BaseProps>\n\nexport default function ActionButton({ color = 'accent', disabled, action, onClick, children }: ActionButtonProps) {\n  const textColor = useMemo(() => (color === 'accent' ? 'onAccent' : 'currentColor'), [color])\n  return (\n    <Overlay hasAction={Boolean(action)} flex align=\"stretch\">\n      {(action ? action.onClick : true) && (\n        <StyledButton color={color} disabled={disabled} onClick={action?.onClick || onClick}>\n          <ThemedText.TransitionButton buttonSize={action ? 'medium' : 'large'} color={textColor}>\n            {action?.children || children}\n          </ThemedText.TransitionButton>\n        </StyledButton>\n      )}\n      {action && (\n        <ActionRow gap={0.5}>\n          <LargeIcon color=\"currentColor\" icon={action.icon || AlertTriangle} />\n          <ThemedText.Subhead2>{action?.message}</ThemedText.Subhead2>\n        </ActionRow>\n      )}\n    </Overlay>\n  )\n}\n","import { IconButton } from 'components/Button'\nimport Column from 'components/Column'\nimport Row from 'components/Row'\nimport Rule from 'components/Rule'\nimport useScrollbar from 'hooks/useScrollbar'\nimport { Expando as ExpandoIcon } from 'icons'\nimport { PropsWithChildren, ReactNode, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nconst HeaderColumn = styled(Column)`\n  transition: gap 0.25s;\n`\n\nconst ExpandoColumn = styled(Column)<{ height: number; open: boolean }>`\n  height: ${({ height, open }) => (open ? height : 0)}em;\n  overflow: hidden;\n  position: relative;\n  transition: height 0.25s, padding 0.25s;\n\n  :after {\n    background: linear-gradient(transparent, ${({ theme }) => theme.dialog});\n    bottom: 0;\n    content: '';\n    height: 0.75em;\n    pointer-events: none;\n    position: absolute;\n    width: calc(100% - 1em);\n  }\n`\n\nconst InnerColumn = styled(Column)<{ height: number }>`\n  height: ${({ height }) => height}em;\n  padding: 0.5em 0;\n`\n\ninterface ExpandoProps {\n  title: ReactNode\n  open: boolean\n  onExpand: () => void\n  // The absolute height of the expanded container, in em.\n  height: number\n}\n\n/** A scrollable Expando with an absolute height. */\nexport default function Expando({ title, open, onExpand, height, children }: PropsWithChildren<ExpandoProps>) {\n  const [scrollingEl, setScrollingEl] = useState<HTMLDivElement | null>(null)\n  const scrollbar = useScrollbar(scrollingEl)\n  return (\n    <Column>\n      <HeaderColumn gap={open ? 0.5 : 0.75}>\n        <Rule />\n        <Row>\n          {title}\n          <IconButton color=\"secondary\" onClick={onExpand} icon={ExpandoIcon} iconProps={{ open }} />\n        </Row>\n        <Rule />\n      </HeaderColumn>\n      <ExpandoColumn open={open} height={height}>\n        <InnerColumn flex align=\"stretch\" height={height} ref={setScrollingEl} css={scrollbar}>\n          {children}\n        </InnerColumn>\n      </ExpandoColumn>\n    </Column>\n  )\n  return null\n}\n","import { Trans } from '@lingui/macro'\nimport ActionButton from 'components/ActionButton'\nimport Column from 'components/Column'\nimport Expando from 'components/Expando'\nimport { AlertTriangle, Icon, LargeIcon } from 'icons'\nimport { ReactNode, useCallback, useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { Color, ThemedText } from 'theme'\n\nconst HeaderIcon = styled(LargeIcon)`\n  flex-grow: 1;\n  transition: height 0.25s, width 0.25s;\n\n  svg {\n    transition: height 0.25s, width 0.25s;\n  }\n`\n\ninterface StatusHeaderProps {\n  icon: Icon\n  iconColor?: Color\n  iconSize?: number\n  children: ReactNode\n}\n\nexport function StatusHeader({ icon: Icon, iconColor, iconSize = 4, children }: StatusHeaderProps) {\n  return (\n    <>\n      <Column flex style={{ flexGrow: 1 }}>\n        <HeaderIcon icon={Icon} color={iconColor} size={iconSize} />\n        <Column gap={0.75} flex style={{ textAlign: 'center' }}>\n          {children}\n        </Column>\n      </Column>\n    </>\n  )\n}\n\nconst ErrorHeader = styled(Column)<{ open: boolean }>`\n  transition: gap 0.25s;\n\n  div:last-child {\n    max-height: ${({ open }) => (open ? 0 : 60 / 14)}em; // 3 * line-height\n    overflow-y: hidden;\n    transition: max-height 0.25s;\n  }\n`\n\ninterface ErrorDialogProps {\n  header?: ReactNode\n  error: Error\n  action: ReactNode\n  onClick: () => void\n}\n\nexport default function ErrorDialog({ header, error, action, onClick }: ErrorDialogProps) {\n  const [open, setOpen] = useState(false)\n  const onExpand = useCallback(() => setOpen((open) => !open), [])\n\n  return (\n    <Column flex padded gap={0.75} align=\"stretch\" style={{ height: '100%' }}>\n      <StatusHeader icon={AlertTriangle} iconColor=\"error\" iconSize={open ? 3 : 4}>\n        <ErrorHeader gap={open ? 0 : 0.75} open={open}>\n          <ThemedText.Subhead1>\n            <Trans>Something went wrong.</Trans>\n          </ThemedText.Subhead1>\n          <ThemedText.Body2>{header}</ThemedText.Body2>\n        </ErrorHeader>\n      </StatusHeader>\n      <Column gap={open ? 0 : 0.75} style={{ transition: 'gap 0.25s' }}>\n        <Expando title={<Trans>Error details</Trans>} open={open} onExpand={onExpand} height={7.5}>\n          <ThemedText.Code userSelect>\n            {error.name}\n            {error.message ? `: ${error.message}` : ''}\n          </ThemedText.Code>\n        </Expando>\n        <ActionButton onClick={onClick}>{action}</ActionButton>\n      </Column>\n    </Column>\n  )\n}\n","import { SupportedChainId } from 'constants/chains'\n\nconst ETHERSCAN_PREFIXES: { [chainId: number]: string } = {\n  [SupportedChainId.MAINNET]: 'https://etherscan.io',\n  [SupportedChainId.ROPSTEN]: 'https://ropsten.etherscan.io',\n  [SupportedChainId.RINKEBY]: 'https://rinkeby.etherscan.io',\n  [SupportedChainId.GOERLI]: 'https://goerli.etherscan.io',\n  [SupportedChainId.KOVAN]: 'https://kovan.etherscan.io',\n  [SupportedChainId.OPTIMISM]: 'https://optimistic.etherscan.io',\n  [SupportedChainId.OPTIMISTIC_KOVAN]: 'https://kovan-optimistic.etherscan.io',\n  [SupportedChainId.POLYGON_MUMBAI]: 'https://mumbai.polygonscan.com',\n  [SupportedChainId.POLYGON]: 'https://polygonscan.com',\n}\n\nexport enum ExplorerDataType {\n  TRANSACTION = 'transaction',\n  TOKEN = 'token',\n  ADDRESS = 'address',\n  BLOCK = 'block',\n}\n\n/**\n * Return the explorer link for the given data and data type\n * @param chainId the ID of the chain for which to return the data\n * @param data the data to return a link for\n * @param type the type of the data\n */\nexport function getExplorerLink(chainId: number, data: string, type: ExplorerDataType): string {\n  if (chainId === SupportedChainId.ARBITRUM_ONE) {\n    switch (type) {\n      case ExplorerDataType.TRANSACTION:\n        return `https://arbiscan.io/tx/${data}`\n      case ExplorerDataType.ADDRESS:\n      case ExplorerDataType.TOKEN:\n        return `https://arbiscan.io/address/${data}`\n      case ExplorerDataType.BLOCK:\n        return `https://arbiscan.io/block/${data}`\n      default:\n        return `https://arbiscan.io/`\n    }\n  }\n\n  if (chainId === SupportedChainId.ARBITRUM_RINKEBY) {\n    switch (type) {\n      case ExplorerDataType.TRANSACTION:\n        return `https://rinkeby-explorer.arbitrum.io/tx/${data}`\n      case ExplorerDataType.ADDRESS:\n      case ExplorerDataType.TOKEN:\n        return `https://rinkeby-explorer.arbitrum.io/address/${data}`\n      case ExplorerDataType.BLOCK:\n        return `https://rinkeby-explorer.arbitrum.io/block/${data}`\n      default:\n        return `https://rinkeby-explorer.arbitrum.io/`\n    }\n  }\n\n  const prefix = ETHERSCAN_PREFIXES[chainId] ?? 'https://etherscan.io'\n\n  switch (type) {\n    case ExplorerDataType.TRANSACTION:\n      return `${prefix}/tx/${data}`\n\n    case ExplorerDataType.TOKEN:\n      return `${prefix}/token/${data}`\n\n    case ExplorerDataType.BLOCK:\n      if (chainId === SupportedChainId.OPTIMISM || chainId === SupportedChainId.OPTIMISTIC_KOVAN) {\n        return `${prefix}/tx/${data}`\n      }\n      return `${prefix}/block/${data}`\n\n    case ExplorerDataType.ADDRESS:\n      return `${prefix}/address/${data}`\n    default:\n      return `${prefix}`\n  }\n}\n","import { SupportedChainId } from 'constants/chains'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { Link } from 'icons'\nimport { ReactNode, useMemo } from 'react'\nimport styled from 'styled-components/macro'\nimport { Color } from 'theme'\nimport { ExplorerDataType, getExplorerLink } from 'utils/getExplorerLink'\n\nimport ExternalLink from './ExternalLink'\nimport Row from './Row'\n\nconst StyledExternalLink = styled(ExternalLink)<{ color: Color }>`\n  color: ${({ theme, color }) => theme[color]};\n  text-decoration: none;\n`\n\ninterface EtherscanLinkProps {\n  type: ExplorerDataType\n  data?: string\n  color?: Color\n  children: ReactNode\n}\n\nexport default function EtherscanLink({ data, type, color = 'currentColor', children }: EtherscanLinkProps) {\n  const { chainId } = useActiveWeb3React()\n  const url = useMemo(\n    () => data && getExplorerLink(chainId || SupportedChainId.MAINNET, data, type),\n    [chainId, data, type]\n  )\n\n  return (\n    <StyledExternalLink href={url} color={color} target=\"_blank\">\n      <Row gap={0.25}>\n        {children}\n        {url && <Link />}\n      </Row>\n    </StyledExternalLink>\n  )\n}\n","import { useLingui } from '@lingui/react'\nimport { Trade } from '@uniswap/router-sdk'\nimport { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport Row from 'components/Row'\nimport { useCallback, useMemo, useState } from 'react'\nimport { ThemedText } from 'theme'\nimport { formatCurrencyAmount, formatPrice } from 'utils/formatCurrencyAmount'\nimport formatLocaleNumber from 'utils/formatLocaleNumber'\n\nimport { TextButton } from '../Button'\n\ninterface PriceProps {\n  trade: Trade<Currency, Currency, TradeType>\n  outputUSDC?: CurrencyAmount<Currency>\n}\n\n/** Displays the price of a trade. If outputUSDC is included, also displays the unit price. */\nexport default function Price({ trade, outputUSDC }: PriceProps) {\n  const { i18n } = useLingui()\n  const { inputAmount, outputAmount, executionPrice } = trade\n\n  const [base, setBase] = useState<'input' | 'output'>('input')\n  const onClick = useCallback(() => setBase((base) => (base === 'input' ? 'output' : 'input')), [])\n\n  // Compute the usdc price from the output price, so that it aligns with the displayed price.\n  const { price, usdcPrice } = useMemo(() => {\n    switch (base) {\n      case 'input':\n        return {\n          price: executionPrice,\n          usdcPrice: outputUSDC?.multiply(inputAmount.decimalScale).divide(inputAmount),\n        }\n      case 'output':\n        return {\n          price: executionPrice.invert(),\n          usdcPrice: outputUSDC?.multiply(outputAmount.decimalScale).divide(outputAmount),\n        }\n    }\n  }, [base, executionPrice, inputAmount, outputAmount, outputUSDC])\n\n  return (\n    <TextButton color=\"primary\" onClick={onClick}>\n      <ThemedText.Caption>\n        <Row gap={0.25}>\n          {formatLocaleNumber({ number: 1, sigFigs: 1, locale: i18n.locale })} {price.baseCurrency.symbol} ={' '}\n          {formatPrice(price, 6, i18n.locale)} {price.quoteCurrency.symbol}\n          {usdcPrice && (\n            <ThemedText.Caption color=\"secondary\">(${formatCurrencyAmount(usdcPrice, 6, 'en', 2)})</ThemedText.Caption>\n          )}\n        </Row>\n      </ThemedText.Caption>\n    </TextButton>\n  )\n}\n","import { useLingui } from '@lingui/react'\nimport { Currency, CurrencyAmount } from '@uniswap/sdk-core'\nimport { PriceImpact } from 'hooks/useUSDCPriceImpact'\nimport { ArrowRight } from 'icons'\nimport { PropsWithChildren } from 'react'\nimport { ThemedText } from 'theme'\nimport { formatCurrencyAmount } from 'utils/formatCurrencyAmount'\n\nimport Column from '../../Column'\nimport Row from '../../Row'\nimport TokenImg from '../../TokenImg'\n\ninterface TokenValueProps {\n  input: CurrencyAmount<Currency>\n  usdc?: CurrencyAmount<Currency>\n}\n\nfunction TokenValue({ input, usdc, children }: PropsWithChildren<TokenValueProps>) {\n  const { i18n } = useLingui()\n  return (\n    <Column justify=\"flex-start\">\n      <Row gap={0.375} justify=\"flex-start\">\n        <TokenImg token={input.currency} />\n        <ThemedText.Body2 userSelect>\n          {formatCurrencyAmount(input, 6, i18n.locale)} {input.currency.symbol}\n        </ThemedText.Body2>\n      </Row>\n      {usdc && (\n        <ThemedText.Caption color=\"secondary\" userSelect>\n          <Row justify=\"flex-start\" gap={0.25}>\n            ${formatCurrencyAmount(usdc, 6, 'en', 2)}\n            {children}\n          </Row>\n        </ThemedText.Caption>\n      )}\n    </Column>\n  )\n}\n\ninterface SummaryProps {\n  input: CurrencyAmount<Currency>\n  output: CurrencyAmount<Currency>\n  inputUSDC?: CurrencyAmount<Currency>\n  outputUSDC?: CurrencyAmount<Currency>\n  impact?: PriceImpact\n}\n\nexport default function Summary({ input, output, inputUSDC, outputUSDC, impact }: SummaryProps) {\n  return (\n    <Row gap={impact ? 1 : 0.25}>\n      <TokenValue input={input} usdc={inputUSDC} />\n      <ArrowRight />\n      <TokenValue input={output} usdc={outputUSDC}>\n        {impact && <ThemedText.Caption color={impact.warning}>({impact.toString()})</ThemedText.Caption>}\n      </TokenValue>\n    </Row>\n  )\n}\n","import { useEffect, useRef } from 'react'\n\n/**\n * Invokes callback repeatedly over an interval defined by the delay\n * @param callback\n * @param delay if null, the callback will not be invoked\n * @param leading if true, the callback will be invoked immediately (on the leading edge); otherwise, it will be invoked after delay\n */\nexport default function useInterval(callback: () => void, delay: null | number, leading = true) {\n  const savedCallback = useRef<() => void>()\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      const { current } = savedCallback\n      current && current()\n    }\n\n    if (delay !== null) {\n      if (leading) tick()\n      const id = setInterval(tick, delay)\n      return () => clearInterval(id)\n    }\n    return\n  }, [delay, leading])\n}\n","import { Trans } from '@lingui/macro'\nimport ErrorDialog, { StatusHeader } from 'components/Error/ErrorDialog'\nimport EtherscanLink from 'components/EtherscanLink'\nimport Rule from 'components/Rule'\nimport SwapSummary from 'components/Swap/Summary'\nimport useInterval from 'hooks/useInterval'\nimport { CheckCircle, Clock, Spinner } from 'icons'\nimport ms from 'ms.macro'\nimport { useCallback, useMemo, useState } from 'react'\nimport { SwapTransactionInfo, Transaction, TransactionType, WrapTransactionInfo } from 'state/transactions'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\nimport { ExplorerDataType } from 'utils/getExplorerLink'\n\nimport ActionButton from '../../ActionButton'\nimport Column from '../../Column'\nimport Row from '../../Row'\n\nconst TransactionRow = styled(Row)`\n  flex-direction: row-reverse;\n`\n\ntype PendingTransaction = Transaction<SwapTransactionInfo | WrapTransactionInfo>\n\nfunction ElapsedTime({ tx }: { tx: PendingTransaction }) {\n  const [elapsedMs, setElapsedMs] = useState(0)\n\n  useInterval(() => setElapsedMs(Date.now() - tx.addedTime), tx.receipt ? null : ms`1s`)\n\n  const toElapsedTime = useCallback((ms: number) => {\n    let sec = Math.floor(ms / 1000)\n    const min = Math.floor(sec / 60)\n    sec = sec % 60\n    if (min) {\n      return (\n        <Trans>\n          {min}m {sec}s\n        </Trans>\n      )\n    } else {\n      return <Trans>{sec}s</Trans>\n    }\n  }, [])\n  return (\n    <Row gap={0.5}>\n      <Clock />\n      <ThemedText.Body2>{toElapsedTime(elapsedMs)}</ThemedText.Body2>\n    </Row>\n  )\n}\n\ninterface TransactionStatusProps {\n  tx: PendingTransaction\n  onClose: () => void\n}\n\nfunction TransactionStatus({ tx, onClose }: TransactionStatusProps) {\n  const Icon = useMemo(() => {\n    return tx.receipt?.status ? CheckCircle : Spinner\n  }, [tx.receipt?.status])\n  const heading = useMemo(() => {\n    if (tx.info.type === TransactionType.SWAP) {\n      return tx.receipt?.status ? <Trans>Swap confirmed</Trans> : <Trans>Swap pending</Trans>\n    } else if (tx.info.type === TransactionType.WRAP) {\n      if (tx.info.unwrapped) {\n        return tx.receipt?.status ? <Trans>Unwrap confirmed</Trans> : <Trans>Unwrap pending</Trans>\n      }\n      return tx.receipt?.status ? <Trans>Wrap confirmed</Trans> : <Trans>Wrap pending</Trans>\n    }\n    return tx.receipt?.status ? <Trans>Transaction confirmed</Trans> : <Trans>Transaction pending</Trans>\n  }, [tx.info, tx.receipt?.status])\n\n  return (\n    <Column flex padded gap={0.75} align=\"stretch\" style={{ height: '100%' }}>\n      <StatusHeader icon={Icon} iconColor={tx.receipt?.status ? 'success' : undefined}>\n        <ThemedText.Subhead1>{heading}</ThemedText.Subhead1>\n        {tx.info.type === TransactionType.SWAP ? (\n          <SwapSummary input={tx.info.inputCurrencyAmount} output={tx.info.outputCurrencyAmount} />\n        ) : null}\n      </StatusHeader>\n      <Rule />\n      <TransactionRow flex>\n        <ThemedText.ButtonSmall>\n          <EtherscanLink type={ExplorerDataType.TRANSACTION} data={tx.info.response.hash}>\n            <Trans>View on Etherscan</Trans>\n          </EtherscanLink>\n        </ThemedText.ButtonSmall>\n        <ElapsedTime tx={tx} />\n      </TransactionRow>\n      <ActionButton onClick={onClose}>\n        <Trans>Close</Trans>\n      </ActionButton>\n    </Column>\n  )\n}\n\nexport default function TransactionStatusDialog({ tx, onClose }: TransactionStatusProps) {\n  return tx.receipt?.status === 0 ? (\n    <ErrorDialog\n      header={\n        <Trans>\n          Try increasing your slippage tolerance.\n          <br />\n          NOTE: Fee on transfer and rebase tokens are incompatible with Uniswap V3.\n        </Trans>\n      }\n      error={new Error('TODO(zzmp)')}\n      action={<Trans>Dismiss</Trans>}\n      onClick={onClose}\n    />\n  ) : (\n    <TransactionStatus tx={tx} onClose={onClose} />\n  )\n}\n","export default \"data:image/svg+xml,%3Csvg%20width%3D%22100%25%22%20height%3D%2235%22%20%20viewBox%3D%22850%200%20300%20200%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%20%20%20%3Cline%20x1%3D%220%22%20x2%3D%223000%22%20y1%3D%22100%22%20y2%3D%22100%22%20stroke%3D%22currentColor%22%20stroke-width%3D%2220%22%20stroke-linecap%3D%22round%22%20stroke-dasharray%3D%221%2C%2045%22%2F%3E%3C%2Fsvg%3E\"","import { Protocol } from '@uniswap/router-sdk'\nimport { Currency, Percent, TradeType } from '@uniswap/sdk-core'\nimport { Pair } from '@uniswap/v2-sdk'\nimport { FeeAmount } from '@uniswap/v3-sdk'\nimport { InterfaceTrade } from 'state/routing/types'\n\nexport interface RoutingDiagramEntry {\n  percent: Percent\n  path: [Currency, Currency, FeeAmount][]\n  protocol: Protocol\n}\n\nconst V2_DEFAULT_FEE_TIER = 3000\n\n/**\n * Loops through all routes on a trade and returns an array of diagram entries.\n */\nexport function getTokenPath(trade: InterfaceTrade<Currency, Currency, TradeType>): RoutingDiagramEntry[] {\n  return trade.swaps.map(({ route: { path: tokenPath, pools, protocol }, inputAmount, outputAmount }) => {\n    const portion =\n      trade.tradeType === TradeType.EXACT_INPUT\n        ? inputAmount.divide(trade.inputAmount)\n        : outputAmount.divide(trade.outputAmount)\n    const percent = new Percent(portion.numerator, portion.denominator)\n    const path: RoutingDiagramEntry['path'] = []\n    for (let i = 0; i < pools.length; i++) {\n      const nextPool = pools[i]\n      const tokenIn = tokenPath[i]\n      const tokenOut = tokenPath[i + 1]\n      const entry: RoutingDiagramEntry['path'][0] = [\n        tokenIn,\n        tokenOut,\n        nextPool instanceof Pair ? V2_DEFAULT_FEE_TIER : nextPool.fee,\n      ]\n      path.push(entry)\n    }\n    return {\n      percent,\n      path,\n      protocol,\n    }\n  })\n}\n","import { Plural, Trans } from '@lingui/macro'\nimport { Currency, TradeType } from '@uniswap/sdk-core'\nimport { FeeAmount } from '@uniswap/v3-sdk'\nimport { ReactComponent as DotLine } from 'assets/svg/dot_line.svg'\nimport Column from 'components/Column'\nimport Row from 'components/Row'\nimport Rule from 'components/Rule'\nimport TokenImg from 'components/TokenImg'\nimport { AutoRouter } from 'icons'\nimport { useMemo } from 'react'\nimport { InterfaceTrade } from 'state/routing/types'\nimport styled from 'styled-components/macro'\nimport { Layer, ThemedText } from 'theme'\n\nimport { getTokenPath, RoutingDiagramEntry } from './utils'\n\nconst StyledAutoRouterLabel = styled(ThemedText.ButtonSmall)`\n  @supports (-webkit-background-clip: text) and (-webkit-text-fill-color: transparent) {\n    background-image: linear-gradient(90deg, #2172e5 0%, #54e521 163.16%);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n  }\n`\n\nfunction Header({ routes }: { routes: RoutingDiagramEntry[] }) {\n  return (\n    <Row justify=\"space-between\" gap={1}>\n      <ThemedText.Subhead2>\n        <Row gap={0.25}>\n          <AutoRouter />\n          <StyledAutoRouterLabel color=\"primary\" lineHeight={'16px'}>\n            <Trans>Auto Router</Trans>\n          </StyledAutoRouterLabel>\n        </Row>\n      </ThemedText.Subhead2>\n      <ThemedText.Body2>\n        <Plural value={routes.length} _1=\"Best route via 1 hop\" other=\"Best route via # hops\" />\n      </ThemedText.Body2>\n    </Row>\n  )\n}\n\nconst Dots = styled(DotLine)`\n  color: ${({ theme }) => theme.outline};\n  position: absolute;\n  z-index: ${Layer.UNDERLAYER};\n`\n\nconst RouteRow = styled(Row)`\n  flex-wrap: nowrap;\n`\n\nconst RouteNode = styled(Row)`\n  background-color: ${({ theme }) => theme.interactive};\n  border-radius: ${({ theme }) => `${(theme.borderRadius ?? 1) * 0.5}em`};\n  margin-left: 1.625em;\n  padding: 0.25em 0.375em;\n  width: max-content;\n`\n\nconst RouteBadge = styled.div`\n  background-color: ${({ theme }) => theme.module};\n  border-radius: ${({ theme }) => `${(theme.borderRadius ?? 1) * 0.25}em`};\n  padding: 0.125em;\n`\n\nfunction RouteDetail({ route }: { route: RoutingDiagramEntry }) {\n  const protocol = route.protocol.toUpperCase()\n  return (\n    <RouteNode>\n      <Row gap={0.375}>\n        <ThemedText.Caption>{route.percent.toSignificant(2)}%</ThemedText.Caption>\n        <RouteBadge>\n          <ThemedText.Badge color=\"secondary\">{protocol}</ThemedText.Badge>\n        </RouteBadge>\n      </Row>\n    </RouteNode>\n  )\n}\n\nconst RoutePool = styled(RouteNode)`\n  margin: 0 0.75em;\n`\n\nfunction Pool({\n  originCurrency,\n  targetCurrency,\n  feeAmount,\n}: {\n  originCurrency: Currency\n  targetCurrency: Currency\n  feeAmount: FeeAmount\n}) {\n  return (\n    <RoutePool>\n      <ThemedText.Caption>\n        <Row gap={0.25}>\n          <TokenImg token={originCurrency} />\n          <TokenImg token={targetCurrency} style={{ marginLeft: '-0.65em' }} />\n          {feeAmount / 10_000}%\n        </Row>\n      </ThemedText.Caption>\n    </RoutePool>\n  )\n}\n\nfunction Route({ route }: { route: RoutingDiagramEntry }) {\n  const [originCurrency] = route.path[0]\n  const [, targetCurrency] = route.path[route.path.length - 1]\n\n  return (\n    <Row align=\"center\" style={{ gridTemplateColumns: '1em 1fr 1em' }}>\n      <TokenImg token={originCurrency} />\n      <RouteRow flex style={{ position: 'relative' }}>\n        <Dots />\n        <RouteDetail route={route} />\n        <RouteRow justify=\"space-evenly\" flex>\n          {route.path.map(([originCurrency, targetCurrency, feeAmount], index) => (\n            <Pool key={index} originCurrency={originCurrency} targetCurrency={targetCurrency} feeAmount={feeAmount} />\n          ))}\n        </RouteRow>\n      </RouteRow>\n      <TokenImg token={targetCurrency} />\n    </Row>\n  )\n}\n\nexport default function RoutingDiagram({ trade }: { trade: InterfaceTrade<Currency, Currency, TradeType> }) {\n  const routes: RoutingDiagramEntry[] = useMemo(() => getTokenPath(trade), [trade])\n\n  return (\n    <Column gap={0.75}>\n      <Header routes={routes} />\n      <Rule />\n      {routes.map((route, index) => (\n        <Route key={index} route={route} />\n      ))}\n    </Column>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport { Currency, CurrencyAmount, TradeType } from '@uniswap/sdk-core'\nimport Column from 'components/Column'\nimport Rule from 'components/Rule'\nimport Tooltip from 'components/Tooltip'\nimport { loadingCss } from 'css/loading'\nimport { PriceImpact } from 'hooks/useUSDCPriceImpact'\nimport { AlertTriangle, Icon, Info, InlineSpinner } from 'icons'\nimport { ReactNode, useCallback } from 'react'\nimport { InterfaceTrade } from 'state/routing/types'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport Price from '../Price'\nimport RoutingDiagram from '../RoutingDiagram'\n\nconst Loading = styled.span`\n  color: ${({ theme }) => theme.secondary};\n  ${loadingCss};\n`\n\ninterface CaptionProps {\n  icon?: Icon\n  caption: ReactNode\n}\n\nfunction Caption({ icon: Icon = AlertTriangle, caption }: CaptionProps) {\n  return (\n    <>\n      <Icon color=\"secondary\" />\n      {caption}\n    </>\n  )\n}\n\nexport function Connecting() {\n  return (\n    <Caption\n      icon={InlineSpinner}\n      caption={\n        <Loading>\n          <Trans>Connecting</Trans>\n        </Loading>\n      }\n    />\n  )\n}\n\nexport function ConnectWallet() {\n  return <Caption caption={<Trans>Connect wallet to swap</Trans>} />\n}\n\nexport function UnsupportedNetwork() {\n  return <Caption caption={<Trans>Unsupported network - switch to another to trade</Trans>} />\n}\n\nexport function InsufficientBalance({ currency }: { currency: Currency }) {\n  return <Caption caption={<Trans>Insufficient {currency?.symbol} balance</Trans>} />\n}\n\nexport function InsufficientLiquidity() {\n  return <Caption caption={<Trans>Insufficient liquidity in the pool for your trade</Trans>} />\n}\n\nexport function Error() {\n  return <Caption caption={<Trans>Error fetching trade</Trans>} />\n}\n\nexport function Empty() {\n  return <Caption icon={Info} caption={<Trans>Enter an amount</Trans>} />\n}\n\nexport function LoadingTrade() {\n  return (\n    <Caption\n      icon={InlineSpinner}\n      caption={\n        <Loading>\n          <Trans>Fetching best price</Trans>\n        </Loading>\n      }\n    />\n  )\n}\n\nexport function WrapCurrency({ inputCurrency, outputCurrency }: { inputCurrency: Currency; outputCurrency: Currency }) {\n  const Text = useCallback(\n    () => (\n      <Trans>\n        Convert {inputCurrency.symbol} to {outputCurrency.symbol}\n      </Trans>\n    ),\n    [inputCurrency.symbol, outputCurrency.symbol]\n  )\n\n  return <Caption icon={Info} caption={<Text />} />\n}\n\nexport function Trade({\n  trade,\n  outputUSDC,\n  impact,\n}: {\n  trade: InterfaceTrade<Currency, Currency, TradeType>\n  outputUSDC?: CurrencyAmount<Currency>\n  impact?: PriceImpact\n}) {\n  return (\n    <>\n      <Tooltip placement=\"bottom\" icon={impact?.warning ? AlertTriangle : Info}>\n        <Column gap={0.75}>\n          {impact?.warning && (\n            <>\n              <ThemedText.Caption>\n                The output amount is estimated at {impact.toString()} less than the input amount due to high price\n                impact\n              </ThemedText.Caption>\n              <Rule />\n            </>\n          )}\n          <RoutingDiagram trade={trade} />\n        </Column>\n      </Tooltip>\n      <Price trade={trade} outputUSDC={outputUSDC} />\n    </>\n  )\n}\n","import { ALL_SUPPORTED_CHAIN_IDS } from 'constants/chains'\nimport { useIsAmountPopulated, useSwapInfo } from 'hooks/swap'\nimport useWrapCallback, { WrapType } from 'hooks/swap/useWrapCallback'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { largeIconCss } from 'icons'\nimport { memo, useMemo } from 'react'\nimport { TradeState } from 'state/routing/types'\nimport { Field } from 'state/swap'\nimport styled from 'styled-components/macro'\nimport { ThemedText } from 'theme'\n\nimport Row from '../../Row'\nimport * as Caption from './Caption'\n\nconst ToolbarRow = styled(Row)`\n  padding: 0.5em 0;\n  ${largeIconCss}\n`\n\nexport default memo(function Toolbar() {\n  const { active, activating, chainId } = useActiveWeb3React()\n  const {\n    [Field.INPUT]: { currency: inputCurrency, balance: inputBalance, amount: inputAmount },\n    [Field.OUTPUT]: { currency: outputCurrency, usdc: outputUSDC },\n    trade: { trade, state },\n    impact,\n  } = useSwapInfo()\n  const isAmountPopulated = useIsAmountPopulated()\n  const { type: wrapType } = useWrapCallback()\n  const caption = useMemo(() => {\n    if (!active || !chainId) {\n      if (activating) return <Caption.Connecting />\n      return <Caption.ConnectWallet />\n    }\n\n    if (!ALL_SUPPORTED_CHAIN_IDS.includes(chainId)) {\n      return <Caption.UnsupportedNetwork />\n    }\n\n    if (inputCurrency && outputCurrency && isAmountPopulated) {\n      if (state === TradeState.SYNCING || state === TradeState.LOADING) {\n        return <Caption.LoadingTrade />\n      }\n      if (inputBalance && inputAmount?.greaterThan(inputBalance)) {\n        return <Caption.InsufficientBalance currency={inputCurrency} />\n      }\n      if (wrapType !== WrapType.NONE) {\n        return <Caption.WrapCurrency inputCurrency={inputCurrency} outputCurrency={outputCurrency} />\n      }\n      if (state === TradeState.NO_ROUTE_FOUND || (trade && !trade.swaps)) {\n        return <Caption.InsufficientLiquidity />\n      }\n      if (trade?.inputAmount && trade.outputAmount) {\n        return <Caption.Trade trade={trade} outputUSDC={outputUSDC} impact={impact} />\n      }\n      if (state === TradeState.INVALID) {\n        return <Caption.Error />\n      }\n    }\n\n    return <Caption.Empty />\n  }, [\n    activating,\n    active,\n    chainId,\n    impact,\n    inputAmount,\n    inputBalance,\n    inputCurrency,\n    isAmountPopulated,\n    outputCurrency,\n    outputUSDC,\n    state,\n    trade,\n    wrapType,\n  ])\n\n  return (\n    <ThemedText.Caption data-testid=\"toolbar\">\n      <ToolbarRow justify=\"flex-start\" gap={0.5} iconSize={4 / 3}>\n        {caption}\n      </ToolbarRow>\n    </ThemedText.Caption>\n  )\n})\n","export class IntegrationError extends Error {\n  constructor(message: string) {\n    super(message)\n    this.name = 'Integration Error'\n  }\n}\n","import { IntegrationError } from 'errors'\nimport { FeeOptions } from 'hooks/swap/useSyncConvenienceFee'\nimport { DefaultAddress, TokenDefaults } from 'hooks/swap/useSyncTokenDefaults'\nimport { PropsWithChildren, useEffect } from 'react'\nimport { isAddress } from 'utils'\n\nfunction isAddressOrAddressMap(addressOrMap: DefaultAddress): boolean {\n  if (typeof addressOrMap === 'object') {\n    return Object.values(addressOrMap).every((address) => isAddress(address))\n  }\n  if (typeof addressOrMap === 'string') {\n    return typeof isAddress(addressOrMap) === 'string'\n  }\n  return false\n}\n\ntype ValidatorProps = PropsWithChildren<TokenDefaults & FeeOptions>\n\nexport default function useValidate(props: ValidatorProps) {\n  const { convenienceFee, convenienceFeeRecipient } = props\n  useEffect(() => {\n    if (convenienceFee) {\n      if (convenienceFee > 100 || convenienceFee < 0) {\n        throw new IntegrationError(`convenienceFee must be between 0 and 100 (you set it to ${convenienceFee}).`)\n      }\n      if (!convenienceFeeRecipient) {\n        throw new IntegrationError('convenienceFeeRecipient is required when convenienceFee is set.')\n      }\n\n      if (typeof convenienceFeeRecipient === 'string') {\n        if (!isAddress(convenienceFeeRecipient)) {\n          throw new IntegrationError(\n            `convenienceFeeRecipient must be a valid address (you set it to ${convenienceFeeRecipient}).`\n          )\n        }\n      } else if (typeof convenienceFeeRecipient === 'object') {\n        Object.values(convenienceFeeRecipient).forEach((recipient) => {\n          if (!isAddress(recipient)) {\n            const values = Object.values(convenienceFeeRecipient).join(', ')\n            throw new IntegrationError(\n              `All values in convenienceFeeRecipient object must be valid addresses (you used ${values}).`\n            )\n          }\n        })\n      }\n    }\n  }, [convenienceFee, convenienceFeeRecipient])\n\n  const { defaultInputAmount, defaultOutputAmount } = props\n  useEffect(() => {\n    if (defaultOutputAmount && defaultInputAmount) {\n      throw new IntegrationError('defaultInputAmount and defaultOutputAmount may not both be defined.')\n    }\n    if (defaultInputAmount && (isNaN(+defaultInputAmount) || defaultInputAmount < 0)) {\n      throw new IntegrationError(`defaultInputAmount must be a positive number (you set it to ${defaultInputAmount})`)\n    }\n    if (defaultOutputAmount && (isNaN(+defaultOutputAmount) || defaultOutputAmount < 0)) {\n      throw new IntegrationError(\n        `defaultOutputAmount must be a positive number (you set it to ${defaultOutputAmount}).`\n      )\n    }\n  }, [defaultInputAmount, defaultOutputAmount])\n\n  const { defaultInputTokenAddress, defaultOutputTokenAddress } = props\n  useEffect(() => {\n    if (\n      defaultInputTokenAddress &&\n      !isAddressOrAddressMap(defaultInputTokenAddress) &&\n      defaultInputTokenAddress !== 'NATIVE'\n    ) {\n      throw new IntegrationError(\n        `defaultInputTokenAddress must be a valid address or \"NATIVE\" (you set it to ${defaultInputTokenAddress}).`\n      )\n    }\n    if (\n      defaultOutputTokenAddress &&\n      !isAddressOrAddressMap(defaultOutputTokenAddress) &&\n      defaultOutputTokenAddress !== 'NATIVE'\n    ) {\n      throw new IntegrationError(\n        `defaultOutputTokenAddress must be a valid address or \"NATIVE\" (you set it to ${defaultOutputTokenAddress}).`\n      )\n    }\n  }, [defaultInputTokenAddress, defaultOutputTokenAddress])\n}\n","import { Trans } from '@lingui/macro'\nimport { OnChange } from 'components/Widget'\nimport { SwapInfoProvider } from 'hooks/swap/useSwapInfo'\nimport useSyncConvenienceFee, { FeeOptions } from 'hooks/swap/useSyncConvenienceFee'\nimport useSyncTokenDefaults, { TokenDefaults } from 'hooks/swap/useSyncTokenDefaults'\nimport { usePendingTransactions } from 'hooks/transactions'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport useHasFocus from 'hooks/useHasFocus'\nimport useOnSupportedNetwork from 'hooks/useOnSupportedNetwork'\nimport { useAtom } from 'jotai'\nimport { useState } from 'react'\nimport { displayTxHashAtom } from 'state/swap'\nimport { SwapTransactionInfo, Transaction, TransactionType, WrapTransactionInfo } from 'state/transactions'\n\nimport Dialog from '../Dialog'\nimport Header from '../Header'\nimport { BoundaryProvider } from '../Popover'\nimport Wallet from '../Wallet'\nimport Input from './Input'\nimport Output from './Output'\nimport ReverseButton from './ReverseButton'\nimport Settings from './Settings'\nimport { StatusDialog } from './Status'\nimport Toolbar from './Toolbar'\nimport useValidate from './useValidate'\n\nfunction getTransactionFromMap(\n  txs: { [hash: string]: Transaction },\n  hash?: string\n): Transaction<SwapTransactionInfo | WrapTransactionInfo> | undefined {\n  if (hash) {\n    const tx = txs[hash]\n    if (tx?.info?.type === TransactionType.SWAP) {\n      return tx as Transaction<SwapTransactionInfo>\n    }\n    if (tx?.info?.type === TransactionType.WRAP) {\n      return tx as Transaction<WrapTransactionInfo>\n    }\n  }\n  return\n}\n\nexport interface SwapProps extends TokenDefaults, FeeOptions {\n  onConnectWallet?: () => void\n  onChange?: OnChange\n}\n\nexport default function Swap(props: SwapProps) {\n  useValidate(props)\n  useSyncConvenienceFee(props)\n  useSyncTokenDefaults(props)\n\n  const { active, account } = useActiveWeb3React()\n  const [wrapper, setWrapper] = useState<HTMLDivElement | null>(null)\n\n  const [displayTxHash, setDisplayTxHash] = useAtom(displayTxHashAtom)\n  const pendingTxs = usePendingTransactions()\n  const displayTx = getTransactionFromMap(pendingTxs, displayTxHash)\n\n  const onSupportedNetwork = useOnSupportedNetwork()\n  const isDisabled = !(active && onSupportedNetwork)\n\n  const focused = useHasFocus(wrapper)\n\n  return (\n    <>\n      <Header title={<Trans>Swap</Trans>}>\n        <Wallet disabled={!active || Boolean(account)} onClick={props.onConnectWallet} />\n        <Settings disabled={isDisabled} />\n      </Header>\n      <div ref={setWrapper}>\n        <BoundaryProvider value={wrapper}>\n          <SwapInfoProvider disabled={isDisabled}>\n            <Input disabled={isDisabled} focused={focused} onChange={props.onChange} />\n            <ReverseButton disabled={isDisabled} />\n            <Output disabled={isDisabled} focused={focused} onChange={props.onChange}>\n              <Toolbar />\n            </Output>\n          </SwapInfoProvider>\n        </BoundaryProvider>\n      </div>\n      {displayTx && (\n        <Dialog color=\"dialog\">\n          <StatusDialog tx={displayTx} onClose={() => setDisplayTxHash()} />\n        </Dialog>\n      )}\n    </>\n  )\n}\n","import { i18n } from '@lingui/core'\nimport { I18nProvider } from '@lingui/react'\nimport { DEFAULT_LOCALE, SupportedLocale } from 'constants/locales'\nimport {\n  af,\n  ar,\n  ca,\n  cs,\n  da,\n  de,\n  el,\n  en,\n  es,\n  fi,\n  fr,\n  he,\n  hu,\n  id,\n  it,\n  ja,\n  ko,\n  nl,\n  no,\n  pl,\n  pt,\n  ro,\n  ru,\n  sr,\n  sv,\n  sw,\n  tr,\n  uk,\n  vi,\n  zh,\n} from 'make-plural/plurals'\nimport { PluralCategory } from 'make-plural/plurals'\nimport { ReactNode, useEffect } from 'react'\n\ntype LocalePlural = {\n  [key in SupportedLocale]: (n: number | string, ord?: boolean) => PluralCategory\n}\n\nconst plurals: LocalePlural = {\n  'af-ZA': af,\n  'ar-SA': ar,\n  'ca-ES': ca,\n  'cs-CZ': cs,\n  'da-DK': da,\n  'de-DE': de,\n  'el-GR': el,\n  'en-US': en,\n  'es-ES': es,\n  'fi-FI': fi,\n  'fr-FR': fr,\n  'he-IL': he,\n  'hu-HU': hu,\n  'id-ID': id,\n  'it-IT': it,\n  'ja-JP': ja,\n  'ko-KR': ko,\n  'nl-NL': nl,\n  'no-NO': no,\n  'pl-PL': pl,\n  'pt-BR': pt,\n  'pt-PT': pt,\n  'ro-RO': ro,\n  'ru-RU': ru,\n  'sr-SP': sr,\n  'sv-SE': sv,\n  'sw-TZ': sw,\n  'tr-TR': tr,\n  'uk-UA': uk,\n  'vi-VN': vi,\n  'zh-CN': zh,\n  'zh-TW': zh,\n  pseudo: en,\n}\n\nexport async function dynamicActivate(locale: SupportedLocale) {\n  i18n.loadLocaleData(locale, { plurals: () => plurals[locale] })\n  try {\n    const catalog = await import(`./locales/${locale}.js`)\n    // Bundlers will either export it as default or as a named export named default.\n    i18n.load(locale, catalog.messages || catalog.default.messages)\n  } catch {}\n  i18n.activate(locale)\n}\n\ninterface ProviderProps {\n  locale: SupportedLocale\n  forceRenderAfterLocaleChange?: boolean\n  onActivate?: (locale: SupportedLocale) => void\n  children: ReactNode\n}\n\nexport function Provider({ locale, forceRenderAfterLocaleChange = true, onActivate, children }: ProviderProps) {\n  useEffect(() => {\n    dynamicActivate(locale)\n      .then(() => onActivate?.(locale))\n      .catch((error) => {\n        console.error('Failed to activate locale', locale, error)\n      })\n  }, [locale, onActivate])\n\n  // Initialize the locale immediately if it is DEFAULT_LOCALE, so that keys are shown while the translation messages load.\n  // This renders the translation _keys_, not the translation _messages_, which is only acceptable while loading the DEFAULT_LOCALE,\n  // as [there are no \"default\" messages](https://github.com/lingui/js-lingui/issues/388#issuecomment-497779030).\n  // See https://github.com/lingui/js-lingui/issues/1194#issuecomment-1068488619.\n  if (i18n.locale === undefined && locale === DEFAULT_LOCALE) {\n    i18n.loadLocaleData(DEFAULT_LOCALE, { plurals: () => plurals[DEFAULT_LOCALE] })\n    i18n.load(DEFAULT_LOCALE, {})\n    i18n.activate(DEFAULT_LOCALE)\n  }\n\n  return (\n    <I18nProvider forceRenderOnLocaleChange={forceRenderAfterLocaleChange} i18n={i18n}>\n      {children}\n    </I18nProvider>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport { Component, ErrorInfo, PropsWithChildren } from 'react'\n\nimport Dialog from '../Dialog'\nimport ErrorDialog from './ErrorDialog'\n\nexport type ErrorHandler = (error: Error, info: ErrorInfo) => void\n\ninterface ErrorBoundaryProps {\n  onError?: ErrorHandler\n}\n\ntype ErrorBoundaryState = {\n  error: Error | null\n}\n\nexport default class ErrorBoundary extends Component<PropsWithChildren<ErrorBoundaryProps>, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props)\n    this.state = { error: null }\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    return { error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    this.props.onError?.(error, errorInfo)\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <Dialog color=\"dialog\">\n          <ErrorDialog\n            error={this.state.error}\n            header={<Trans>Something went wrong.</Trans>}\n            action={<Trans>Reload the page</Trans>}\n            onClick={() => window.location.reload()}\n          />\n        </Dialog>\n      )\n    }\n    return this.props.children\n  }\n}\n","import { JsonRpcProvider } from '@ethersproject/providers'\nimport { TokenInfo } from '@uniswap/token-lists'\nimport { Provider as Eip1193Provider } from '@web3-react/types'\nimport { DEFAULT_LOCALE, SUPPORTED_LOCALES, SupportedLocale } from 'constants/locales'\nimport { SwapInfo } from 'hooks/swap/useSwapInfo'\nimport { TransactionsUpdater } from 'hooks/transactions'\nimport { ActiveWeb3Provider } from 'hooks/useActiveWeb3React'\nimport { BlockNumberProvider } from 'hooks/useBlockNumber'\nimport { TokenListProvider } from 'hooks/useTokenList'\nimport { Provider as I18nProvider } from 'i18n'\nimport { Provider as AtomProvider } from 'jotai'\nimport { PropsWithChildren, StrictMode, useMemo, useState } from 'react'\nimport { Provider as ReduxProvider } from 'react-redux'\nimport { MulticallUpdater, store as multicallStore } from 'state/multicall'\nimport styled, { keyframes } from 'styled-components/macro'\nimport { Theme, ThemeProvider } from 'theme'\nimport { UNMOUNTING } from 'utils/animations'\n\nimport { Modal, Provider as DialogProvider } from './Dialog'\nimport ErrorBoundary, { ErrorHandler } from './Error/ErrorBoundary'\n\nconst WidgetWrapper = styled.div<{ width?: number | string }>`\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  background-color: ${({ theme }) => theme.container};\n  border-radius: ${({ theme }) => theme.borderRadius}em;\n  box-sizing: border-box;\n  color: ${({ theme }) => theme.primary};\n  display: flex;\n  flex-direction: column;\n  font-feature-settings: 'ss01' on, 'ss02' on, 'cv01' on, 'cv03' on;\n  font-size: 16px;\n  font-smooth: always;\n  font-variant: none;\n  height: 360px;\n  min-width: 300px;\n  padding: 0.25em;\n  position: relative;\n  user-select: none;\n  width: ${({ width }) => width && (isNaN(Number(width)) ? width : `${width}px`)};\n\n  * {\n    box-sizing: border-box;\n    font-family: ${({ theme }) => (typeof theme.fontFamily === 'string' ? theme.fontFamily : theme.fontFamily.font)};\n\n    @supports (font-variation-settings: normal) {\n      font-family: ${({ theme }) => (typeof theme.fontFamily === 'string' ? undefined : theme.fontFamily.variable)};\n    }\n  }\n`\n\nconst slideIn = keyframes`\n  from {\n    transform: translateY(calc(100% - 0.25em));\n  }\n`\nconst slideOut = keyframes`\n  to {\n    transform: translateY(calc(100% - 0.25em));\n  }\n`\n\nconst DialogWrapper = styled.div`\n  border-radius: ${({ theme }) => theme.borderRadius * 0.75}em;\n  height: calc(100% - 0.5em);\n  left: 0;\n  margin: 0.25em;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  width: calc(100% - 0.5em);\n\n  @supports (overflow: clip) {\n    overflow: clip;\n  }\n\n  ${Modal} {\n    animation: ${slideIn} 0.25s ease-in;\n\n    &.${UNMOUNTING} {\n      animation: ${slideOut} 0.25s ease-out;\n    }\n  }\n`\nexport type OnChange = (e: SwapInfo) => void\nexport type WidgetProps = {\n  accounts: string[]\n  theme?: Theme\n  locale?: SupportedLocale\n  provider?: Eip1193Provider | JsonRpcProvider\n  jsonRpcEndpoint?: string | JsonRpcProvider\n  tokenList?: string | TokenInfo[]\n  width?: string | number\n  dialog?: HTMLElement | null\n  className?: string\n  onError?: ErrorHandler\n  onChange?: OnChange\n}\n\n// const getCustomProvider = () => {\n//   const provider = new ethers.providers.JsonRpcProvider('https://rinkeby.infura.io/v3/14c73ecdbcaa464585aa7c438fdf6a77')\n//   const jsonRpcEndpoint = 'https://rinkeby.infura.io/v3/14c73ecdbcaa464585aa7c438fdf6a77'\n\n//   return { provider, jsonRpcEndpoint }\n// }\n\nexport default function Widget(props: PropsWithChildren<WidgetProps>) {\n  const { children, theme, provider, jsonRpcEndpoint, accounts, dialog: userDialog, className, onError } = props\n\n  const width = useMemo(() => {\n    if (props.width && props.width < 300) {\n      console.warn(`Widget width must be at least 300px (you set it to ${props.width}). Falling back to 300px.`)\n      return 300\n    }\n    return props.width ?? 360\n  }, [props.width])\n  const locale = useMemo(() => {\n    if (props.locale && ![...SUPPORTED_LOCALES, 'pseudo'].includes(props.locale)) {\n      console.warn(`Unsupported locale: ${props.locale}. Falling back to ${DEFAULT_LOCALE}.`)\n      return DEFAULT_LOCALE\n    }\n    return props.locale ?? DEFAULT_LOCALE\n  }, [props.locale])\n\n  const [dialog, setDialog] = useState<HTMLDivElement | null>(null)\n\n  return (\n    <StrictMode>\n      <ThemeProvider theme={theme}>\n        <WidgetWrapper width={width} className={className}>\n          <I18nProvider locale={locale}>\n            <DialogWrapper ref={setDialog} />\n            <DialogProvider value={userDialog || dialog}>\n              <ErrorBoundary onError={onError}>\n                <ReduxProvider store={multicallStore}>\n                  <AtomProvider>\n                    <ActiveWeb3Provider provider={provider} jsonRpcEndpoint={jsonRpcEndpoint} accounts={accounts}>\n                      <BlockNumberProvider>\n                        <MulticallUpdater />\n                        <TransactionsUpdater />\n                        <TokenListProvider list={props.tokenList}>{children}</TokenListProvider>\n                      </BlockNumberProvider>\n                    </ActiveWeb3Provider>\n                  </AtomProvider>\n                </ReduxProvider>\n              </ErrorBoundary>\n            </DialogProvider>\n          </I18nProvider>\n        </WidgetWrapper>\n      </ThemeProvider>\n    </StrictMode>\n  )\n}\n","import Swap, { SwapProps } from 'components/Swap'\nimport Widget, { WidgetProps } from 'components/Widget'\nexport type { Provider as EthersProvider } from '@ethersproject/abstract-provider'\nexport type { TokenInfo } from '@uniswap/token-lists'\nexport type { Provider as Eip1193Provider } from '@web3-react/types'\nexport type { ErrorHandler } from 'components/Error/ErrorBoundary'\nexport { SupportedChainId } from 'constants/chains'\nexport type { SupportedLocale } from 'constants/locales'\nexport { DEFAULT_LOCALE, SUPPORTED_LOCALES } from 'constants/locales'\nexport type { FeeOptions } from 'hooks/swap/useSyncConvenienceFee'\nexport type { DefaultAddress, TokenDefaults } from 'hooks/swap/useSyncTokenDefaults'\nexport type { Theme } from 'theme'\nexport { darkTheme, defaultTheme, lightTheme } from 'theme'\n\nexport type SwapWidgetProps = SwapProps & WidgetProps\n\nexport function SwapWidget(props: SwapWidgetProps) {\n  return (\n    <Widget {...props}>\n      <Swap {...props} />\n    </Widget>\n  )\n}\n"],"names":["I18nProvider","process","env","NODE_ENV","I18nProviderProd","devI18nProvider","Trans","TransProd","devTrans","useLingui","useLinguiProd","devuseLingui","withI18nProd","devwithI18n","parseChainId","chainId","Number","parseInt","JsonRpcConnector","actions","customProvider","on","update","error","reportError","accounts","startActivation","Promise","all","getNetwork","listAccounts","Connector","initializeConnector","EMPTY","EMPTY_CONNECTOR","EMPTY_HOOKS","EMPTY_STATE","connector","hooks","EMPTY_CONTEXT","Web3Context","createContext","useActiveWeb3React","useContext","ActiveWeb3Provider","jsonRpcEndpoint","provider","children","network","useMemo","JsonRpcProvider","isProvider","Url","activate","wallet","Error","EIP1193","useIsActive","account","activating","useIsActivating","active","useChainId","useError","library","useProvider","web3","useEffect","console","_jsxDEV","SupportedChainId","MAINNET","ROPSTEN","RINKEBY","GOERLI","KOVAN","POLYGON","POLYGON_MUMBAI","ARBITRUM_ONE","ARBITRUM_RINKEBY","OPTIMISM","OPTIMISTIC_KOVAN","ALL_SUPPORTED_CHAIN_IDS","Object","values","filter","id","SUPPORTED_GAS_ESTIMATE_CHAIN_IDS","L2_CHAIN_IDS","DEFAULT_NETWORKS","constructSameAddressMap","address","additionalNetworks","concat","reduce","memo","UNI_ADDRESS","MULTICALL_ADDRESS","V2_FACTORY_ADDRESSES","V2_FACTORY_ADDRESS","V3_CORE_FACTORY_ADDRESSES","V3_FACTORY_ADDRESS","QUOTER_ADDRESSES","ENS_REGISTRAR_ADDRESSES","USDC_MAINNET","Token","USDC_ROPSTEN","USDC_RINKEBY","USDC_GOERLI","USDC_KOVAN","USDC_OPTIMISM","USDC_OPTIMISTIC_KOVAN","USDC_ARBITRUM","USDC_ARBITRUM_RINKEBY","USDC_POLYGON","USDC_POLYGON_MUMBAI","AMPL","DAI","DAI_ARBITRUM_ONE","DAI_OPTIMISM","DAI_POLYGON","USDT_POLYGON","WBTC_POLYGON","USDT","USDT_ARBITRUM_ONE","USDT_OPTIMISM","WBTC","WBTC_ARBITRUM_ONE","WBTC_OPTIMISM","FEI","TRIBE","FRAX","FXS","renBTC","ETH2X_FLI","sETH2","rETH2","SWISE","WETH_POLYGON_MUMBAI","WETH_POLYGON","WRAPPED_NATIVE_CURRENCY","WETH9","isMatic","MaticNativeCurrency","other","isNative","wrapped","invariant","NativeCurrency","ExtendedEther","_cachedExtendedEther","Ether","cachedNativeCurrency","nativeOnChain","onChain","USDC","isVisibilityStateSupported","document","isWindowVisible","visibilityState","useIsWindowVisible","useState","focused","setFocused","listener","useCallback","undefined","addEventListener","removeEventListener","MISSING_PROVIDER","Symbol","BlockNumberContext","useBlockNumberContext","blockNumber","useBlockNumber","value","useFastForwardBlockNumber","fastForward","BlockNumberProvider","activeChainId","block","setChainBlock","onBlock","chainBlock","windowVisible","stale","getBlockNumber","then","off","isAddress","getAddress","getSigner","connectUnchecked","getProviderOrSigner","getContract","ABI","AddressZero","Contract","QuoterABI","QuoterJson","abi","MulticallABI","UniswapInterfaceMulticallJson","useContract","addressOrAddressMap","withSignerIfPossible","useTokenContract","tokenAddress","ERC20_ABI","useWETHContract","WETH_ABI","useENSRegistrarContract","ENS_ABI","useENSResolverContract","ENS_PUBLIC_RESOLVER_ABI","useBytes32TokenContract","ERC20_BYTES32_ABI","useInterfaceMulticall","useV3Quoter","multicall","createMulticall","reducer","combineReducers","reducerPath","store","createStore","MulticallUpdater","latestBlockNumber","contract","useMultipleContractSingleData","useCallContext","latestBlock","args","useSingleCallResult","useSingleContractMultipleData","useSingleContractWithCallData","useNativeCurrencyBalances","uncheckedAddresses","multicallContract","validAddressInputs","map","a","sort","addr","results","i","result","CurrencyAmount","fromRawAmount","JSBI","BigInt","toString","ERC20Interface","Interface","ERC20ABI","tokenBalancesGasRequirement","gasRequired","useTokenBalancesWithLoadingIndicator","tokens","validatedTokens","t","validatedTokenAddresses","vt","balances","anyLoading","some","callState","loading","length","token","amount","useTokenBalances","useCurrencyBalances","currencies","currency","isToken","tokenBalances","containsETH","ethBalance","useCurrencyBalance","useNativeCurrency","isZero","hexNumberString","test","safeNamehash","name","namehash","debug","useDebounce","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useENSAddress","ensName","debouncedName","ensNodeArgument","registrarContract","resolverAddress","resolverAddressResult","resolverContract","changed","CHAIN_DATA_ABI","inputs","outputs","internalType","type","stateMutability","useGasPrice","resultStr","tryParseCurrencyAmount","typedValueParsed","parseUnits","decimals","DEFAULT_DEADLINE_FROM_NOW","L2_DEADLINE_FROM_NOW","BIPS_BASE","Percent","ALLOWED_PRICE_IMPACT_MEDIUM","ALLOWED_PRICE_IMPACT_HIGH","BETTER_TRADE_LESS_HOPS_THRESHOLD","ZERO_PERCENT","ONE_HUNDRED_PERCENT","isTradeBetter","tradeA","tradeB","minimumDelta","tradeType","inputAmount","equals","outputAmount","equalTo","executionPrice","lessThan","asFraction","multiply","add","WRAPPED_NATIVE_CURRENCIES_ONLY","fromEntries","entries","key","Boolean","BASES_TO_CHECK_TRADES_AGAINST","ADDITIONAL_BASES","CUSTOM_BASES","useAllCurrencyCombinations","currencyA","currencyB","tokenA","tokenB","bases","common","additionalA","additionalB","basePairs","flatMap","base","otherBase","t0","t1","otherPairs","firstIndexInOtherPairs","findIndex","t0Other","t1Other","customBases","customBasesA","customBasesB","find","PAIR_INTERFACE","IUniswapV2PairABI","PairState","useV2Pairs","pairAddresses","computePairAddress","factoryAddress","reserves","LOADING","INVALID","NOT_EXISTS","reserve0","reserve1","sortsBefore","token0","token1","EXISTS","Pair","useAllCommonPairs","allCurrencyCombinations","allPairs","pair","MAX_HOPS","useBestV2Trade","amountSpecified","otherCurrency","maxHops","TradeType","EXACT_INPUT","currencyIn","currencyOut","allowedPairs","options","maxNumResults","amountIn","Trade","bestTradeExactIn","amountOut","bestTradeExactOut","bestTradeSoFar","currentTrade","TradeState","InterfaceTrade","gasUseEstimateUSD","routes","POOL_STATE_INTERFACE","IUniswapV3PoolStateABI","PoolCache","fee","addresses","MAX_ENTRIES","slice","addressA","addressB","found","computePoolAddress","unshift","sqrtPriceX96","liquidity","tick","pools","pool","EQ","sqrtRatioX96","tickCurrent","Pool","PoolState","usePools","poolKeys","poolTokens","Array","feeAmount","poolAddresses","v3CoreFactoryAddress","getPoolAddress","slot0s","liquidities","_key","index","slot0","slot0Loading","slot0Valid","valid","liquidityLoading","liquidityValid","eq","getPool","useV3SwapPools","allCurrencyCombinationsWithAllFees","list","FeeAmount","LOW","MEDIUM","HIGH","LOWEST","tuple","state","poolEquals","poolA","poolB","computeAllRoutes","currentPath","allPaths","startCurrencyIn","tokenIn","tokenOut","involvesToken","pathPool","outputToken","push","Route","useAllV3Routes","poolsLoading","QUOTE_GAS_OVERRIDES","DEFAULT_GAS_QUOTE","useClientSideV3Trade","routesLoading","quoter","callData","route","SwapQuoter","quoteCallParameters","calldata","quotesResults","trade","currentBest","quotient","bestRoute","greaterThan","NO_ROUTE_FOUND","VALID","v2Routes","v3Routes","routev3","STABLECOIN_AMOUNT_OUT","useUSDCPrice","stablecoin","v2USDCTrade","EXACT_OUTPUT","v3USDCTrade","price","Price","midPrice","numerator","denominator","lastPrice","useRef","current","useUSDCValue","currencyAmount","quote","useStablecoinAmountFromFiatValue","fiatValue","parsedForDecimals","parseFloat","toFixed","V3_SWAP_DEFAULT_SLIPPAGE","ONE_TENTHS_PERCENT","DEFAULT_AUTO_SLIPPAGE","guesstimateGas","swaps","swap","MIN_AUTO_SLIPPAGE_TOLERANCE","MAX_AUTO_SLIPPAGE_TOLERANCE","useAutoSlippageTolerance","onL2","includes","outputDollarValue","nativeGasPrice","gasEstimate","nativeCurrency","nativeCurrencyPrice","nativeGasCost","dollarGasCost","dollarCostToUse","fraction","divide","pickAtom","anAtom","setter","draft","atom","get","set","withImmer","derived","setTogglable","initialSettings","autoSlippage","maxSlippage","transactionTtl","mockTogglable","clientSideRouter","settingsAtom","atomWithReset","autoSlippageAtom","maxSlippageAtom","transactionTtlAtom","toPercent","Math","floor","DEFAULT_SLIPPAGE","auto","allowed","useSlippage","shouldUseAutoSlippage","useAtomValue","maxSlippageValue","warning","getSlippageWarning","MAX_VALID_SLIPPAGE","MIN_HIGH_SLIPPAGE","slippage","computeFiatValuePriceImpact","fiatValueInput","fiatValueOutput","equal","pct","subtract","THIRTY_BIPS_FEE","getPriceImpactWarning","priceImpact","useUSDCPriceImpact","inputUSDC","outputUSDC","impact","percent","toHumanReadablePriceImpact","sign","number","toSignificant","Field","swapAtom","atomWithImmer","independentField","INPUT","displayTxHashAtom","feeOptionsAtom","useLast","filterFn","last","setLast","shouldUse","computeRoutes","quoteResult","parsedTokenIn","parseToken","parsedTokenOut","parsedCurrencyIn","parsedCurrencyOut","rawAmountIn","rawAmountOut","isV3Route","V3Route","parsePool","routev2","V2Route","parsePair","e","transformRoutesToTrade","r","symbol","WrapType","useWrapCallback","wrappedNativeCurrencyContract","inputCurrency","outputCurrency","OUTPUT","wrapType","WRAP","UNWRAP","NONE","parsedAmountIn","balanceIn","callback","deposit","withdraw","oldestBlockMapAtom","DEFAULT_MAX_BLOCK_AGE","useGetIsValidBlock","maxBlockAge","currentBlock","oldestBlockMap","oldestBlock","DEFAULT_POLLING_INTERVAL","DEFAULT_KEEP_UNUSED_DATA_FOR","usePoll","fetch","debounce","isStale","pollingInterval","keepUnusedDataFor","cache","Map","setData","timeout","entry","ttl","poll","Date","now","max","data","forEach","useRoutingAPIArguments","useClientSideRouter","tokenInAddress","tokenInChainId","tokenInDecimals","tokenInSymbol","tokenOutAddress","tokenOutChainId","tokenOutDecimals","tokenOutSymbol","DistributionPercents","DEFAULT_DISTRIBUTION_PERCENT","getConfig","protocols","Protocol","V2","V3","distributionPercent","useClientSideSmartOrderRouterTrade","debouncedAmount","debouncedCurrencyIn","debouncedCurrencyOut","isDebouncing","queryArgs","params","config","getQuoteResult","getClientSideQuote","resolve","setImmediate","getIsValidBlock","JSON","stringify","isValid","SYNCING","otherAmount","INVALID_TRADE","useBestTrade","clientSORTradeObject","useFallback","fallbackTradeObject","tradeObject","lastTrade","useComputeSwapInfo","isWrapping","isExactIn","parsedAmount","hasAmounts","balanceOut","balance","usdc","DEFAULT_SWAP_INFO","SwapInfoContext","SwapInfoProvider","disabled","swapInfo","useSwapInfo","useSyncConvenienceFee","convenienceFee","convenienceFeeRecipient","updateFeeOptions","useUpdateAtom","recipient","REGISTRAR_ABI","constant","payable","REGISTRAR_ADDRESS","RESOLVER_ABI","resolveENSContentHash","ensRegistrarContract","hash","resolver","contenthash","hexToUint8Array","hex","startsWith","substr","arr","Uint8Array","UTF_8_DECODER","TextDecoder","contenthashToUri","codec","getNameFromData","unprefixedData","rmPrefix","cid","CID","toB58String","multihash","decode","digest","trim","ENS_NAME_REGEX","parseENSAddress","ensAddress","match","toLowerCase","ensPath","uriToHttp","uri","protocol","split","tx","ValidationSchema","validator","ajv","schema","allErrors","addSchema","LIST","$id","required","TOKENS","getValidationErrors","validate","errors","dataPath","message","join","validateTokens","json","getSchema","validateTokenList","listCache","fetchTokenList","listUrl","cached","parsedENS","contentHashUri","translatedUri","urls","url","isLast","response","credentials","ok","statusText","WrappedTokenInfo","tokenInfo","_checksummedAddress","checksummedAddress","logoURI","_tags","tags","listTags","tagId","mapCache","WeakMap","tokensToChainTokenMap","isArray","infos","info","warn","alwaysTrue","getTokenFilter","query","searchingAddress","queryParts","s","parts","every","p","sp","endsWith","balanceComparator","b","tokenComparator","balanceComparison","useSortTokensByQuery","matches","exactMatches","symbolSubtrings","rest","useQueryTokens","sortedTokens","from","bind","debouncedQuery","filteredTokens","queriedTokens","native","DEFAULT_TOKEN_LIST","ChainTokenMapContext","useChainTokenMapContext","chainTokenMap","useIsTokenListLoaded","useTokenList","tokenMap","useTokenMap","TokenListProvider","setError","setChainTokenMap","activateList","BYTES32_REGEX","parseStringOrBytes32","str","bytes32","defaultValue","arrayify","parseBytes32String","useTokenFromNetwork","formattedAddress","tokenContract","tokenContractBytes32","tokenName","NEVER_RELOAD","tokenNameBytes32","symbolBytes32","useTokenFromMapOrNetwork","tokenFromNetwork","useToken","useOnSupportedNetwork","useDefaultToken","defaultAddress","onSupportedNetwork","useSyncTokenDefaults","defaultInputTokenAddress","defaultInputAmount","defaultOutputTokenAddress","defaultOutputAmount","updateSwap","defaultOutputToken","defaultInputToken","setToDefaults","defaultSwapState","lastChainId","isTokenListLoaded","shouldSync","TransactionType","transactionsAtom","wait","ms","waitRandom","min","round","random","CancelledError","RetryableError","retry","fn","n","minWait","maxWait","completed","rejectCancelled","promise","reject","isRetryableError","cancel","shouldCheck","lastBlockNumber","receipt","lastCheckedBlockNumber","blocksSinceCheck","minutesPending","getTime","addedTime","RETRY_OPTIONS_BY_CHAIN_ID","DEFAULT_RETRY_OPTIONS","Updater","pendingTransactions","onCheck","onReceipt","fastForwardBlockNumber","getReceipt","retryOptions","getTransactionReceipt","cancels","keys","isCancelledError","usePendingTransactions","txs","TransactionsUpdater","updateTxs","useHasFocus","node","HTMLElement","tabIndex","style","outline","contains","activeElement","hasFocus","setHasFocus","onFocus","onBlur","relatedTarget","_path","_extends","_circle","_mask","loadingOpacity","loadingCss","css","loadingTransitionCss","isLoading","icon","Icon","styled","color","theme","largeIconCss","iconSize","LargeWrapper","div","LargeIcon","size","className","AlertTriangle","AlertTriangleIcon","ArrowDown","ArrowDownIcon","ArrowRight","ArrowRightIcon","ArrowUp","ArrowUpIcon","CheckCircle","CheckCircleIcon","BarChart2Icon","ChevronDown","ChevronDownIcon","Clock","ClockIcon","HelpCircle","HelpCircleIcon","Info","InfoIcon","Link","LinkIcon","AutoRouter","RouterIcon","Settings","SettingsIcon","SlashIcon","Trash2Icon","Wallet","WalletIcon","X","XIcon","XOctagon","XOctagonIcon","Check","CheckIcon","Expando","ExpandoIcon","open","Logo","LogoIcon","secondary","rotate","keyframes","Spinner","SpinnerIcon","InlineSpinner","InlineSpinnerIcon","black","white","light","interactive","transparentize","primary","onInteractive","dark","getDynamicTheme","colors","readableColor","module","onHover","opacify","getAccessibleColor","dynamic","AAscore","contrastify","darken","lighten","DynamicThemeProvider","useTheme","accessibleColor","_ThemeProvider","Layer","TextWrapper","Text","lineHeight","userSelect","noWrap","TransitionTextWrapper","H2","props","Subhead1","Subhead2","Body1","Body2","Caption","Badge","ButtonLarge","ButtonMedium","ButtonSmall","TransitionButton","buttonSize","fontSize","small","medium","large","Code","fontFamilyCode","brandLight","brandDark","brand","stateColors","success","lightTheme","accent","container","dialog","onAccent","hint","currentColor","darkTheme","defaultTheme","borderRadius","fontFamily","font","variable","tokenColorExtraction","ThemeContext","toComputedTheme","ThemeProvider","contextTheme","clamp","isFinite","mix","isAnimating","getAnimations","UNMOUNTING","delayUnmountForAnimation","parent","parentElement","removeChild","child","classList","call","BaseButton","button","transitionCss","transition","transparentButton","defaultColor","TextButton","SecondaryButton","IconButton","forwardRef","ref","iconProps","Column","align","flex","grow","gap","justify","padded","Row","Children","count","pad","HeaderRow","Header","title","ThemedText.Subhead1","Rule","hr","scrollingEdge","Context","element","setActive","Provider","context","inert","isolation","OnCloseContext","ruled","BaseHeader","Modal","DIALOG","Dialog","onClose","modal","close","createPortal","BoundaryContext","BoundaryProvider","PopoverContainer","show","TOOLTIP","Reference","Arrow","Popover","content","placement","offset","contained","boundary","reference","popover","setPopover","arrow","setArrow","modifiers","padding","maxSize","enabled","phase","requires","width","modifiersData","styles","popper","maxWidth","strategy","usePopper","attributes","WalletButton","hidden","onClick","ThemedText.Caption","otherField","field","useSwitchSwapCurrencies","oldOutput","useSwapCurrency","otherAtom","useAtom","setCurrency","switchSwapCurrencies","setOrSwitchCurrency","independentFieldAtom","useIsSwapFieldIndependent","amountAtom","useIsAmountPopulated","useSwapAmount","isFieldIndependent","updateAmount","useSwapCurrencyAmount","isAmountPopulated","swapAmount","swapCurrency","useENSContentHash","useHttpLocations","ens","resolvedContentHash","chainIdToNetworkName","networkId","getNativeLogoURI","MaticLogo","EthereumLogo","getTokenLogoURI","networkName","networksWithUrls","useCurrencyLogoURIs","locations","logoURIs","getColorFromLogoURIs","cb","getColorFromUriPath","Vibrant","getPalette","palette","usePrefetchCurrencyColor","useCurrencyColor","setColor","SUPPORTED_LOCALES","DEFAULT_LOCALE","formatLocaleNumber","locale","sigFigs","fixedDecimals","localeArg","minimumFractionDigits","maximumFractionDigits","maximumSignificantDigits","numberString","baseString","toLocaleString","formatCurrencyAmount","decimalScale","Fraction","formatPrice","MIN_NATIVE_CURRENCY_FOR_GAS","exponentiate","maxAmountSpend","badSrcs","Set","MissingTokenImg","img","TokenImg","srcs","alt","attempt","setAttempt","src","has","onError","missingTokenSrc","sqrt","Input","input","StringInput","onChange","target","placeholder","NumericInput","enforcer","pattern","validateChange","event","nextInput","replace","integerRegexp","integerEnforcer","nextUserInput","isNaN","IntegerInput","decimalRegexp","decimalEnforcer","DecimalInput","inputCss","peg$subclass","ctor","constructor","prototype","peg$SyntaxError","expected","location","captureStackTrace","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","text","escapedParts","classEscape","inverted","any","end","description","ch","charCodeAt","toUpperCase","describeExpectation","describeExpected","descriptions","j","describeFound","peg$parse","peg$FAILED","peg$startRuleFunctions","start","peg$parsestart","peg$startRuleFunction","peg$c0","peg$c1","peg$literalExpectation","peg$c2","inPlural","peg$c3","peg$c4","peg$c5","peg$c6","peg$c7","peg$c8","peg$c9","arg","peg$c10","peg$c11","peg$c12","peg$c13","peg$c14","m","strict","peg$c15","cases","shift","peg$c16","peg$c17","peg$c18","peg$c19","peg$c20","peg$c21","ls","ordinal","cardinal","c","indexOf","peg$c22","param","peg$c23","peg$otherExpectation","peg$c24","peg$c25","peg$classExpectation","peg$c26","peg$c27","peg$c28","peg$c29","peg$c30","peg$c31","peg$c32","peg$c33","d","peg$c34","peg$c35","peg$c36","peg$c37","peg$c38","peg$c39","peg$c40","peg$c41","peg$c42","peg$c43","peg$c44","peg$c45","peg$c46","peg$c47","peg$c48","peg$c49","peg$c50","peg$c51","peg$c52","peg$c53","peg$c54","peg$c55","peg$c56","peg$c57","peg$c58","peg$c59","quoted","peg$c60","peg$c61","peg$c62","peg$c63","peg$c64","peg$c65","peg$c66","peg$c67","peg$c68","peg$c69","peg$c70","peg$c71","peg$c72","peg$c73","peg$c74","peg$c75","peg$c76","peg$c77","quotedOcto","peg$c78","peg$c79","peg$c80","peg$c81","octo","peg$c82","peg$c83","peg$c84","peg$c85","peg$c86","peg$c87","peg$c88","peg$currPos","peg$posDetailsCache","line","column","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","peg$result","startRule","ignoreCase","peg$endExpectation","peg$computePosDetails","pos","details","peg$computeLocation","startPos","endPos","startPosDetails","endPosDetails","peg$fail","peg$buildStructuredError","s0","s1","peg$parsetoken","s2","peg$parseargument","peg$parseselect","peg$parseplural","peg$parsefunction","peg$parsechar","s3","s4","s5","peg$parse_","peg$parseid","s6","s7","s8","s9","s10","s11","s12","s13","peg$parseselectCase","s14","peg$parseoffset","peg$parsepluralCase","peg$parsefunctionKey","peg$parsefunctionParam","charAt","substring","peg$parsecaseTokens","peg$parsepluralKey","peg$parsedigits","peg$parsestrictFunctionParamPart","peg$parsedoubleapos","peg$parseinapos","peg$parsequotedCurly","peg$parsequoted","peg$parseplainChar","parser","SyntaxError","parse","i18n","i18nProd","i18nDev","setupI18nProd","setupI18nDev","formatsProd","formatsDev","I18nProd","I18nDev","StyledColumn","NoTokensAvailableOnNetwork","ThemedText.Body1","StyledTokenButton","Button","TokenButtonRow","collapsed","empty","TokenButton","buttonBackgroundColor","contentColor","shouldTransition","setShouldTransition","row","setRow","clientWidth","ThemedText.ButtonLarge","useNativeEvent","overflowCss","scrollbarCss","useScrollbar","hasOverflow","scrollHeight","clientHeight","currencyId","ITEM_SIZE","TokenList","FixedSizeList","hover","scrollbar","OnHover","TokenBalance","TokenOption","onEvent","itemKey","ItemRow","areEqual","TokenOptions","onSelect","selected","setSelected","setElement","scrollTo","scroll","scrollToItem","querySelector","focus","onKeyDown","preventDefault","blur","useImperativeHandle","onMouseMove","marginTop","scrollTop","overflow","height","Img","Name","Balance","TokenRow","display","TokenOptionsSkeleton","SearchInput","usePrefetchBalances","tokenList","prefetchedTokenList","useAreBalancesLoaded","TokenSelectDialog","setQuery","areBalancesLoaded","isLoaded","setIsLoaded","preventScroll","setOptions","listHasTokens","TokenSelect","setOpen","onOpen","selectAndClose","TokenInputRow","ValueInput","delayedFadeIn","MaxButton","TokenInput","onChangeInput","onChangeCurrency","maxButton","hasMax","showMax","setShowMax","onClickMax","setSelectionRange","ThemedText.H2","ThemedText.ButtonMedium","ThemedText","InputColumn","approved","useFormattedFieldAmount","fieldAmount","tradeCurrencyAmount","tradeState","updateInputAmount","updateInputCurrency","inputCurrencyAmount","isRouteLoading","isDependentField","mockApproved","maxAmount","toExact","balanceColor","insufficientBalance","ThemedText.Body2","ExternalLink","href","rel","UniswapA","BrandedFooter","colorAtom","OutputColumn","hasColor","Output","outputCurrencyAmount","swapOutputAmount","updateSwapOutputAmount","swapOutputCurrency","updateSwapOutputCurrency","overrideColor","dynamicColor","ReverseRow","OVERLAY","Overlay","StyledReverseButton","turns","ReverseButton","setTurns","switchCurrencies","useHasHover","hasHover","setHasHover","onMouseEnter","onMouseLeave","useTooltip","tooltip","IconTooltip","Tooltip","showTooltip","optionCss","Label","ThemedText.Subhead2","Custom","Option","Wrapper","wrapper","testid","Warning","MaxSlippageSelect","setAutoSlippage","setMaxSlippage","maxSlippageInput","setMaxSlippageInput","option","setWarning","onInputSelect","processInput","useDefaultTransactionTtl","useTransactionTtl","TransactionTtlInput","setTtl","defaultTtl","SettingsDialog","setBoundary","resetSettings","useResetAtom","ThemedText.ButtonSmall","paddingTop","SettingsButton","setHover","StyledButton","ActionRow","actionCss","hasAction","ActionButton","action","textColor","ThemedText.TransitionButton","HeaderColumn","ExpandoColumn","InnerColumn","onExpand","scrollingEl","setScrollingEl","HeaderIcon","StatusHeader","iconColor","flexGrow","textAlign","ErrorHeader","ErrorDialog","header","ThemedText.Code","ETHERSCAN_PREFIXES","ExplorerDataType","getExplorerLink","TRANSACTION","ADDRESS","TOKEN","BLOCK","prefix","StyledExternalLink","EtherscanLink","setBase","usdcPrice","invert","baseCurrency","quoteCurrency","TokenValue","Summary","output","useInterval","leading","savedCallback","setInterval","clearInterval","TransactionRow","ElapsedTime","elapsedMs","setElapsedMs","toElapsedTime","sec","TransactionStatus","status","heading","SWAP","unwrapped","SwapSummary","TransactionStatusDialog","V2_DEFAULT_FEE_TIER","getTokenPath","tokenPath","path","portion","nextPool","StyledAutoRouterLabel","Dots","DotLine","UNDERLAYER","RouteRow","RouteNode","RouteBadge","RouteDetail","ThemedText.Badge","RoutePool","originCurrency","targetCurrency","marginLeft","gridTemplateColumns","position","RoutingDiagram","Loading","span","caption","Connecting","ConnectWallet","UnsupportedNetwork","InsufficientBalance","InsufficientLiquidity","Empty","LoadingTrade","WrapCurrency","ToolbarRow","Toolbar","inputBalance","Caption.Connecting","Caption.ConnectWallet","Caption.UnsupportedNetwork","Caption.LoadingTrade","Caption.InsufficientBalance","Caption.WrapCurrency","Caption.InsufficientLiquidity","Caption.Trade","Caption.Error","Caption.Empty","IntegrationError","isAddressOrAddressMap","addressOrMap","useValidate","getTransactionFromMap","Swap","setWrapper","displayTxHash","setDisplayTxHash","pendingTxs","displayTx","isDisabled","onConnectWallet","StatusDialog","plurals","af","ar","ca","cs","da","de","el","en","es","fi","fr","he","hu","it","ja","ko","nl","no","pl","pt","ro","ru","sr","sv","sw","tr","uk","vi","zh","pseudo","dynamicActivate","loadLocaleData","catalog","load","messages","forceRenderAfterLocaleChange","onActivate","ErrorBoundary","errorInfo","window","reload","Component","WidgetWrapper","slideIn","slideOut","DialogWrapper","Widget","userDialog","setDialog","DialogProvider","ReduxProvider","multicallStore","AtomProvider","SwapWidget"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}